<head>
  <title>app2</title>
</head>

<body>
  <h1>Welcome to Meteor!</h1>
  {{> mailChimp}}
  {{> addAnnouncementTextMedia}}
  {{> addAnnouncementMedia}}
  {{> addAnnouncementText}}
  {{> announcements}}

  <h2>Algolia Search Engine</h2>
  {{> search}}
  {{> message}}
</body>

<template name="announcements">
  <h2>Announcement List</h2>
    <p>{{content.nbHits}} results. Here are the {{content.hitsPerPage}} first:</p>
    <ul>
        {{#each content.hits}}
            <li class="announcement">{{title}}</li>
        {{/each}}
    </ul>
</template>

<template name="message">
  <h2>Current message:</h2>
    {{#with post}}
      {{#if isTextMedia}}
         <h2>TEXTMEDIA</h2>
         <h3>{{title}}</h3>
         <p>{{text}}</p>
         {{> viewImage}}
      {{else}}
         {{#if isMedia}}
            <h2>MEDIA</h2>
            <h3>{{title}}</h3>
            {{> viewImage}}
         {{else}}
            {{#if isText}}
               <h2>TEXT</h2>
               <h3>{{title}}</h3>
               <p>{{text}}</p>
            {{else}}
               {{#if isBlog}}
                  <h2>BLOG</h2>
                  <h2></h2>
                  <h3></h3>
                  <p></p>
               {{/if}}
            {{/if}}
         {{/if}}
      {{/if}}
    {{/with}}
</template>

<template name="addAnnouncementTextMedia">
  <h2>New Announcement Text and Media</h2>
  <form class="new">
        <input type="text" name="title" placeholder="Title here" /> <br>
        <input type="text" name="text" placeholder="Message here" /> <br>
        <input type="checkbox" name="textFirst" value="textFirst" checked>Text First <br>
        {{> addImage}} <br>
        <input type="submit" value="Submit">
  </form>
</template>

<template name = "addAnnouncementMedia">
   <h2>New Announcement Media ONLY</h2>
   <form class="new">
         <input type="text" name="title" placeholder="Title here" /> <br>
         {{> addImage}} <br>
         <input type="submit" value="Submit">
   </form>
</template>

<template name = "addAnnouncementText">
   <h2>New Announcement Text ONLY</h2>
   <form class="new">
      <input type="text" name="title" placeholder="Title here" /> <br>
      <input type="text" name="text" placeholder="Message here" /> <br>
      <input type="submit" value="Submit">
   </form>
</template>

<template name="addImage">
    <input id="fileInput" type="file" />
</template>

<template name="viewImage">
  <h3>Image:</h3>
  {{#with image}}
  <div style="border:thin">
    <a href="{{this}}" target="_blank" class="thumbnail">
      <img src="{{this}}" />
    </a>
  </div>
  {{/with}}
</template>


<template name="search">
    <input type="search" id="mySearch" placeholder="Search for test">
    <button id="searchButton">Search</button>
    <p>{{content.nbHits}} results. Here are the {{content.hitsPerPage}} first:</p>
    <ul>
        {{#each content.hits}}
            <li class="announcement">{{title}}</li>
        {{/each}}
    </ul>
</template>

<template name="mailChimp">
   <h2>Add Subscriber</h2>
   <form class="new">
      <input type="text" name="email" placeholder="Email Address" /> <br>
      <input type="submit" value="Submit">
   </form>
</template>

<template name="course">
    {{> navigation oper="true"}}
    <div class="main post-body mb-60">
        <div class="container-fluid center-wrapper course-header">
            <div class="sections-container">
                {{# if isMobile}}
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-6 mb-30">
                            <div class="section-card">
                                <canvas id="knowledgeChart"></canvas>
                                <h3>{{_ "details.course.knowledge"}}</h3>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-6">
                            <div class="section-card">
                                <canvas id="thinkingChart"></canvas>
                                <h3>{{_ "details.course.thinking"}}</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-15">
                        <div class="col-md-3 col-sm-6 col-xs-6">
                            <div class="section-card">
                                <canvas id="communicationChart"></canvas>
                                <h3>{{_ "details.course.communication"}}</h3>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-6">
                            <div class="section-card">
                                <canvas id="applicationChart"></canvas>
                                <h3>{{_ "details.course.application"}}</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="section-card">
                                <h2 class="performance-mark">{{culminating}}</h2>
                                <h3 class="mt-0">{{_ "details.course.culminating"}}</h3>
                            </div>
                        </div>
                    </div>
                {{else}}
                    <div class="row">
                        <div class="col-md-3 col-sm-6 col-xs-6 mb-30">
                            <div class="section-card">
                                <canvas id="knowledgeChart" width="400" height="400"></canvas>
                                <h3>{{_ "details.course.knowledge"}}</h3>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-6">
                            <div class="section-card">
                                <canvas id="thinkingChart" width="400" height="400"></canvas>
                                <h3>{{_ "details.course.thinking"}}</h3>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-6">
                            <div class="section-card">
                                <canvas id="communicationChart" width="400" height="400"></canvas>
                                <h3>{{_ "details.course.communication"}}</h3>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 col-xs-6">
                            <div class="section-card">
                                <canvas id="applicationChart" width="400" height="400"></canvas>
                                <h3>{{_ "details.course.application"}}</h3>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="section-card">
                                <h2 class="performance-mark">{{culminating}}</h2>
                                <h3 class="mt-0">{{_ "details.course.culminating"}}</h3>
                            </div>
                        </div>
                    </div>
                {{/if}}

            </div>
            <div class="navbar-fixed-bottom text-center text-capitalize scroll-down hidden-xs">
                <p>{{_ "details.scroll"}}</p>
                <div class="bounce arrow"></div>
            </div>
        </div>
        <div class="container">
            <div class="row mt-30">
                <div class="col-md-12 text-center assessment-tabs">
                    <div class="button-group filter-button-group mb-30">
                        <button class="filter-btn is-checked" data-tab="assessments">{{_ "details.course.menu.assess"}}</button>
                        <button class="filter-btn" data-tab="insights">{{_ "details.course.menu.insights"}}</button>
                        <button class="filter-btn" data-tab="resources">{{_ "details.course.menu.resources"}}</button>
                    </div>
                </div>
            </div>
            <div class="assessments">
                {{#each assessment}}
                <div class="row mb-30">
                    {{#each this}}
                        <div class="col-md-6">
                            <div class="assessment-body text-center">
                                <div class="assessment-info">
                                    <h3 class="assessment-title">{{title}}</h3>
                                    <p>{{feedback}}</p>
                                </div>
                                <div class="assessment-performance">
                                    <div class="performance-presenter" hidden>
                                        <div class="close-presenter">
                                            <i class="fa fa-2x fa-times"></i>
                                        </div>
                                        <h4 class="presenter-section">Section Title</h4>
                                        <h3>{{_ "details.course.expand_a"}} <span class="important achieved">10</span> {{_ "details.course.expand_b"}} <span class="important out-of">10</span></h3>
                                        <h5 class="mb-30">{{_ "details.course.weight"}}: <span class="weight">10</span></h5>
<!--                                        <h4 class="text-left">Insights:</h4>
                                        <ul class="text-left">
                                            <li>This is insight number 1</li>
                                            <li>Your performance in this section caused your mark to rise by 2.1%</li>
                                        </ul>-->
                                    </div>
                                    {{# with K}}
                                        <div class="knowledge performance">
                                            <div class="performance-progress" id="test1" data-progress="{{percentage}}"></div>
                                            <div class="general-info"><p>{{_ "details.course.knowledge"}} - <span class="important">{{percentage}}</span></p></div>
                                        </div>
                                    {{else}}
                                        <div class="knowledge performance not-available">
                                            <div class="performance-progress" data-progress="0"></div>
                                            <div class="general-info"><p>{{_ "details.course.knowledge"}} - <span class="important">{{_ "details.course.no"}}</span></p></div>
                                        </div>
                                    {{/ with}}
                                    {{# with T}}
                                        <div class="thinking performance">
                                            <div class="performance-progress" data-progress="{{percentage}}"></div>
                                            <div class="general-info"><p>{{_ "details.course.thinking"}} - <span class="important">{{percentage}}</span></p></div>
                                        </div>
                                    {{else}}
                                        <div class="thinking performance not-available">
                                            <div class="performance-progress" data-progress="0"></div>
                                            <div class="general-info"><p>{{_ "details.course.thinking"}} - <span class="important">{{_ "details.course.no"}}</span></p></div>
                                        </div>
                                    {{/ with}}
                                    {{# with C}}
                                        <div class="communication performance">
                                            <div class="performance-progress" data-progress="{{percentage}}"></div>
                                            <div class="general-info"><p>{{_ "details.course.communication"}} - <span class="important">{{percentage}}</span></p></div>
                                        </div>
                                    {{else}}
                                        <div class="communication performance not-available">
                                            <div class="performance-progress" data-progress="0"></div>
                                            <div class="general-info"><p>{{_ "details.course.communication"}} - <span class="important">{{_ "details.course.no"}}</span></p></div>
                                        </div>
                                    {{/ with}}
                                    {{# with A}}
                                        <div class="application performance">
                                            <div class="performance-progress" data-progress="{{percentage}}"></div>
                                            <div class="general-info"><p>{{_ "details.course.application"}} - <span class="important">{{percentage}}</span></p></div>
                                        </div>
                                    {{else}}
                                        <div class="application performance not-available">
                                            <div class="performance-progress" data-progress="0"></div>
                                            <div class="general-info"><p>{{_ "details.course.application"}} - <span class="important">{{_ "details.course.no"}}</span></p></div>
                                        </div>
                                    {{/ with}}
                                    {{# with O}}
                                        <div class="other performance">
                                            <div class="performance-progress" data-progress="{{percentage}}"></div>
                                            <div class="general-info"><p>{{_ "details.course.other"}} - <span class="important">{{percentage}}</span></p></div>
                                        </div>
                                    {{/ with}}
                                </div>
                            </div>
                        </div>
                    {{/each}}
                </div>
                {{/ each}}
            </div>
            <div class="insights">
                <div class="row mb-30">
                    <div class="col-md-12">
                        <div class="assessment-body text-center">
                            <div class="chart-content">
                                <h3>{{_ "details.course.timeline_graph"}}</h3>
                                <canvas id="markByAssignment"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mb-30">
                    <div class="col-md-12">
                        <div class="assessment-body text-center">
                            <div class="chart-content">
                                <h3>S{{_ "details.course.assignments_graph"}}</h3>
                                <canvas id="sectionMarkByAssignment"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="resources" hidden>
                {{#each readings}}
                    <div class="col-lg-12 draft-item" id="{{_id}}">
                        <!-- Blog post example, with featured image -->
                        <div class="editor-options draft-inline">
                            <div class="image-preview">
                                <img src="{{imageLink}}" class="img-responsive">
                            </div>
                            <div class="content-preview">
                                <h3 class="draft-title">{{headline}}{{title}}</h3>
                                <span>Created: {{releaseDate}}.</span>
                                <p class="draft-body">{{subtitle}}</p>
                            </div>
                        </div>
                    </div>
                {{/each}}
            </div>
        </div>
    </div>
</template>
[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nReactiveDict = Package['reactive-dict'].ReactiveDict;\nFlowRouter = Package['kadira:flow-router'].FlowRouter;\nSession = Package.session.Session;\nBlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;\nAlgoliaSearch = Package['acemtp:algolia'].AlgoliaSearch;\nIsotope = Package['isotope:isotope'].Isotope;\nServiceConfiguration = Package['service-configuration'].ServiceConfiguration;\nPersistentSession = Package['u2622:persistent-session'].PersistentSession;\n_ = Package.underscore._;\nRoles = Package['alanning:roles'].Roles;\nmoment = Package['momentjs:moment'].moment;\nModal = Package['peppelg:bootstrap-3-modal'].Modal;\nHTTP = Package.http.HTTP;\nTAPi18next = Package['tap:i18n'].TAPi18next;\nTAPi18n = Package['tap:i18n'].TAPi18n;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nFS = Package['cfs:base-package'].FS;\nActiveRoute = Package['zimme:active-route'].ActiveRoute;\nAccounts = Package['accounts-base'].Accounts;\nGoogle = Package['google-oauth'].Google;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"ui\":{\"components\":{\"editor.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/components/editor.html                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.editor.js\");                                                                      // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.editor.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/components/template.editor.js                                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"editor\");                                                                                        // 2\nTemplate[\"editor\"] = new Template(\"Template.editor\", (function() {                                                     // 3\n  var view = this;                                                                                                     // 4\n  return Blaze.If(function() {                                                                                         // 5\n    return Spacebars.call(view.lookup(\"canEdit\"));                                                                     // 6\n  }, function() {                                                                                                      // 7\n    return [ \"\\n        \", HTML.DIV({                                                                                  // 8\n      class: \"editor-open\"                                                                                             // 9\n    }, \"\\n            \", HTML.I({                                                                                      // 10\n      class: \"material-icons\",                                                                                         // 11\n      id: \"openEditor\"                                                                                                 // 12\n    }, \"add\"), \"\\n        \"), \"\\n        \", HTML.DIV({                                                                 // 13\n      class: \"container-fluid editor-main\",                                                                            // 14\n      hidden: \"\"                                                                                                       // 15\n    }, \"\\n            \", HTML.A({                                                                                      // 16\n      class: \"editor-control editor-back\"                                                                              // 17\n    }, HTML.I({                                                                                                        // 18\n      class: \"fa fa-arrow-left\"                                                                                        // 19\n    })), \"\\n            \", HTML.A({                                                                                    // 20\n      class: \"editor-control editor-close\"                                                                             // 21\n    }, HTML.I({                                                                                                        // 22\n      class: \"fa fa-times\"                                                                                             // 23\n    })), \"\\n            \", Spacebars.include(view.lookupTemplate(\"announcementMenu\")), \"\\n            \", Spacebars.include(view.lookupTemplate(\"blogEditor\")), \"\\n            \", Spacebars.include(view.lookupTemplate(\"announcementEditor\")), \"\\n            \", Spacebars.include(view.lookupTemplate(\"suggestionEditor\")), \"\\n            \", Spacebars.include(view.lookupTemplate(\"blogDraft\")), \"\\n            \", Spacebars.include(view.lookupTemplate(\"allPosts\")), \"\\n            \", HTML.DIV({\n      class: \"container blog-intro text-center\"                                                                        // 25\n    }, \"\\n                \", HTML.DIV({                                                                                // 26\n      class: \"center-wrapper\"                                                                                          // 27\n    }, \"\\n                    \", HTML.DIV({                                                                            // 28\n      class: \"post-source mb-45\"                                                                                       // 29\n    }, \"\\n                        \", HTML.DIV({                                                                        // 30\n      class: \"row mb-30\"                                                                                               // 31\n    }, \"\\n                            \", HTML.DIV({                                                                    // 32\n      class: \"col-lg-12 col-md-12 col-sm-12 mb-30\"                                                                     // 33\n    }, \"\\n                                \", HTML.H2(\"Welcome to The Composer\"), \"\\n                                \", HTML.H4(\"Select a place to start writing\"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n      class: \"row text-center mb-30\"                                                                                   // 35\n    }, \"\\n                            \", HTML.DIV({                                                                    // 36\n      class: \"col-lg-6 col-md-6 col-sm-12 col-xs-12 mb-30\"                                                             // 37\n    }, \"\\n                                \", HTML.DIV({                                                                // 38\n      class: \"editor-options\",                                                                                         // 39\n      id: \"startNewDraft\"                                                                                              // 40\n    }, \"\\n                                    \", HTML.I({                                                              // 41\n      class: \"fa fa-pencil fa-5x mb-15 hidden-xs\",                                                                     // 42\n      \"aria-hidden\": \"true\"                                                                                            // 43\n    }), \"\\n                                    \", HTML.P(\"Create from scratch\"), \"\\n                                \"), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n      class: \"col-lg-6 col-sm-12 col-xs-12\"                                                                            // 45\n    }, \"\\n                                \", HTML.DIV({                                                                // 46\n      class: \"editor-options\",                                                                                         // 47\n      id: \"checkDrafts\"                                                                                                // 48\n    }, \"\\n                                    \", HTML.I({                                                              // 49\n      class: \"fa fa-file-text-o fa-5x mb-15 hidden-xs\",                                                                // 50\n      \"aria-hidden\": \"true\"                                                                                            // 51\n    }), \"\\n                                    \", HTML.P(\"Resume a Draft\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n      class: \"row text-center mb-30\"                                                                                   // 53\n    }, \"\\n                            \", HTML.DIV({                                                                    // 54\n      class: \"col-lg-12\"                                                                                               // 55\n    }, \"\\n                                \", HTML.DIV({                                                                // 56\n      class: \"editor-options\",                                                                                         // 57\n      id: \"checkAll\"                                                                                                   // 58\n    }, \"\\n                                    \", HTML.I({                                                              // 59\n      class: \"fa fa-list fa-5x mb-15 hidden-xs\",                                                                       // 60\n      \"aria-hidden\": \"true\"                                                                                            // 61\n    }), \"\\n                                    \", HTML.P(\"Check all your posts\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \", HTML.DIV({\n      class: \"container post-type text-center\",                                                                        // 63\n      hidden: \"\"                                                                                                       // 64\n    }, \"\\n                \", HTML.DIV({                                                                                // 65\n      class: \"center-wrapper\"                                                                                          // 66\n    }, \"\\n                    \", HTML.DIV({                                                                            // 67\n      class: \"mb-45\"                                                                                                   // 68\n    }, \"\\n                        \", HTML.DIV({                                                                        // 69\n      class: \"row mb-30\"                                                                                               // 70\n    }, \"\\n                            \", HTML.DIV({                                                                    // 71\n      class: \"col-lg-12 col-md-12 col-sm-12 mb-30\"                                                                     // 72\n    }, \"\\n                                \", HTML.H2(\"Nice,\"), \"\\n                                \", HTML.H4(\"What would you like to compose?\"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n      class: \"row text-center mb-30\"                                                                                   // 74\n    }, \"\\n                            \", Blaze.If(function() {                                                         // 75\n      return Spacebars.call(view.lookup(\"canWriteAnnounce\"));                                                          // 76\n    }, function() {                                                                                                    // 77\n      return [ \"\\n                                \", HTML.DIV({                                                        // 78\n        class: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 mb-30\",                                                          // 79\n        id: \"startAnnouncement\"                                                                                        // 80\n      }, \"\\n                                    \", HTML.DIV({                                                          // 81\n        class: \"editor-options\"                                                                                        // 82\n      }, \"\\n                                        \", HTML.I({                                                        // 83\n        class: \"fa fa-bullhorn fa-5x mb-15 hidden-xs\"                                                                  // 84\n      }), \"\\n                                        \", HTML.P(\"Announcement\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \" ];\n    }), \"\\n                            \", Blaze.If(function() {                                                        // 86\n      return Spacebars.call(view.lookup(\"canWriteBlog\"));                                                              // 87\n    }, function() {                                                                                                    // 88\n      return [ \"\\n                                \", HTML.DIV({                                                        // 89\n        class: \"col-lg-4 col-md-4 hidden-xs mb-30\",                                                                    // 90\n        id: \"startBlog\"                                                                                                // 91\n      }, \"\\n                                    \", HTML.DIV({                                                          // 92\n        class: \"editor-options\"                                                                                        // 93\n      }, \"\\n                                        \", HTML.I({                                                        // 94\n        class: \"fa fa-newspaper-o fa-5x mb-15 hidden-xs\"                                                               // 95\n      }), \"\\n                                        \", HTML.P(\"Story\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \" ];\n    }), \"\\n                            \", HTML.DIV({                                                                   // 97\n      class: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 mb-30 hidden-xs\",                                                  // 98\n      id: \"startSuggestion\"                                                                                            // 99\n    }, \"\\n                                \", HTML.DIV({                                                                // 100\n      class: \"editor-options\"                                                                                          // 101\n    }, \"\\n                                    \", HTML.I({                                                              // 102\n      class: \"fa fa-commenting-o fa-5x mb-15 hidden-xs\"                                                                // 103\n    }), \"\\n                                    \", HTML.P(\"Suggestion\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \" ];\n  });                                                                                                                  // 105\n}));                                                                                                                   // 106\n                                                                                                                       // 107\nTemplate.__checkName(\"blogDraft\");                                                                                     // 108\nTemplate[\"blogDraft\"] = new Template(\"Template.blogDraft\", (function() {                                               // 109\n  var view = this;                                                                                                     // 110\n  return HTML.DIV({                                                                                                    // 111\n    class: \"container blog-drafts\",                                                                                    // 112\n    hidden: \"\"                                                                                                         // 113\n  }, \"\\n        \", HTML.DIV({                                                                                          // 114\n    class: \"center-wrapper\"                                                                                            // 115\n  }, \"\\n            \", HTML.DIV({                                                                                      // 116\n    class: \"mb-45\"                                                                                                     // 117\n  }, \"\\n                \", HTML.Raw('<div class=\"row mb-30\">\\n                    <div class=\"col-lg-12 col-md-12 col-sm-12 mb-30 text-center mt-30\">\\n                        <h2>Here are all your drafts,</h2>\\n                        <h4>Click on one to continue editing</h4>\\n                    </div>\\n                </div>'), \"\\n                \", HTML.DIV({\n    class: \"row\"                                                                                                       // 119\n  }, \"\\n                    \", Blaze.Each(function() {                                                                 // 120\n    return Spacebars.call(view.lookup(\"drafts\"));                                                                      // 121\n  }, function() {                                                                                                      // 122\n    return [ \"\\n                        \", HTML.DIV({                                                                  // 123\n      class: \"col-lg-12 draft-item\",                                                                                   // 124\n      id: function() {                                                                                                 // 125\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 126\n      }                                                                                                                // 127\n    }, \"\\n                            \", HTML.Comment(\" Blog post example, with featured image \"), \"\\n                            \", HTML.DIV({\n      class: \"editor-options draft-inline\"                                                                             // 129\n    }, \"\\n                                \", HTML.DIV({                                                                // 130\n      class: \"image-preview\"                                                                                           // 131\n    }, \"\\n                                    \", HTML.IMG({                                                            // 132\n      src: function() {                                                                                                // 133\n        return Spacebars.mustache(view.lookup(\"imageLink\"));                                                           // 134\n      },                                                                                                               // 135\n      class: \"img-responsive\"                                                                                          // 136\n    }), \"\\n                                \"), \"\\n                                \", HTML.DIV({                        // 137\n      class: \"content-preview\"                                                                                         // 138\n    }, \"\\n                                    \", HTML.H3({                                                             // 139\n      class: \"draft-title\"                                                                                             // 140\n    }, Blaze.View(\"lookup:headline\", function() {                                                                      // 141\n      return Spacebars.mustache(view.lookup(\"headline\"));                                                              // 142\n    }), Blaze.View(\"lookup:title\", function() {                                                                        // 143\n      return Spacebars.mustache(view.lookup(\"title\"));                                                                 // 144\n    })), \"\\n                                    \", HTML.SPAN(\"Created: \", Blaze.View(\"lookup:draftedDate\", function() {\n      return Spacebars.mustache(view.lookup(\"draftedDate\"));                                                           // 146\n    }), \". Format: \", Blaze.View(\"lookup:type\", function() {                                                           // 147\n      return Spacebars.mustache(view.lookup(\"type\"));                                                                  // 148\n    })), \"\\n                                    \", HTML.P({                                                            // 149\n      class: \"draft-body\"                                                                                              // 150\n    }, Blaze.If(function() {                                                                                           // 151\n      return Spacebars.call(view.lookup(\"isBlog\"));                                                                    // 152\n    }, function() {                                                                                                    // 153\n      return Blaze.View(\"lookup:subtitle\", function() {                                                                // 154\n        return Spacebars.mustache(view.lookup(\"subtitle\"));                                                            // 155\n      });                                                                                                              // 156\n    }, function() {                                                                                                    // 157\n      return Blaze.View(\"lookup:content\", function() {                                                                 // 158\n        return Spacebars.mustache(view.lookup(\"content\"));                                                             // 159\n      });                                                                                                              // 160\n    })), \"\\n                                    \", HTML.DIV({                                                          // 161\n      class: \"dropdown\",                                                                                               // 162\n      style: \"max-width: 164px\"                                                                                        // 163\n    }, \"\\n                                        \", HTML.BUTTON({                                                     // 164\n      class: \"dropbtn\"                                                                                                 // 165\n    }, \"Quick Actions\"), \"\\n                                        \", HTML.DIV({                                      // 166\n      class: \"dropdown-content\"                                                                                        // 167\n    }, \"\\n                                            \", HTML.A({                                                      // 168\n      href: \"\",                                                                                                        // 169\n      class: \"btn-publish-draft\"                                                                                       // 170\n    }, \"Publish\"), \"\\n                                            \", HTML.A({                                          // 171\n      href: \"\",                                                                                                        // 172\n      class: \"btn-delete-draft\"                                                                                        // 173\n    }, HTML.I({                                                                                                        // 174\n      class: \"fa fa-trash-o\"                                                                                           // 175\n    }), \" Delete\"), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];\n  }), \"\\n                    \", HTML.Raw('<button class=\"btn btn-primary btn-wide load-more-posts\">Load More</button>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 178\n                                                                                                                       // 179\nTemplate.__checkName(\"allPosts\");                                                                                      // 180\nTemplate[\"allPosts\"] = new Template(\"Template.allPosts\", (function() {                                                 // 181\n  var view = this;                                                                                                     // 182\n  return HTML.DIV({                                                                                                    // 183\n    class: \"container all-posts\",                                                                                      // 184\n    hidden: \"\"                                                                                                         // 185\n  }, \"\\n        \", HTML.DIV({                                                                                          // 186\n    class: \"center-wrapper\"                                                                                            // 187\n  }, \"\\n            \", HTML.DIV({                                                                                      // 188\n    class: \"mb-45\"                                                                                                     // 189\n  }, \"\\n                \", HTML.Raw('<div class=\"row mb-30\">\\n                    <div class=\"col-lg-12 col-md-12 col-sm-12 mb-30 text-center mt-30\">\\n                        <h2>Here are all your posts,</h2>\\n                        <h4>Click on one to continue editing</h4>\\n                    </div>\\n                </div>'), \"\\n                \", HTML.DIV({\n    class: \"row\"                                                                                                       // 191\n  }, \"\\n                    \", Blaze.Each(function() {                                                                 // 192\n    return Spacebars.call(view.lookup(\"post\"));                                                                        // 193\n  }, function() {                                                                                                      // 194\n    return [ \"\\n                        \", HTML.DIV({                                                                  // 195\n      class: \"col-lg-12 draft-item\",                                                                                   // 196\n      id: function() {                                                                                                 // 197\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 198\n      }                                                                                                                // 199\n    }, \"\\n                            \", HTML.DIV({                                                                    // 200\n      class: \"editor-options draft-inline\"                                                                             // 201\n    }, \"\\n                                \", HTML.DIV({                                                                // 202\n      class: \"col-md-3\"                                                                                                // 203\n    }, \"\\n                                    \", HTML.IMG({                                                            // 204\n      src: function() {                                                                                                // 205\n        return Spacebars.mustache(view.lookup(\"imageLink\"));                                                           // 206\n      },                                                                                                               // 207\n      class: \"img-responsive\"                                                                                          // 208\n    }), \"\\n                                \"), \"\\n                                \", HTML.DIV({                        // 209\n      class: \"content-preview col-md-6\"                                                                                // 210\n    }, \"\\n                                    \", HTML.H3({                                                             // 211\n      class: \"draft-title\"                                                                                             // 212\n    }, Blaze.View(\"lookup:headline\", function() {                                                                      // 213\n      return Spacebars.mustache(view.lookup(\"headline\"));                                                              // 214\n    }), Blaze.View(\"lookup:title\", function() {                                                                        // 215\n      return Spacebars.mustache(view.lookup(\"title\"));                                                                 // 216\n    })), \"\\n                                    \", HTML.SPAN(\"Created: \", Blaze.View(\"lookup:draftedDate\", function() {\n      return Spacebars.mustache(view.lookup(\"draftedDate\"));                                                           // 218\n    }), \". Format: \", Blaze.View(\"lookup:type\", function() {                                                           // 219\n      return Spacebars.mustache(view.lookup(\"type\"));                                                                  // 220\n    })), \"\\n                                    \", HTML.P({                                                            // 221\n      class: \"draft-body\"                                                                                              // 222\n    }, Blaze.If(function() {                                                                                           // 223\n      return Spacebars.call(view.lookup(\"isBlog\"));                                                                    // 224\n    }, function() {                                                                                                    // 225\n      return Blaze.View(\"lookup:subtitle\", function() {                                                                // 226\n        return Spacebars.mustache(view.lookup(\"subtitle\"));                                                            // 227\n      });                                                                                                              // 228\n    }, function() {                                                                                                    // 229\n      return Blaze.View(\"lookup:content\", function() {                                                                 // 230\n        return Spacebars.mustache(view.lookup(\"content\"));                                                             // 231\n      });                                                                                                              // 232\n    })), \"\\n                                    \", HTML.DIV({                                                          // 233\n      class: \"dropdown\",                                                                                               // 234\n      style: \"max-width: 164px\"                                                                                        // 235\n    }, \"\\n                                        \", HTML.BUTTON({                                                     // 236\n      class: \"dropbtn\"                                                                                                 // 237\n    }, \"Quick Actions\"), \"\\n                                        \", HTML.DIV({                                      // 238\n      class: \"dropdown-content\"                                                                                        // 239\n    }, \"\\n                                            \", HTML.A({                                                      // 240\n      href: \"\",                                                                                                        // 241\n      class: \"btn-republish-post\"                                                                                      // 242\n    }, \"re-Publish\"), \"\\n                                            \", HTML.A({                                       // 243\n      href: \"\",                                                                                                        // 244\n      class: \"btn-delete-post\"                                                                                         // 245\n    }, HTML.I({                                                                                                        // 246\n      class: \"fa fa-trash-o\"                                                                                           // 247\n    }), \" Delete\"), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      class: \"review-stage col-md-3\"                                                                                   // 249\n    }, \"\\n                                    \", HTML.H5(\"Review Stage\"), \"\\n                                    \", HTML.H1(Blaze.View(\"lookup:stage\", function() {\n      return Spacebars.mustache(view.lookup(\"stage\"));                                                                 // 251\n    })), \"\\n                                    \", HTML.H5(Blaze.View(\"lookup:stageCaption\", function() {              // 252\n      return Spacebars.mustache(view.lookup(\"stageCaption\"));                                                          // 253\n    })), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];\n  }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");                                              // 255\n}));                                                                                                                   // 256\n                                                                                                                       // 257\nTemplate.__checkName(\"blogEditor\");                                                                                    // 258\nTemplate[\"blogEditor\"] = new Template(\"Template.blogEditor\", (function() {                                             // 259\n  var view = this;                                                                                                     // 260\n  return HTML.Raw('<div class=\"container blog-editor\" hidden=\"\">\\n        <h2 class=\"editor-title\">Creating a new draft</h2>\\n        <p class=\"editor-subtitle\">Story</p>\\n        <div class=\"row\">\\n            <div class=\"col-lg-12 col-md-12\">\\n                <form class=\"form post-info-form full-width\">\\n                    <!--Blog Title-->\\n                    <input type=\"text\" placeholder=\"Title*\" id=\"blogTitle\">\\n                    <input type=\"text\" placeholder=\"Description*\" name=\"sub\" id=\"blogSubTitle\">\\n                </form>\\n            </div>\\n        </div>\\n        <div class=\"row mb-45\">\\n            <div class=\"col-lg-12 col-md-12\">\\n                <div class=\"editable\" id=\"blogContent\"></div>\\n            </div>\\n        </div>\\n\\n        <div class=\"row mb-60\">\\n            <div class=\"col-md-6 col-lg-6\">\\n                <div class=\"editor-card\">\\n                    <div class=\"card-body\">\\n                        <h3>Add Some Tags</h3>\\n                        <p>By adding some tags, other users can more easily find your post by search. To add a tag, simply write in the text box below, hit enter after every tag.</p>\\n                        <input data-role=\"tagsinput\" class=\"tags\" placeholder=\"Write your tags here\">\\n                        <hr>\\n                        <h3>Select Categories</h3>\\n                        <p>By selecting the categories this post belongs to, we can improve the user feed experience. To select click on the box below and pick an option from the drop up box, you can choose multiple if needed.</p>\\n                        <select name=\"category-selector\" class=\"category-select\" id=\"blogCategorySelect\" multiple=\"\" style=\"width: 100%\">\\n                        </select>\\n                        <hr>\\n                        <h3>Is this story related to any courses or clubs?</h3>\\n                        <p>Select Them using the dialog below. Selecting these helps us index your story so when a user searches for it, they can find it easily.</p>\\n                        <select name=\"category-selector\" class=\"category-select\" id=\"blogOrganizationSelect\" multiple=\"\" style=\"width: 100%\">\\n                        </select>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\"col-md-6 col-lg-6 \">\\n                <div class=\"editor-card\">\\n                    <div class=\"card-body\">\\n                        <h3>Featured Splash Image</h3>\\n                        <p>Upload an image to help attract users to your blog, stock photos work well, avoid images with text. Please credit the photographer with the form below.</p>\\n                        <form action=\"/file-upload\" class=\"dropzone\" id=\"dropzone\"></form>\\n                        <h5 id=\"unsplashPrompt\">Want to avoid the hassle? <a href=\"\" id=\"getFeaturedUnsplash\">Click here</a> and we will find an image for you!</h5>\\n                        <hr>\\n                        <h3>Pick a release date</h3>\\n                        <p>Use the date selector bellow to select the day you would like this post published.</p>\\n                        <input type=\"text\" class=\"form-control input-date\">\\n                        <hr>\\n                        <h3>Set the visibility</h3>\\n                        <p>Choose who this blog post is written for, public means people outside the board will receive access.</p>\\n                        <select name=\"category-selector\" class=\"visibility-select\" style=\"width: 100%\">\\n                            <option value=\"1\">Everyone</option>\\n                            <option value=\"2\">Students Only</option>\\n                            <option value=\"3\">Teachers and Staff Only</option>\\n                        </select>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\"row text-center mb-80\">\\n            <div class=\"col-md-4 col-lg-4\">\\n                <div class=\"editor-card publish\">\\n                    <h3>Publish</h3>\\n                </div>\\n            </div>\\n            <div class=\"col-md-4 col-lg-4\">\\n                <div class=\"editor-card preview btn-preview\">\\n                    <h3>Preview</h3>\\n                </div>\\n            </div>\\n            <div class=\"col-md-4 col-lg-4\">\\n                <div class=\"editor-card save-draft\">\\n                    <h3>Save as draft</h3>\\n                </div>\\n            </div>\\n        </div>\\n    </div>');\n}));                                                                                                                   // 262\n                                                                                                                       // 263\nTemplate.__checkName(\"announcementMenu\");                                                                              // 264\nTemplate[\"announcementMenu\"] = new Template(\"Template.announcementMenu\", (function() {                                 // 265\n  var view = this;                                                                                                     // 266\n  return HTML.Raw('<div class=\"container announcement-menu\" hidden=\"\">\\n        <div class=\"announcement-type text-center\">\\n            <div class=\"row mb-30\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mb-30\">\\n                    <h2>Solid,</h2>\\n                    <h4>How would you like to present your news?</h4>\\n                </div>\\n            </div>\\n            <div class=\"row\">\\n                <div class=\"col-lg-4 col-sm-12 col-xs-12 mb-30\">\\n                    <div class=\"editor-options\" id=\"imageOnly\">\\n                        <i class=\"fa fa-picture-o fa-5x mb-15 hidden-xs\"></i>\\n                        <p>I made a <b>Poster</b>. (Image Only)</p>\\n                    </div>\\n                </div>\\n                <div class=\"col-lg-4 col-sm-12 col-xs-12 mb-30\" id=\"textOnly\">\\n                    <div class=\"editor-options\">\\n                        <i class=\"fa fa-font fa-5x mb-15 hidden-xs\"></i>\\n                        <p>I wrote some <b>Text</b>. (Text Only)</p>\\n                    </div>\\n                </div>\\n                <div class=\"col-lg-4 col-sm-12 col-xs-12\" id=\"textAndImage\">\\n                    <div class=\"editor-options\">\\n                        <i class=\"fa fa-heart-o fa-5x mb-15 hidden-xs\"></i>\\n                        <p>I have both a poster and some text.</p>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>');\n}));                                                                                                                   // 268\n                                                                                                                       // 269\nTemplate.__checkName(\"announcementEditor\");                                                                            // 270\nTemplate[\"announcementEditor\"] = new Template(\"Template.announcementEditor\", (function() {                             // 271\n  var view = this;                                                                                                     // 272\n  return HTML.DIV({                                                                                                    // 273\n    class: \"container blog-announcements\"                                                                              // 274\n  }, \"\\n        \", HTML.DIV({                                                                                          // 275\n    class: \"text-center image-only\",                                                                                   // 276\n    hidden: \"\"                                                                                                         // 277\n  }, \"\\n            \", HTML.Raw('<div class=\"row mb-30\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 mb-30\">\\n                    <h2>Upload an image announcement</h2>\\n                    <h4>Simply drop your image in the box below, and add a headline</h4>\\n                </div>\\n            </div>'), \"\\n            \", Blaze._TemplateWith(function() {\n    return {                                                                                                           // 279\n      id: Spacebars.call(\"imageOnlyHeadline\")                                                                          // 280\n    };                                                                                                                 // 281\n  }, function() {                                                                                                      // 282\n    return Spacebars.include(view.lookupTemplate(\"announcementHeadline\"));                                             // 283\n  }), \"\\n            \", Blaze._TemplateWith(function() {                                                               // 284\n    return {                                                                                                           // 285\n      id: Spacebars.call(\"announcementImage\")                                                                          // 286\n    };                                                                                                                 // 287\n  }, function() {                                                                                                      // 288\n    return Spacebars.include(view.lookupTemplate(\"announcementImageInput\"));                                           // 289\n  }), \"\\n            \", HTML.Raw('<h5 class=\"quick-image-prompt\"></h5>'), \"\\n            \", Blaze._TemplateWith(function() {\n    return {                                                                                                           // 291\n      imgAndText: Spacebars.call(false)                                                                                // 292\n    };                                                                                                                 // 293\n  }, function() {                                                                                                      // 294\n    return Spacebars.include(view.lookupTemplate(\"announcementOptions\"));                                              // 295\n  }), \"\\n        \"), \"\\n\\n        \", HTML.DIV({                                                                        // 296\n    class: \"text-center text-only\",                                                                                    // 297\n    hidden: \"\"                                                                                                         // 298\n  }, \"\\n            \", HTML.Raw('<div class=\"row mb-30\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 mb-30\">\\n                    <h2>Text Only Announcements</h2>\\n                    <h4>Write/Paste your information in the big box below, 140 characters max.</h4>\\n                </div>\\n            </div>'), \"\\n            \", Blaze._TemplateWith(function() {\n    return {                                                                                                           // 300\n      id: Spacebars.call(\"textOnlyHeadline\")                                                                           // 301\n    };                                                                                                                 // 302\n  }, function() {                                                                                                      // 303\n    return Spacebars.include(view.lookupTemplate(\"announcementHeadline\"));                                             // 304\n  }), \"\\n            \", Blaze._TemplateWith(function() {                                                               // 305\n    return {                                                                                                           // 306\n      max: Spacebars.call(\"1000\")                                                                                      // 307\n    };                                                                                                                 // 308\n  }, function() {                                                                                                      // 309\n    return Spacebars.include(view.lookupTemplate(\"announcementTextInput\"));                                            // 310\n  }), \"\\n            \", Blaze._TemplateWith(function() {                                                               // 311\n    return {                                                                                                           // 312\n      imgAndText: Spacebars.call(false)                                                                                // 313\n    };                                                                                                                 // 314\n  }, function() {                                                                                                      // 315\n    return Spacebars.include(view.lookupTemplate(\"announcementOptions\"));                                              // 316\n  }), \"\\n        \"), \"\\n        \", HTML.DIV({                                                                          // 317\n    class: \"text-center text-and-image\",                                                                               // 318\n    hidden: \"\"                                                                                                         // 319\n  }, \"\\n            \", HTML.Raw('<div class=\"row mb-30\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 mb-30\">\\n                    <h2>Text and Image Announcements</h2>\\n                    <h4>Write/Paste your information in the big box below, 140 characters max.</h4>\\n                </div>\\n            </div>'), \"\\n            \", Blaze._TemplateWith(function() {\n    return {                                                                                                           // 321\n      id: Spacebars.call(\"textImageHeadline\")                                                                          // 322\n    };                                                                                                                 // 323\n  }, function() {                                                                                                      // 324\n    return Spacebars.include(view.lookupTemplate(\"announcementHeadline\"));                                             // 325\n  }), \"\\n            \", Blaze._TemplateWith(function() {                                                               // 326\n    return {                                                                                                           // 327\n      max: Spacebars.call(\"1000\")                                                                                      // 328\n    };                                                                                                                 // 329\n  }, function() {                                                                                                      // 330\n    return Spacebars.include(view.lookupTemplate(\"announcementTextInput\"));                                            // 331\n  }), \"\\n            \", Blaze._TemplateWith(function() {                                                               // 332\n    return {                                                                                                           // 333\n      id: Spacebars.call(\"announcementImageTwo\")                                                                       // 334\n    };                                                                                                                 // 335\n  }, function() {                                                                                                      // 336\n    return Spacebars.include(view.lookupTemplate(\"announcementImageInput\"));                                           // 337\n  }), \"\\n            \", Blaze._TemplateWith(function() {                                                               // 338\n    return {                                                                                                           // 339\n      imgAndText: Spacebars.call(true)                                                                                 // 340\n    };                                                                                                                 // 341\n  }, function() {                                                                                                      // 342\n    return Spacebars.include(view.lookupTemplate(\"announcementOptions\"));                                              // 343\n  }), \"\\n\\n        \"), \"\\n    \");                                                                                      // 344\n}));                                                                                                                   // 345\n                                                                                                                       // 346\nTemplate.__checkName(\"announcementHeadline\");                                                                          // 347\nTemplate[\"announcementHeadline\"] = new Template(\"Template.announcementHeadline\", (function() {                         // 348\n  var view = this;                                                                                                     // 349\n  return HTML.DIV({                                                                                                    // 350\n    class: \"row\"                                                                                                       // 351\n  }, \"\\n        \", HTML.DIV({                                                                                          // 352\n    class: \"col-lg-12 col-md-12\"                                                                                       // 353\n  }, \"\\n            \", HTML.FORM({                                                                                     // 354\n    class: \"form post-info-form full-width\"                                                                            // 355\n  }, \"\\n                \", HTML.INPUT({                                                                                // 356\n    type: \"text\",                                                                                                      // 357\n    placeholder: \"Headline*\",                                                                                          // 358\n    id: function() {                                                                                                   // 359\n      return Spacebars.mustache(view.lookup(\"id\"));                                                                    // 360\n    },                                                                                                                 // 361\n    maxlength: \"50\"                                                                                                    // 362\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \");                                                                     // 363\n}));                                                                                                                   // 364\n                                                                                                                       // 365\nTemplate.__checkName(\"announcementOptions\");                                                                           // 366\nTemplate[\"announcementOptions\"] = new Template(\"Template.announcementOptions\", (function() {                           // 367\n  var view = this;                                                                                                     // 368\n  return [ Blaze.If(function() {                                                                                       // 369\n    return Spacebars.call(view.lookup(\"imgAndText\"));                                                                  // 370\n  }, function() {                                                                                                      // 371\n    return [ \"\\n    \", HTML.DIV({                                                                                      // 372\n      class: \"row mb-45 text-left\"                                                                                     // 373\n    }, \"\\n        \", HTML.DIV({                                                                                        // 374\n      class: \"col-lg-4 col-md-4 col-sm-12 col-xs-12\"                                                                   // 375\n    }, \"\\n            \", HTML.H3(\"Add Some Tags\"), \"\\n            \", HTML.P(\"By adding some tags, other users can easily find your post by search. To add a tag, simply write in the text box below, hit enter after every tag.\"), \"\\n            \", HTML.INPUT({\n      \"data-role\": \"tagsinput\",                                                                                        // 377\n      class: \"announce-tags\",                                                                                          // 378\n      placeholder: \"Write your tags here\"                                                                              // 379\n    }), \"\\n            \", HTML.H3(\"Select Categories\"), \"\\n            \", HTML.P(\"By selecting the categories this post belongs to, we can improve the user feed experience. To select click on the box below and pick an option from the drop up box, you can choose multiple if needed.\"), \"\\n            \", HTML.SELECT({\n      name: \"category-selector\",                                                                                       // 381\n      class: \"category-select announcement-category\",                                                                  // 382\n      multiple: \"\",                                                                                                    // 383\n      style: \"width: 100%\"                                                                                             // 384\n    }), \"\\n            \", HTML.H3(\"Is this Club related?\"), \"\\n            \", HTML.P(\"If this announcement is for student clubs or teams, please select them below.\"), \"\\n            \", HTML.SELECT({\n      name: \"category-selector\",                                                                                       // 386\n      class: \"category-select clubs-category\",                                                                         // 387\n      multiple: \"\",                                                                                                    // 388\n      style: \"width: 100%\"                                                                                             // 389\n    }), \"\\n        \"), \"\\n        \", HTML.DIV({                                                                        // 390\n      class: \"col-lg-4 col-md-4 col-sm-12 col-xs-12\"                                                                   // 391\n    }, \"\\n            \", HTML.H3(\"Set Priority\"), \"\\n            \", HTML.P({                                           // 392\n      class: \"mb-15\"                                                                                                   // 393\n    }, \"Selecting a priority helps us determine the best way to present your announcement to other users.\"), \"\\n            \", HTML.DIV({\n      class: \"col-md-6 col-sm-6 col-xs-6 text-center\"                                                                  // 395\n    }, \"\\n                \", HTML.DIV({                                                                                // 396\n      class: \"is-checked priority-toggle\",                                                                             // 397\n      \"data-priority\": \"image\"                                                                                         // 398\n    }, \"\\n                    \", HTML.I({                                                                              // 399\n      class: \"fa fa-file-image-o fa-3x\"                                                                                // 400\n    }), \"\\n                    \", HTML.H4({                                                                            // 401\n      class: \"\"                                                                                                        // 402\n    }, \"Image\"), \"\\n                \"), \"\\n            \"), \"\\n            \", HTML.DIV({                                // 403\n      class: \"col-md-6 col-sm-6 col-xs-6 text-center\"                                                                  // 404\n    }, \"\\n                \", HTML.DIV({                                                                                // 405\n      class: \"priority-toggle\",                                                                                        // 406\n      \"data-priority\": \"text\"                                                                                          // 407\n    }, \"\\n                    \", HTML.I({                                                                              // 408\n      class: \"fa fa-file-text-o fa-3x\"                                                                                 // 409\n    }), \"\\n                    \", HTML.H4({                                                                            // 410\n      class: \"\"                                                                                                        // 411\n    }, \"Text\"), \"\\n                \"), \"\\n            \"), \"\\n\\n        \"), \"\\n        \", HTML.DIV({                    // 412\n      class: \"col-lg-4 col-md-4 col-sm-12 col-xs-12\"                                                                   // 413\n    }, \"\\n            \", HTML.H3(\"Pick a date range\"), \"\\n            \", HTML.P(\"Use the date selector bellow to select the days you would like this post to be visible to the rest of the users.\"), \"\\n            \", HTML.DIV({\n      class: \"input-group input-daterange\"                                                                             // 415\n    }, \"\\n                \", HTML.INPUT({                                                                              // 416\n      type: \"text\",                                                                                                    // 417\n      class: \"form-control startDate\"                                                                                  // 418\n    }), \"\\n                \", HTML.DIV({                                                                               // 419\n      class: \"input-group-addon\"                                                                                       // 420\n    }, \"to\"), \"\\n                \", HTML.INPUT({                                                                       // 421\n      type: \"text\",                                                                                                    // 422\n      class: \"form-control endDate\"                                                                                    // 423\n    }), \"\\n            \"), \"\\n            \", HTML.H3(\"Set the visibility\"), \"\\n            \", HTML.P(\"Choose who this blog post is written for, public means people outside the board will receive access.\"), \"\\n            \", HTML.SELECT({\n      name: \"category-selector\",                                                                                       // 425\n      class: \"visibility-select\",                                                                                      // 426\n      style: \"width: 100%\"                                                                                             // 427\n    }, \"\\n                \", HTML.OPTION({                                                                             // 428\n      value: \"1\"                                                                                                       // 429\n    }, \"Everyone\"), \"\\n                \", HTML.OPTION({                                                                // 430\n      value: \"2\"                                                                                                       // 431\n    }, \"Students Only\"), \"\\n                \", HTML.OPTION({                                                           // 432\n      value: \"3\"                                                                                                       // 433\n    }, \"Teachers and Staff Only\"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n    \" ];                            // 434\n  }, function() {                                                                                                      // 435\n    return [ \"\\n        \", HTML.DIV({                                                                                  // 436\n      class: \"row mb-45 text-left\"                                                                                     // 437\n    }, \"\\n            \", HTML.DIV({                                                                                    // 438\n      class: \"col-lg-4 col-md-3\"                                                                                       // 439\n    }, \"\\n                \", HTML.H3(\"Add Some Tags\"), \"\\n                \", HTML.P(\"By adding some tags, other users can more easily find your post by search. To add a tag, simply write in the text box below, hit enter after every tag.\"), \"\\n                \", HTML.INPUT({\n      \"data-role\": \"tagsinput\",                                                                                        // 441\n      class: \"announce-tags\",                                                                                          // 442\n      placeholder: \"Write your tags here\"                                                                              // 443\n    }), \"\\n            \"), \"\\n            \", HTML.DIV({                                                                // 444\n      class: \"col-lg-4 col-md-3\"                                                                                       // 445\n    }, \"\\n                \", HTML.H3(\"Select Categories\"), \"\\n                \", HTML.P(\"By selecting the categories this post belongs to, we can improve the user feed experience. To select click on the box below and pick an option from the drop up box, you can choose multiple if needed.\"), \"\\n                \", HTML.SELECT({\n      name: \"category-selector\",                                                                                       // 447\n      class: \"category-select announcement-category\",                                                                  // 448\n      multiple: \"\",                                                                                                    // 449\n      style: \"width: 100%\"                                                                                             // 450\n    }), \"\\n                \", HTML.H3(\"Is this Club related?\"), \"\\n                \", HTML.P(\"If this announcement is for student clubs or teams, please select them below.\"), \"\\n                \", HTML.SELECT({\n      name: \"category-selector\",                                                                                       // 452\n      class: \"category-select clubs-category\",                                                                         // 453\n      multiple: \"\",                                                                                                    // 454\n      style: \"width: 100%\"                                                                                             // 455\n    }), \"\\n            \"), \"\\n            \", HTML.DIV({                                                                // 456\n      class: \"col-lg-4 col-md-3\"                                                                                       // 457\n    }, \"\\n                \", HTML.H3(\"Pick a date range\"), \"\\n                \", HTML.P(\"Use the date selector bellow to select the days you would like this post to be visible to the rest of the users.\"), \"\\n                \", HTML.DIV({\n      class: \"input-group input-daterange\"                                                                             // 459\n    }, \"\\n                    \", HTML.INPUT({                                                                          // 460\n      type: \"text\",                                                                                                    // 461\n      class: \"form-control startDate\"                                                                                  // 462\n    }), \"\\n                    \", HTML.DIV({                                                                           // 463\n      class: \"input-group-addon\"                                                                                       // 464\n    }, \"to\"), \"\\n                    \", HTML.INPUT({                                                                   // 465\n      type: \"text\",                                                                                                    // 466\n      class: \"form-control endDate\"                                                                                    // 467\n    }), \"\\n                \"), \"\\n                \", HTML.H3(\"Set the visibility\"), \"\\n                \", HTML.P(\"Choose who this blog post is written for, public means people outside the board will receive access.\"), \"\\n                \", HTML.SELECT({\n      name: \"category-selector\",                                                                                       // 469\n      class: \"visibility-select\",                                                                                      // 470\n      style: \"width: 100%\"                                                                                             // 471\n    }, \"\\n                    \", HTML.OPTION({                                                                         // 472\n      value: \"1\"                                                                                                       // 473\n    }, \"Everyone\"), \"\\n                    \", HTML.OPTION({                                                            // 474\n      value: \"2\"                                                                                                       // 475\n    }, \"Students Only\"), \"\\n                    \", HTML.OPTION({                                                       // 476\n      value: \"3\"                                                                                                       // 477\n    }, \"Teachers and Staff Only\"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \" ];                // 478\n  }), HTML.Raw('\\n    <div class=\"row mb-45\">\\n        <div class=\"col-lg-6 col-md-6\">\\n            <button class=\"btn btn-login btn-post\">POST</button>\\n        </div>\\n        <div class=\"col-lg-6 col-md-6\">\\n            <button class=\"btn btn-login btn-save\">SAVE FOR LATER</button>\\n        </div>\\n    </div>') ];\n}));                                                                                                                   // 480\n                                                                                                                       // 481\nTemplate.__checkName(\"announcementTextInput\");                                                                         // 482\nTemplate[\"announcementTextInput\"] = new Template(\"Template.announcementTextInput\", (function() {                       // 483\n  var view = this;                                                                                                     // 484\n  return HTML.DIV({                                                                                                    // 485\n    class: \"row mb-45\"                                                                                                 // 486\n  }, \"\\n        \", HTML.DIV({                                                                                          // 487\n    class: \"col-lg-12 col-md-12\"                                                                                       // 488\n  }, \"\\n            \", HTML.Raw(\"<h3>Text Portion</h3>\"), \"\\n            \", HTML.TEXTAREA({                            // 489\n    placeholder: \"Add your information here! 140 characters max.\",                                                     // 490\n    class: \"announcement-text\",                                                                                        // 491\n    maxlength: function() {                                                                                            // 492\n      return Spacebars.mustache(view.lookup(\"max\"));                                                                   // 493\n    },                                                                                                                 // 494\n    id: \"textContent\"                                                                                                  // 495\n  }), \"\\n            \", HTML.P({                                                                                       // 496\n    class: \"text-left\"                                                                                                 // 497\n  }, \"You have \", HTML.SPAN({                                                                                          // 498\n    class: \"announcement-counter\"                                                                                      // 499\n  }, Blaze.View(\"lookup:max\", function() {                                                                             // 500\n    return Spacebars.mustache(view.lookup(\"max\"));                                                                     // 501\n  })), \" characters left.\"), \"\\n        \"), \"\\n    \");                                                                 // 502\n}));                                                                                                                   // 503\n                                                                                                                       // 504\nTemplate.__checkName(\"announcementImageInput\");                                                                        // 505\nTemplate[\"announcementImageInput\"] = new Template(\"Template.announcementImageInput\", (function() {                     // 506\n  var view = this;                                                                                                     // 507\n  return HTML.DIV({                                                                                                    // 508\n    class: \"row mb-45\"                                                                                                 // 509\n  }, \"\\n        \", HTML.DIV({                                                                                          // 510\n    class: \"col-lg-12 col-md-12\"                                                                                       // 511\n  }, \"\\n            \", HTML.FORM({                                                                                     // 512\n    action: \"/file-upload\",                                                                                            // 513\n    class: \"dropzone\",                                                                                                 // 514\n    id: function() {                                                                                                   // 515\n      return Spacebars.mustache(view.lookup(\"id\"));                                                                    // 516\n    }                                                                                                                  // 517\n  }), \"\\n        \"), \"\\n    \");                                                                                        // 518\n}));                                                                                                                   // 519\n                                                                                                                       // 520\nTemplate.__checkName(\"suggestionEditor\");                                                                              // 521\nTemplate[\"suggestionEditor\"] = new Template(\"Template.suggestionEditor\", (function() {                                 // 522\n  var view = this;                                                                                                     // 523\n  return HTML.DIV({                                                                                                    // 524\n    class: \"container suggestions\",                                                                                    // 525\n    hidden: \"\"                                                                                                         // 526\n  }, HTML.Raw('\\n        <div class=\"mb-45\">\\n            <div class=\"row mb-30 text-center\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 mb-30\">\\n                    <h2>Feedback and suggestions,</h2>\\n                    <h4>Voice your concerns to the school admins and the developers of uhs.life directly.</h4>\\n                </div>\\n            </div>\\n        </div>\\n        '), Blaze._TemplateWith(function() {\n    return {                                                                                                           // 528\n      id: Spacebars.call(\"suggestionHeadline\")                                                                         // 529\n    };                                                                                                                 // 530\n  }, function() {                                                                                                      // 531\n    return Spacebars.include(view.lookupTemplate(\"announcementHeadline\"));                                             // 532\n  }), \"\\n        \", Blaze._TemplateWith(function() {                                                                   // 533\n    return {                                                                                                           // 534\n      max: Spacebars.call(\"1000\")                                                                                      // 535\n    };                                                                                                                 // 536\n  }, function() {                                                                                                      // 537\n    return Spacebars.include(view.lookupTemplate(\"announcementTextInput\"));                                            // 538\n  }), HTML.Raw(\"\\n        <h3>Add an image if you like!</h3>\\n        \"), Blaze._TemplateWith(function() {             // 539\n    return {                                                                                                           // 540\n      id: Spacebars.call(\"suggestionImage\")                                                                            // 541\n    };                                                                                                                 // 542\n  }, function() {                                                                                                      // 543\n    return Spacebars.include(view.lookupTemplate(\"announcementImageInput\"));                                           // 544\n  }), HTML.Raw('\\n        <div class=\"row mb-45\">\\n            <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                <button class=\"btn btn-login btn-post\">POST</button>\\n            </div>\\n        </div>\\n    '));\n}));                                                                                                                   // 546\n                                                                                                                       // 547\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"navigation.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/components/navigation.html                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.navigation.js\");                                                                  // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.navigation.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/components/template.navigation.js                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"navigation\");                                                                                    // 2\nTemplate[\"navigation\"] = new Template(\"Template.navigation\", (function() {                                             // 3\n  var view = this;                                                                                                     // 4\n  return [ HTML.DIV({                                                                                                  // 5\n    class: \"top-nav\"                                                                                                   // 6\n  }, \"\\n        \", HTML.NAV(\"\\n            \", HTML.DIV({                                                               // 7\n    class: \"nav-extend hidden-print\"                                                                                   // 8\n  }, \"\\n                \", HTML.SPAN({                                                                                 // 9\n    class: \"side-nav-prompt\"                                                                                           // 10\n  }, \"\\n                    \", HTML.Raw('<i class=\"fa fa-bars\"></i>'), \" \", HTML.SPAN({                                // 11\n    class: \"hidden-xs hidden-sm\"                                                                                       // 12\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 13\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.left\");                                                           // 14\n  })), \"\\n                \"), \"\\n            \"), \"\\n            \", HTML.DIV({                                          // 15\n    class: \"nav-hub\"                                                                                                   // 16\n  }, \"\\n                \", HTML.Raw('<div class=\"nav-hub-progress\"></div>'), \"\\n                \", HTML.DIV({          // 17\n    class: \"nav-title-text text-morph\"                                                                                 // 18\n  }, HTML.SPAN(Blaze.View(\"lookup:title\", function() {                                                                 // 19\n    return Spacebars.mustache(view.lookup(\"title\"));                                                                   // 20\n  }))), \"\\n            \"), \"\\n            \", HTML.DIV({                                                                // 21\n    class: \"nav-oper hidden-print\"                                                                                     // 22\n  }, \"\\n                \", HTML.SPAN({                                                                                 // 23\n    class: \"top-operation-prompt\"                                                                                      // 24\n  }, \"\\n                    \", HTML.Raw('<i class=\"fa fa-search\"></i>'), \" \", HTML.SPAN({                              // 25\n    class: \"hidden-sm hidden-xs\"                                                                                       // 26\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 27\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.right\");                                                          // 28\n  })), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV(\"\\n            \", HTML.Raw('<form class=\"global-search\">\\n                <input type=\"text\" placeholder=\"Type something here to search\" class=\"main-search\" id=\"globalSearch\" autocomplete=\"off\">\\n            </form>'), \"\\n            \", HTML.DIV({\n    class: \"search-content\"                                                                                            // 30\n  }, \"\\n                \", HTML.DIV({                                                                                  // 31\n    class: \"container pt-60\"                                                                                           // 32\n  }, \"\\n                    \", HTML.DIV({                                                                              // 33\n    class: \"search-prompt\"                                                                                             // 34\n  }, \"\\n                        \", HTML.Raw('<p><i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i> </p>'), \"\\n                        \", HTML.P({\n    class: \"unselectable\"                                                                                              // 36\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 37\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.search_prompt.init\");                                             // 38\n  })), \"\\n                    \"), \"\\n                    \", Blaze.Each(function() {                                    // 39\n    return Spacebars.call(view.lookup(\"searchContent\"));                                                               // 40\n  }, function() {                                                                                                      // 41\n    return [ \"\\n                        \", HTML.DIV({                                                                  // 42\n      class: \"col-lg-6 \"                                                                                               // 43\n    }, \"\\n                            \", HTML.DIV({                                                                    // 44\n      class: \"search-result\"                                                                                           // 45\n    }, \"\\n                                \", HTML.H2(Blaze.View(\"lookup:headline\", function() {                        // 46\n      return Spacebars.mustache(view.lookup(\"headline\"));                                                              // 47\n    })), \"\\n                                \", HTML.P(Blaze.View(\"lookup:content\", function() {                        // 48\n      return Spacebars.mustache(view.lookup(\"content\"));                                                               // 49\n    })), \"\\n                                \", HTML.IMG({                                                              // 50\n      class: \"img-responsive\",                                                                                         // 51\n      src: function() {                                                                                                // 52\n        return Spacebars.mustache(view.lookup(\"img\"));                                                                 // 53\n      }                                                                                                                // 54\n    }), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];                  // 55\n  }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\\n    \", HTML.DIV({                       // 56\n    class: \"side-nav\"                                                                                                  // 57\n  }, \"\\n        \", HTML.DIV({                                                                                          // 58\n    class: \"side-nav-header\"                                                                                           // 59\n  }, \"\\n            \", HTML.H4(\"\\n                \", Blaze.View(\"lookup:username\", function() {                        // 60\n    return Spacebars.mustache(view.lookup(\"username\"));                                                                // 61\n  }), \"\\n            \"), \"\\n            \", HTML.A({                                                                    // 62\n    href: \"/logout\",                                                                                                   // 63\n    class: \"logout-btn\"                                                                                                // 64\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 65\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.logout\");                                                         // 66\n  })), \"\\n        \"), \"\\n        \", HTML.DIV({                                                                         // 67\n    class: \"side-nav-body\"                                                                                             // 68\n  }, \"\\n            \", Blaze.If(function() {                                                                           // 69\n    return Spacebars.call(view.lookup(\"dash\"));                                                                        // 70\n  }, function() {                                                                                                      // 71\n    return [ \"\\n                \", HTML.A({                                                                            // 72\n      href: \"/dashboard\"                                                                                               // 73\n    }, HTML.I({                                                                                                        // 74\n      class: \"fa fa-home\"                                                                                              // 75\n    }), \" Home\"), \"\\n                \", HTML.A({                                                                       // 76\n      href: \"/dashboard/announcements\"                                                                                 // 77\n    }, HTML.I({                                                                                                        // 78\n      class: \"fa fa-bullhorn\"                                                                                          // 79\n    }), \" Posts\"), \"\\n                \", HTML.A({                                                                      // 80\n      href: \"/dashboard/suggestions\"                                                                                   // 81\n    }, HTML.I({                                                                                                        // 82\n      class: \"fa fa-pencil-square-o\"                                                                                   // 83\n    }), \" Suggestions\"), \"\\n                \", HTML.A({                                                                // 84\n      href: \"/dashboard/categories\"                                                                                    // 85\n    }, HTML.I({                                                                                                        // 86\n      class: \"fa fa-list\"                                                                                              // 87\n    }), \" Manage Categories\"), \"\\n                \", HTML.A({                                                          // 88\n      href: \"/dashboard/organizations\"                                                                                 // 89\n    }, HTML.I({                                                                                                        // 90\n      class: \"fa fa-list\"                                                                                              // 91\n    }), \" Manage Organizations\"), \"\\n                \", HTML.A({                                                       // 92\n      href: \"/dashboard/users\"                                                                                         // 93\n    }, HTML.I({                                                                                                        // 94\n      class: \"fa fa-group\"                                                                                             // 95\n    }), \" Manage Users\"), \"\\n                \", HTML.A({                                                               // 96\n      href: \"\"                                                                                                         // 97\n    }, HTML.I({                                                                                                        // 98\n      class: \"fa fa-newspaper-o\"                                                                                       // 99\n    }), \" Newsletters\"), \"\\n                \", HTML.A({                                                                // 100\n      href: \"\"                                                                                                         // 101\n    }, HTML.I({                                                                                                        // 102\n      class: \"fa fa-gear\"                                                                                              // 103\n    }), \" Settings\"), \"\\n            \" ];                                                                              // 104\n  }, function() {                                                                                                      // 105\n    return [ \"\\n                \", HTML.A({                                                                            // 106\n      href: \"/\"                                                                                                        // 107\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 108\n      return Spacebars.mustache(view.lookup(\"_\"), \"nav.side_items.stream\");                                            // 109\n    })), \"\\n                \", HTML.A({                                                                                // 110\n      href: \"/stories\"                                                                                                 // 111\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 112\n      return Spacebars.mustache(view.lookup(\"_\"), \"nav.side_items.stories\");                                           // 113\n    })), \"\\n                \", Blaze.If(function() {                                                                   // 114\n      return Spacebars.call(view.lookup(\"isStudent\"));                                                                 // 115\n    }, function() {                                                                                                    // 116\n      return [ \"\\n                    \", HTML.A({                                                                      // 117\n        href: \"\",                                                                                                      // 118\n        id: \"academics\"                                                                                                // 119\n      }, HTML.DIV({                                                                                                    // 120\n        class: \"expand-text\"                                                                                           // 121\n      }, Blaze.View(\"lookup:_\", function() {                                                                           // 122\n        return Spacebars.mustache(view.lookup(\"_\"), \"nav.side_items.marks\");                                           // 123\n      })), HTML.I({                                                                                                    // 124\n        class: \"fa fa-times academics-icon\"                                                                            // 125\n      })), \"\\n                    \", HTML.UL({                                                                         // 126\n        class: \"course-list\"                                                                                           // 127\n      }, \"\\n                        \", Blaze.Each(function() {                                                         // 128\n        return Spacebars.call(view.lookup(\"courses\"));                                                                 // 129\n      }, function() {                                                                                                  // 130\n        return [ \"\\n                            \", HTML.LI(HTML.A({                                                    // 131\n          href: function() {                                                                                           // 132\n            return [ \"/course/\", Spacebars.mustache(view.lookup(\"subject_id\")) ];                                      // 133\n          },                                                                                                           // 134\n          class: \"course-link\"                                                                                         // 135\n        }, Blaze.View(\"lookup:course\", function() {                                                                    // 136\n          return Spacebars.mustache(view.lookup(\"course\"));                                                            // 137\n        }), HTML.I({                                                                                                   // 138\n          class: function() {                                                                                          // 139\n            return Spacebars.mustache(view.lookup(\"state\"));                                                           // 140\n          }                                                                                                            // 141\n        }, Blaze.View(\"lookup:mark\", function() {                                                                      // 142\n          return Spacebars.mustache(view.lookup(\"mark\"));                                                              // 143\n        })))), \"\\n                        \" ];                                                                         // 144\n      }), \"\\n                    \"), \"\\n                    \", HTML.A({                                                // 145\n        href: \"\"                                                                                                       // 146\n      }, Blaze.View(\"lookup:_\", function() {                                                                           // 147\n        return Spacebars.mustache(view.lookup(\"_\"), \"nav.side_items.suggest\");                                         // 148\n      })), \"\\n                \" ];                                                                                     // 149\n    }), \"\\n                \", Blaze.If(function() {                                                                    // 150\n      return Spacebars.call(view.lookup(\"isAdmin\"));                                                                   // 151\n    }, function() {                                                                                                    // 152\n      return [ \"\\n                    \", HTML.A({                                                                      // 153\n        href: \"/dashboard\"                                                                                             // 154\n      }, Blaze.View(\"lookup:_\", function() {                                                                           // 155\n        return Spacebars.mustache(view.lookup(\"_\"), \"nav.side_items.admin\");                                           // 156\n      })), \"\\n                \" ];                                                                                     // 157\n    }), \"\\n            \" ];                                                                                            // 158\n  }), \"\\n        \"), \"\\n    \"), HTML.Raw('\\n    <div class=\"nav-overlay\"></div>') ];                                   // 159\n}));                                                                                                                   // 160\n                                                                                                                       // 161\nTemplate.__checkName(\"teachAssistPass\");                                                                               // 162\nTemplate[\"teachAssistPass\"] = new Template(\"Template.teachAssistPass\", (function() {                                   // 163\n  var view = this;                                                                                                     // 164\n  return HTML.DIV({                                                                                                    // 165\n    class: \"modal fade\"                                                                                                // 166\n  }, \"\\n        \", HTML.DIV({                                                                                          // 167\n    class: \"modal-dialog\"                                                                                              // 168\n  }, \"\\n            \", HTML.DIV({                                                                                      // 169\n    class: \"modal-content\"                                                                                             // 170\n  }, \"\\n                \", HTML.DIV({                                                                                  // 171\n    class: \"modal-header\"                                                                                              // 172\n  }, \"\\n                    \", HTML.H4({                                                                               // 173\n    class: \"modal-title\"                                                                                               // 174\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 175\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.teach.login\");                                                    // 176\n  }), \" \", Blaze.View(\"lookup:student_id\", function() {                                                                // 177\n    return Spacebars.mustache(view.lookup(\"student_id\"));                                                              // 178\n  })), \"\\n                \"), \"\\n                \", HTML.DIV({                                                         // 179\n    class: \"modal-body\"                                                                                                // 180\n  }, \"\\n                    \", HTML.FORM({                                                                             // 181\n    id: \"reLoginForm\"                                                                                                  // 182\n  }, \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <input type=\"password\" aria-describedby=\"TeachAssistPassword\" placeholder=\"Password\" id=\"reLoginPass\">\\n                        </div>'), \"\\n                        \", HTML.BUTTON({\n    type: \"submit\",                                                                                                    // 184\n    class: \"btn btn-primary btn-wide\"                                                                                  // 185\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 186\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.teach.submit_login\");                                             // 187\n  })), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.DIV({                            // 188\n    class: \"modal-footer\"                                                                                              // 189\n  }, \"\\n                    \", HTML.BUTTON({                                                                           // 190\n    type: \"button\",                                                                                                    // 191\n    class: \"btn btn-default\",                                                                                          // 192\n    \"data-dismiss\": \"modal\"                                                                                            // 193\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 194\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.close\");                                                          // 195\n  })), \"\\n                \"), \"\\n\\n            \"), \"\\n        \"), \"\\n    \");                                           // 196\n}));                                                                                                                   // 197\n                                                                                                                       // 198\nTemplate.__checkName(\"teachAssistConnect\");                                                                            // 199\nTemplate[\"teachAssistConnect\"] = new Template(\"Template.teachAssistConnect\", (function() {                             // 200\n  var view = this;                                                                                                     // 201\n  return HTML.DIV({                                                                                                    // 202\n    class: \"modal fade\"                                                                                                // 203\n  }, \"\\n        \", HTML.DIV({                                                                                          // 204\n    class: \"modal-dialog\"                                                                                              // 205\n  }, \"\\n            \", HTML.DIV({                                                                                      // 206\n    class: \"modal-content\"                                                                                             // 207\n  }, \"\\n                \", HTML.DIV({                                                                                  // 208\n    class: \"modal-header\"                                                                                              // 209\n  }, \"\\n                    \", HTML.H4({                                                                               // 210\n    class: \"modal-title\"                                                                                               // 211\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 212\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.teach.connect\");                                                  // 213\n  })), \"\\n                \"), \"\\n                \", HTML.DIV({                                                         // 214\n    class: \"modal-body\"                                                                                                // 215\n  }, \"\\n                    \", HTML.FORM({                                                                             // 216\n    id: \"connectLoginForm\"                                                                                             // 217\n  }, \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <input type=\"text\" aria-describedby=\"TeachAssistStudentNumber\" placeholder=\"Student Number\" id=\"connectNum\">\\n                        </div>'), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <input type=\"password\" aria-describedby=\"TeachAssistPassword\" placeholder=\"Password\" id=\"connectPass\">\\n                        </div>'), \"\\n                        \", HTML.BUTTON({\n    type: \"submit\",                                                                                                    // 219\n    class: \"btn btn-primary btn-wide\"                                                                                  // 220\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 221\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.teach.submit_login\");                                             // 222\n  })), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.DIV({                            // 223\n    class: \"modal-footer\"                                                                                              // 224\n  }, \"\\n                    \", HTML.BUTTON({                                                                           // 225\n    type: \"button\",                                                                                                    // 226\n    class: \"btn btn-default\",                                                                                          // 227\n    \"data-dismiss\": \"modal\"                                                                                            // 228\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 229\n    return Spacebars.mustache(view.lookup(\"_\"), \"nav.close\");                                                          // 230\n  })), \"\\n                \"), \"\\n\\n            \"), \"\\n        \"), \"\\n    \");                                           // 231\n}));                                                                                                                   // 232\n                                                                                                                       // 233\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"editor.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/components/editor.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar Images = void 0;                                                                                                   // 1\nmodule.watch(require(\"../../api/images/images.js\"), {                                                                  // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nmodule.watch(require(\"./editor.html\"));                                                                                // 1\nvar operationStack = ['.editor-open'];                                                                                 // 7\nvar hasUnsplash = false;                                                                                               // 8\nvar originalTitle = \"\";                                                                                                // 9\nvar allPosts = null;                                                                                                   // 10\nTemplate.allPosts.onRendered(function () {                                                                             // 11\n    Tracker.autorun(function () {                                                                                      // 12\n        allPosts = Meteor.subscribeWithPagination('postsByUser', 10);                                                  // 13\n        Meteor.subscribe('images');                                                                                    // 14\n    });                                                                                                                // 15\n});                                                                                                                    // 16\nTemplate.blogDraft.onRendered(function () {                                                                            // 18\n    Tracker.autorun(function () {                                                                                      // 19\n        Meteor.subscribeWithPagination('drafts', 10);                                                                  // 20\n        Meteor.subscribe('images');                                                                                    // 21\n    });                                                                                                                // 22\n});                                                                                                                    // 23\nTemplate.blogEditor.onRendered(function () {                                                                           // 25\n    Tracker.autorun(function () {                                                                                      // 26\n        var categorySub = Meteor.subscribe('blogCategories');                                                          // 27\n        var courseSub = Meteor.subscribe('allCourses', 1000);                                                          // 28\n        var clubSub = Meteor.subscribe('allClubs', 1000);                                                              // 29\n                                                                                                                       //\n        if (categorySub.ready()) {                                                                                     // 30\n            var categories = BlogCategories.find({});                                                                  // 31\n            categories.observeChanges({                                                                                // 32\n                added: function (id, fields) {                                                                         // 33\n                    var newCat = new Option(fields.name, fields.name);                                                 // 34\n                    $('#blogCategorySelect').append(newCat);                                                           // 35\n                }                                                                                                      // 36\n            });                                                                                                        // 32\n        }                                                                                                              // 38\n                                                                                                                       //\n        if (courseSub.ready() && clubSub.ready()) {                                                                    // 39\n            var courses = Courses.find({});                                                                            // 40\n            var clubs = Clubs.find({});                                                                                // 41\n            courses.observeChanges({                                                                                   // 42\n                added: function (id, fields) {                                                                         // 43\n                    var newCat = new Option(fields.name + \" - \" + fields.code, fields.code);                           // 44\n                    $('#blogOrganizationSelect').append(newCat);                                                       // 45\n                }                                                                                                      // 46\n            });                                                                                                        // 42\n            clubs.observeChanges({                                                                                     // 48\n                added: function (id, fields) {                                                                         // 49\n                    var newCat = new Option(fields.name, fields.code);                                                 // 50\n                    $('#blogOrganizationSelect').append(newCat);                                                       // 51\n                }                                                                                                      // 52\n            });                                                                                                        // 48\n        }                                                                                                              // 54\n    });                                                                                                                // 55\n    $(document).ready(function () {                                                                                    // 56\n        $('#blogCategorySelect').select2({                                                                             // 57\n            placeholder: \"Click to select matching categories\",                                                        // 58\n            allowClear: true                                                                                           // 59\n        });                                                                                                            // 57\n        $('#blogOrganizationSelect').select2({                                                                         // 61\n            placeholder: \"Click to select matching categories\",                                                        // 62\n            allowClear: true                                                                                           // 63\n        }); // Append it to the select                                                                                 // 61\n                                                                                                                       //\n        $('.visibility-select').select2({                                                                              // 66\n            placeholder: \"Click to select the scope of this post\"                                                      // 67\n        });                                                                                                            // 66\n        $('.input-date').datepicker({                                                                                  // 69\n            startDate: '+1d'                                                                                           // 70\n        });                                                                                                            // 69\n        var $editor = $('.editable');                                                                                  // 72\n        $editor.froalaEditor({                                                                                         // 73\n            scaytAutoload: false,                                                                                      // 74\n            //This setting can be completely ignored.                                                                  // 75\n            scaytOptions: {                                                                                            // 76\n                enableOnTouchDevices: false,                                                                           // 77\n                localization: 'en',                                                                                    // 78\n                extraModules: 'ui',                                                                                    // 79\n                DefaultSelection: 'American English',                                                                  // 80\n                spellcheckLang: 'en_US',                                                                               // 81\n                contextMenuSections: 'suggest|moresuggest',                                                            // 82\n                serviceProtocol: 'https',                                                                              // 83\n                servicePort: '80',                                                                                     // 84\n                serviceHost: 'svc.webspellchecker.net',                                                                // 85\n                servicePath: 'spellcheck/script/ssrv.cgi',                                                             // 86\n                contextMenuForMisspelledOnly: true,                                                                    // 87\n                scriptPath: 'https://demo.webspellchecker.net/froala/customscayt.js'                                   // 88\n            },                                                                                                         // 76\n            //ignore end                                                                                               // 90\n            toolbarButtons: ['fullscreen', '|', 'paragraphFormat', 'bold', 'italic', 'underline', 'strikeThrough', 'subscript', 'superscript', '|', 'align', 'formatOL', 'formatUL', 'outdent', 'indent', 'quote', '-', 'insertLink', 'insertImage', 'insertFile', 'insertVideo', 'insertTable', '|', 'emoticons', 'specialCharacters', 'insertHR', '|', 'print', 'help', '|', 'undo', 'redo'],\n            toolbarButtonsSM: ['fullscreen', '|', 'bold', 'italic', 'underline', '|', 'paragraphFormat', 'align', 'formatOL', 'formatUL', 'outdent', 'indent', 'quote', '-', 'insertLink', 'insertImage', 'insertFile', 'insertVideo', 'insertTable', '|', 'specialCharacters', 'insertHR', 'selectAll', 'clearFormatting', '|', 'print', 'help', '|', 'undo', 'redo'],\n            placeholderText: 'Tell your story here...',                                                                // 93\n            tableStyles: {                                                                                             // 94\n                class1: 'table'                                                                                        // 95\n            },                                                                                                         // 94\n            paragraphFormat: {                                                                                         // 97\n                N: 'Normal',                                                                                           // 98\n                H2: 'Title',                                                                                           // 99\n                PRE: 'Code'                                                                                            // 100\n            },                                                                                                         // 97\n            fileAllowedTypes: ['application/pdf', 'application/msword']                                                // 102\n        });                                                                                                            // 73\n        $editor.on('froalaEditor.image.beforeUpload', function (e, editor, images) {                                   // 104\n            var self = $(this);                                                                                        // 105\n            Images.insert(images[0], function (err, fileObj) {                                                         // 107\n                //console.log(\"editor \",  editor);                                                                     // 108\n                //console.log(\"after insert:\", fileObj._id);                                                           // 109\n                Tracker.autorun(function (c) {                                                                         // 110\n                    fileObj = Images.findOne(fileObj._id);                                                             // 111\n                    var url = fileObj.url();                                                                           // 112\n                                                                                                                       //\n                    if (url) {                                                                                         // 113\n                        var imgList = $('img.fr-fic');                                                                 // 114\n                        self.froalaEditor('image.insert', url, true);                                                  // 115\n                        imgList[imgList.length - 1].remove();                                                          // 116\n                        return {                                                                                       // 117\n                            link: url                                                                                  // 118\n                        };                                                                                             // 117\n                    }                                                                                                  // 120\n                });                                                                                                    // 121\n            });                                                                                                        // 122\n        });                                                                                                            // 123\n                                                                                                                       //\n        if (Meteor.isClient) {                                                                                         // 124\n            Dropzone.autoDiscover = false;                                                                             // 125\n            $(\".tags\").tagsinput('items');                                                                             // 126\n            var blogDrop = initDropZone('dropzone', {                                                                  // 127\n                number: 1,                                                                                             // 128\n                size: 8,                                                                                               // 129\n                message: \"Drop an image here to be the featured image, or click to select an image using the browser.\"\n            });                                                                                                        // 127\n        }                                                                                                              // 132\n    });                                                                                                                // 133\n});                                                                                                                    // 134\nTemplate.announcementEditor.onRendered(function () {                                                                   // 136\n    Tracker.autorun(function () {                                                                                      // 137\n        var categorySub = Meteor.subscribe('categories');                                                              // 138\n        var clubSub = Meteor.subscribe('allClubs', 100);                                                               // 139\n                                                                                                                       //\n        if (categorySub.ready()) {                                                                                     // 140\n            var categories = Categories.find({});                                                                      // 141\n            categories.observeChanges({                                                                                // 142\n                added: function (id, fields) {                                                                         // 143\n                    var newCat = new Option(fields.name, fields.name);                                                 // 144\n                    $('.announcement-category').append(newCat);                                                        // 145\n                }                                                                                                      // 146\n            });                                                                                                        // 142\n        }                                                                                                              // 148\n                                                                                                                       //\n        if (clubSub.ready()) {                                                                                         // 149\n            var clubs = Clubs.find({});                                                                                // 150\n            clubs.observeChanges({                                                                                     // 151\n                added: function (id, fields) {                                                                         // 152\n                    var newCat = new Option(fields.name, fields.name);                                                 // 153\n                    $('.clubs-category').append(newCat);                                                               // 154\n                }                                                                                                      // 155\n            });                                                                                                        // 151\n        }                                                                                                              // 157\n    });                                                                                                                // 158\n    $(document).ready(function () {                                                                                    // 159\n        $('.category-select').select2({                                                                                // 160\n            placeholder: \"Click to select matching categories\",                                                        // 161\n            allowClear: true                                                                                           // 162\n        });                                                                                                            // 160\n        $('.input-daterange').datepicker({                                                                             // 164\n            startDate: '+1d'                                                                                           // 165\n        });                                                                                                            // 164\n                                                                                                                       //\n        if (Meteor.isClient) {                                                                                         // 167\n            var arrayOfImageIds = [];                                                                                  // 168\n            Dropzone.autoDiscover = false;                                                                             // 169\n            $(\".tags\").tagsinput('items');                                                                             // 170\n            var announcementDrop = initDropZone(\"announcementImage\", {                                                 // 171\n                number: 1,                                                                                             // 172\n                size: 8,                                                                                               // 173\n                message: \"Drop your poster here, or click to select an image using the browser.\"                       // 174\n            });                                                                                                        // 171\n            var announcementImageTwo = initDropZone(\"announcementImageTwo\", {                                          // 176\n                number: 1,                                                                                             // 177\n                size: 8,                                                                                               // 178\n                message: \"Drop your poster here, or click to select an image using the browser.\"                       // 179\n            });                                                                                                        // 176\n        }                                                                                                              // 181\n    });                                                                                                                // 183\n});                                                                                                                    // 184\nTemplate.suggestionEditor.onRendered(function () {                                                                     // 186\n    var suggestionDrop = initDropZone('suggestionImage', {                                                             // 187\n        number: 1,                                                                                                     // 188\n        size: 8                                                                                                        // 189\n    });                                                                                                                // 187\n});                                                                                                                    // 191\nTemplate.announcementOptions.onRendered(function () {                                                                  // 193\n    this.$(\".announce-tags\").tagsinput('items');                                                                       // 194\n});                                                                                                                    // 195\nTemplate.editor.helpers({                                                                                              // 197\n    'canEdit': function () {                                                                                           // 198\n        return Roles.userIsInRole(Meteor.userId(), ['teacher', 'blogEditor', 'announcementEditor', 'admin']);          // 199\n    },                                                                                                                 // 200\n    'canWriteAnnounce': function () {                                                                                  // 201\n        return Roles.userIsInRole(Meteor.userId(), ['teacher', 'admin', 'announcementEditor']);                        // 202\n    },                                                                                                                 // 203\n    'canWriteBlog': function () {                                                                                      // 204\n        return Roles.userIsInRole(Meteor.userId(), ['teacher', 'admin', 'blogEditor']);                                // 205\n    }                                                                                                                  // 206\n});                                                                                                                    // 197\nTemplate.blogDraft.helpers({                                                                                           // 209\n    'drafts': function () {                                                                                            // 210\n        return Drafts.find({});                                                                                        // 211\n    },                                                                                                                 // 212\n    'draftedDate': function () {                                                                                       // 213\n        return moment(this.draftedDate).format('MMMM Do YYYY');                                                        // 214\n    },                                                                                                                 // 215\n    'imageLink': function () {                                                                                         // 216\n        if (this.unsplash) {                                                                                           // 217\n            return this.unsplash.urls.full;                                                                            // 218\n        } else {                                                                                                       // 219\n            try {                                                                                                      // 220\n                return Images.findOne({                                                                                // 221\n                    _id: this.imgId                                                                                    // 221\n                }).url();                                                                                              // 221\n            } catch (e) {//console.log('error getting photo')                                                          // 222\n            }                                                                                                          // 224\n        }                                                                                                              // 225\n    },                                                                                                                 // 226\n    'isBlog': function () {                                                                                            // 227\n        return this.type === 'blog';                                                                                   // 228\n    }                                                                                                                  // 229\n});                                                                                                                    // 209\nTemplate.allPosts.helpers({                                                                                            // 232\n    'post': function () {                                                                                              // 233\n        return Posts.find({                                                                                            // 234\n            'author': Meteor.userId()                                                                                  // 235\n        });                                                                                                            // 234\n    },                                                                                                                 // 237\n    'draftedDate': function () {                                                                                       // 238\n        return moment(this.draftedDate).format('MMMM Do YYYY');                                                        // 239\n    },                                                                                                                 // 240\n    'imageLink': function () {                                                                                         // 241\n        if (this.unsplash) {                                                                                           // 242\n            return this.unsplash.urls.full;                                                                            // 243\n        } else {                                                                                                       // 244\n            try {                                                                                                      // 245\n                return Images.findOne({                                                                                // 246\n                    _id: this.imgId                                                                                    // 246\n                }).url();                                                                                              // 246\n            } catch (e) {//console.log('error getting photo')                                                          // 247\n            }                                                                                                          // 249\n        }                                                                                                              // 250\n    },                                                                                                                 // 251\n    'isBlog': function () {                                                                                            // 252\n        return this.type === 'blog';                                                                                   // 253\n    },                                                                                                                 // 254\n    'stage': function () {                                                                                             // 255\n        return this.meta.screeningStage;                                                                               // 256\n    },                                                                                                                 // 257\n    'stageCaption': function () {                                                                                      // 258\n        var text = 'Post Submitted';                                                                                   // 259\n                                                                                                                       //\n        if (this.meta.screeningStage === 3) {                                                                          // 260\n            text = \"Post Approved\";                                                                                    // 261\n        } else if (this.meta.screeningStage === -1) {                                                                  // 262\n            text = \"Post Rejected\";                                                                                    // 263\n        }                                                                                                              // 264\n                                                                                                                       //\n        return text;                                                                                                   // 265\n    }                                                                                                                  // 266\n}); /* Events */                                                                                                       // 232\nTemplate.editor.events({                                                                                               // 271\n    'click #openEditor': function () {                                                                                 // 272\n        originalTitle = Session.get('DocumentTitle');                                                                  // 273\n        Session.set('DocumentTitle', 'Composer | uhs.life');                                                           // 274\n        swapElements('.editor-open', '.editor-main');                                                                  // 276\n                                                                                                                       //\n        if (operationStack.length === 1) {                                                                             // 277\n            operationStack.push('.blog-intro');                                                                        // 278\n        }                                                                                                              // 279\n                                                                                                                       //\n        $('html, body').css({                                                                                          // 280\n            overflow: 'hidden'                                                                                         // 281\n        }); // Disables the Scrolling                                                                                  // 280\n    },                                                                                                                 // 283\n    'click #startNewDraft': function () {                                                                              // 284\n        swapElements('.blog-intro', '.post-type');                                                                     // 285\n        operationStack.push('.post-type');                                                                             // 286\n    },                                                                                                                 // 287\n    'click #checkDrafts': function () {                                                                                // 288\n        swapElements('.blog-intro', '.blog-drafts');                                                                   // 289\n        operationStack.push('.blog-drafts');                                                                           // 290\n    },                                                                                                                 // 291\n    'click #checkAll': function () {                                                                                   // 292\n        swapElements('.blog-intro', '.all-posts');                                                                     // 293\n        operationStack.push('.all-posts');                                                                             // 294\n    },                                                                                                                 // 295\n    'click #startBlog': function () {                                                                                  // 296\n        swapElements('.post-type', '.blog-editor');                                                                    // 297\n        operationStack.push('.blog-editor');                                                                           // 298\n        Session.set('announcementType', 'blog');                                                                       // 299\n    },                                                                                                                 // 300\n    'click #startAnnouncement': function () {                                                                          // 301\n        swapElements('.post-type', '.announcement-menu');                                                              // 302\n        operationStack.push('.announcement-menu');                                                                     // 303\n    },                                                                                                                 // 304\n    'click #startSuggestion': function () {                                                                            // 305\n        swapElements('.post-type', '.suggestions');                                                                    // 306\n        operationStack.push('.suggestions');                                                                           // 307\n        Session.set('announcementType', 'suggestion');                                                                 // 308\n    },                                                                                                                 // 309\n    'click .editor-close': function () {                                                                               // 310\n        Session.set('DocumentTitle', originalTitle);                                                                   // 311\n        swapElements('.editor-main', '.editor-open');                                                                  // 312\n        $('html, body').css({                                                                                          // 313\n            overflow: 'visible'                                                                                        // 314\n        }); // Disables the Scrolling                                                                                  // 313\n    },                                                                                                                 // 316\n    'click .editor-back': function () {                                                                                // 317\n        if (operationStack.length - 2 === 0) {                                                                         // 318\n            Session.set('DocumentTitle', originalTitle);                                                               // 319\n            swapElements('.editor-main', '.editor-open');                                                              // 320\n            $('html, body').css({                                                                                      // 321\n                overflow: 'visible'                                                                                    // 322\n            }); // Enables the Scrolling                                                                               // 321\n        } else {                                                                                                       // 324\n            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);        // 325\n        }                                                                                                              // 326\n                                                                                                                       //\n        operationStack.pop();                                                                                          // 327\n    },                                                                                                                 // 328\n    'click #imageOnly': function () {                                                                                  // 329\n        swapElements('.announcement-menu', '.image-only');                                                             // 330\n        operationStack.push('.image-only');                                                                            // 331\n        Session.set('announcementType', 'imageOnly');                                                                  // 332\n    },                                                                                                                 // 333\n    'click #textOnly': function () {                                                                                   // 334\n        swapElements('.announcement-menu', '.text-only');                                                              // 335\n        operationStack.push('.text-only');                                                                             // 336\n        Session.set('announcementType', 'textOnly');                                                                   // 337\n    },                                                                                                                 // 338\n    'click #textAndImage': function () {                                                                               // 339\n        swapElements('.announcement-menu', '.text-and-image');                                                         // 340\n        operationStack.push('.text-and-image');                                                                        // 341\n        Session.set('announcementType', 'textAndImage');                                                               // 342\n    },                                                                                                                 // 343\n    'input .announcement-text': function (evt) {                                                                       // 344\n        var maxlength = $(evt.target).attr(\"maxlength\");                                                               // 345\n        var length = $(evt.target).val().length;                                                                       // 346\n                                                                                                                       //\n        if (length >= maxlength) {                                                                                     // 348\n            console.log(\"You have reached the maximum number of characters.\");                                         // 349\n            $('.announcement-counter').text(0);                                                                        // 350\n        } else {                                                                                                       // 351\n            $('.announcement-counter').text(maxlength - length);                                                       // 352\n        }                                                                                                              // 353\n    },                                                                                                                 // 354\n    'click .priority-toggle': function (evt) {                                                                         // 355\n        var priority = $(evt.target).attr('data-priority');                                                            // 356\n        $('.is-checked').removeClass('is-checked');                                                                    // 357\n        $(evt.target).addClass('is-checked');                                                                          // 358\n        Session.set('priority', priority);                                                                             // 359\n    }                                                                                                                  // 360\n});                                                                                                                    // 271\nTemplate.allPosts.events({                                                                                             // 362\n    'click .load-more-posts': function (evt) {                                                                         // 363\n        evt.preventDefault();                                                                                          // 364\n        allPosts.loadNextPage();                                                                                       // 365\n    },                                                                                                                 // 366\n    'click .draft-item': function (evt) {                                                                              // 367\n        if (!$(evt.target).hasClass('btn-delete-post') && !$(evt.target).hasClass('btn-republish-post')) {             // 368\n            var obj = $(evt.target).closest($('.draft-item'));                                                         // 369\n            var id = obj.attr('id');                                                                                   // 370\n            setEditorContent(Posts.findOne({                                                                           // 371\n                _id: id                                                                                                // 371\n            }));                                                                                                       // 371\n        }                                                                                                              // 372\n    },                                                                                                                 // 373\n    'click .btn-delete-post': function (evt) {                                                                         // 374\n        evt.preventDefault();                                                                                          // 375\n        var obj = $(evt.target).closest($('.draft-item'));                                                             // 376\n        var id = obj.attr('id');                                                                                       // 377\n        alertConfirm('Are you sure', 'This action cannot be reverted, if you don\\'t want this post to show up in the list, we recommend you archive it.', function (accepted) {\n            if (accepted) {                                                                                            // 379\n                Posts.remove({                                                                                         // 380\n                    _id: id                                                                                            // 380\n                }, function (err) {                                                                                    // 380\n                    if (err) {                                                                                         // 381\n                        alertError(\"Error Removing Post\", \"Please try again later.\\n\" + err.message);                  // 382\n                    } else {                                                                                           // 383\n                        alertSuccess(\"Successfully Removed Post\", \"\");                                                 // 384\n                    }                                                                                                  // 385\n                });                                                                                                    // 386\n            }                                                                                                          // 387\n        });                                                                                                            // 388\n    }                                                                                                                  // 389\n});                                                                                                                    // 362\nTemplate.blogEditor.events({                                                                                           // 391\n    'click .publish': function (event, template) {                                                                     // 392\n        var json = constructBlogJson();                                                                                // 393\n        Meteor.call('posts.postBlog', json, function (err) {                                                           // 395\n            if (err) {                                                                                                 // 396\n                alertError('Post Failed!', err.message);                                                               // 397\n            } else {                                                                                                   // 398\n                alertSuccess('Success!', 'The post has been submitted.');                                              // 399\n                Drafts.remove({                                                                                        // 400\n                    _id: Session.get('draftEditItem')                                                                  // 400\n                });                                                                                                    // 400\n                Session.set('draftEditItem', null);                                                                    // 401\n                wipeEditor('blog'); // Go back                                                                         // 402\n                                                                                                                       //\n                if (operationStack.length - 2 === 0) {                                                                 // 404\n                    swapElements('.editor-main', '.editor-open');                                                      // 405\n                    $('html, body').css({                                                                              // 406\n                        overflow: 'visible'                                                                            // 407\n                    }); // Enables the Scrolling                                                                       // 406\n                } else {                                                                                               // 409\n                    swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                }                                                                                                      // 411\n                                                                                                                       //\n                operationStack.pop();                                                                                  // 412\n            }                                                                                                          // 413\n        });                                                                                                            // 414\n    },                                                                                                                 // 415\n    'click .save-draft': function () {                                                                                 // 416\n        var json = constructBlogJson();                                                                                // 417\n                                                                                                                       //\n        if (Session.get('draftEditItem')) {                                                                            // 418\n            Drafts.update({                                                                                            // 419\n                _id: Session.get('draftEditItem')                                                                      // 419\n            }, json, function (err) {                                                                                  // 419\n                if (err) {                                                                                             // 420\n                    alertError('Saving Draft Failed!', err.message);                                                   // 421\n                } else {                                                                                               // 422\n                    alertSuccess(\"Saved!\", \"\");                                                                        // 423\n                }                                                                                                      // 424\n            });                                                                                                        // 425\n        } else {                                                                                                       // 426\n            Meteor.call('drafts.postDraftBlog', json, function (err) {                                                 // 427\n                if (err) {                                                                                             // 428\n                    alertError('Saving Draft Failed!', err.message);                                                   // 429\n                } else {                                                                                               // 430\n                    alertSuccess('Success!', 'The draft has been saved.');                                             // 431\n                }                                                                                                      // 432\n            });                                                                                                        // 433\n        }                                                                                                              // 434\n    },                                                                                                                 // 435\n    'click #getFeaturedUnsplash': function (evt, template) {                                                           // 436\n        $('#unsplashPrompt').html(\"<i class='fa fa-spinner fa-pulse fa-fw'></i> Please Wait...\");                      // 437\n        Meteor.call('setupUnsplash', function (err) {                                                                  // 438\n            if (err) {                                                                                                 // 439\n                console.log(err);                                                                                      // 440\n                hasUnsplash = false;                                                                                   // 441\n            } else {                                                                                                   // 442\n                var list = getKeyWord($('.editable').froalaEditor('html.get'));                                        // 443\n                var agent = 0;                                                                                         // 444\n                                                                                                                       //\n                var getImg = function () {                                                                             // 445\n                    Meteor.call('searchKeyword', list[agent], function (err, data) {                                   // 446\n                        if (err) {                                                                                     // 447\n                            console.log(err);                                                                          // 448\n                            $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one.\");\n                            hasUnsplash = false;                                                                       // 450\n                        } else {                                                                                       // 451\n                            console.log(data);                                                                         // 452\n                                                                                                                       //\n                            if (data.results.length <= 0) {                                                            // 453\n                                agent++;                                                                               // 454\n                                                                                                                       //\n                                if (agent <= list.length) {                                                            // 455\n                                    console.log('no image found');                                                     // 456\n                                    getImg();                                                                          // 457\n                                } else {                                                                               // 458\n                                    $('#unsplashPrompt').html(\"<i class='fa fa-spinner fa-pulse fa-fw'></i> Please Wait...\");\n                                    Meteor.call('getRandomPhoto', function (err, data) {                               // 460\n                                        if (err) {                                                                     // 461\n                                            console.log(err);                                                          // 462\n                                            $('.unsplash-container').replaceWith(\"<form action='/file-upload' class='dropzone' id='dropzone'></form>\");\n                                            var blogDrop = initDropZone('dropzone', {                                  // 464\n                                                number: 1,                                                             // 465\n                                                size: 8,                                                               // 466\n                                                message: \"Drop an image here to be the featured image, or click to select an image using the browser.\"\n                                            });                                                                        // 464\n                                            $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one instead.\");\n                                            hasUnsplash = false;                                                       // 470\n                                        } else {                                                                       // 471\n                                            console.log(data);                                                         // 472\n                                            Session.set('unsplash_img', data.id);                                      // 473\n                                            Session.set('unsplashData', data);                                         // 474\n                                            $('#dropzone').replaceWith(\"<img src='\" + data.urls.regular + \"' class='img-responsive unsplash-container'/>\");\n                                            $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\" + data.user.links.html + \"?utm_source=uhs.life&utm_medium=referral&utm_campaign=api-credit'>\" + data.user.name + \"</a> from \" + data.user.location + \" via <b>Unsplash</b>. <br><br> Want a differnt one? <a href='' id='newUnsplash'>Click Here</a>. Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\n                                        }                                                                              // 477\n                                    });                                                                                // 478\n                                }                                                                                      // 479\n                            } else {                                                                                   // 480\n                                var num = getRandomInt(0, data.results.length - 1);                                    // 481\n                                Session.set('unsplash_img', data.results[num].id);                                     // 482\n                                Session.set('unsplashData', data.results[num]);                                        // 483\n                                hasUnsplash = true;                                                                    // 484\n                                $('#dropzone').replaceWith(\"<img src='\" + data.results[num].urls.regular + \"' class='img-responsive unsplash-container'/>\");\n                                $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\" + data.results[num].user.links.html + \"?utm_source=uhs.life&utm_medium=referral&utm_campaign=api-credit'>\" + data.results[num].user.name + \"</a> from \" + data.results[num].user.location + \" via <b>Unsplash</b>. <br><br> This will be your featured image, if you want another one <a href='' id='newUnsplash'>Click Here</a> Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\n                            }                                                                                          // 487\n                        }                                                                                              // 489\n                    });                                                                                                // 490\n                };                                                                                                     // 491\n                                                                                                                       //\n                getImg();                                                                                              // 492\n            }                                                                                                          // 493\n        });                                                                                                            // 494\n    },                                                                                                                 // 495\n    'click #newUnsplash': function () {                                                                                // 496\n        $('#unsplashPrompt').html(\"<i class='fa fa-spinner fa-pulse fa-fw'></i> Please Wait...\");                      // 497\n        Meteor.call('getRandomPhoto', function (err, data) {                                                           // 498\n            if (err) {                                                                                                 // 499\n                console.log(err);                                                                                      // 500\n                $('.unsplash-container').replaceWith(\"<form action='/file-upload' class='dropzone' id='dropzone'></form>\");\n                var blogDrop = initDropZone('dropzone', {                                                              // 502\n                    number: 1,                                                                                         // 503\n                    size: 8,                                                                                           // 504\n                    message: \"Drop an image here to be the featured image, or click to select an image using the browser.\"\n                });                                                                                                    // 502\n                $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one instead.\");  // 507\n                hasUnsplash = false;                                                                                   // 508\n            } else {                                                                                                   // 509\n                console.log(data);                                                                                     // 510\n                Session.set('unsplash_img', data.id);                                                                  // 511\n                Session.set('unsplashData', data);                                                                     // 512\n                $('.unsplash-container').replaceWith(\"<img src='\" + data.urls.regular + \"' class='img-responsive unsplash-container'/>\");\n                $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\" + data.user.links.html + \"?utm_source=uhs.life&utm_medium=referral&utm_campaign=api-credit'>\" + data.user.name + \"</a> from \" + data.user.location + \" via <b>Unsplash</b>. <br><br> Want a differnt one? <a href='' id='newUnsplash'>Click Here</a>. Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\n            }                                                                                                          // 515\n        });                                                                                                            // 516\n    },                                                                                                                 // 517\n    'click #newUpload': function () {                                                                                  // 518\n        $('.unsplash-container').replaceWith(\"<form action='/file-upload' class='dropzone' id='dropzone'></form>\");    // 519\n        var blogDrop = initDropZone('dropzone', {                                                                      // 520\n            number: 1,                                                                                                 // 521\n            size: 8,                                                                                                   // 522\n            message: \"Drop an image here to be the featured image, or click to select an image using the browser.\"     // 523\n        });                                                                                                            // 520\n        $('#unsplashPrompt').html(\"Want to avoid the hassle? <a href='' id='getFeaturedUnsplash'>Click here</a> and we will find an image for you!\");\n    },                                                                                                                 // 526\n    'click .btn-preview': function () {                                                                                // 527\n        var imageID = hasUnsplash ? Session.get('unsplash_img') : Session.get('newImageId');                           // 528\n        var previewPost = {                                                                                            // 529\n            title: $('#blogTitle').val() + \" (This is a preview)\",                                                     // 530\n            subtitle: $('#blogSubTitle').val(),                                                                        // 531\n            content: $('.editable').froalaEditor('html.get'),                                                          // 532\n            tags: $(\".tags\").val(),                                                                                    // 533\n            unsplash: Session.get('unsplashData'),                                                                     // 534\n            imgId: imageID,                                                                                            // 535\n            meta: {                                                                                                    // 536\n                hasUnsplash: hasUnsplash                                                                               // 537\n            }                                                                                                          // 536\n        };                                                                                                             // 529\n        Session.setPersistent('preview_json', previewPost);                                                            // 540\n        $('html, body').css({                                                                                          // 541\n            overflow: 'visible'                                                                                        // 542\n        }); // Enables the Scrolling                                                                                   // 541\n                                                                                                                       //\n        window.open('/blog/preview', '_blank');                                                                        // 544\n    }                                                                                                                  // 545\n});                                                                                                                    // 391\nTemplate.announcementOptions.events({                                                                                  // 547\n    'click .btn-post': function (event, template) {                                                                    // 548\n        var type = Session.get('announcementType');                                                                    // 549\n        var json = constructAnnouncementJson(type);                                                                    // 550\n                                                                                                                       //\n        if (type === \"imageOnly\") {                                                                                    // 551\n            Meteor.call('posts.postImage', json, function (err) {                                                      // 552\n                if (err) {                                                                                             // 553\n                    alertError('Posting Failed!', err.message);                                                        // 554\n                } else {                                                                                               // 555\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 556\n                    Drafts.remove({                                                                                    // 557\n                        _id: Session.get('draftEditItem')                                                              // 557\n                    });                                                                                                // 557\n                    Session.set('draftEditItem', null);                                                                // 558\n                    wipeEditor('announcement', 'imageOnly');                                                           // 559\n                                                                                                                       //\n                    if (operationStack.length - 2 === 0) {                                                             // 560\n                        swapElements('.editor-main', '.editor-open');                                                  // 561\n                        $('html, body').css({                                                                          // 562\n                            overflow: 'visible'                                                                        // 563\n                        }); // Enables the Scrolling                                                                   // 562\n                    } else {                                                                                           // 565\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                    }                                                                                                  // 567\n                                                                                                                       //\n                    operationStack.pop();                                                                              // 568\n                }                                                                                                      // 569\n            });                                                                                                        // 570\n        } else if (type === \"textOnly\") {                                                                              // 572\n            Meteor.call('posts.postText', json, function (err) {                                                       // 573\n                if (err) {                                                                                             // 574\n                    alertError('Post Failed!', err.message);                                                           // 575\n                } else {                                                                                               // 576\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 577\n                    Drafts.remove({                                                                                    // 578\n                        _id: Session.get('draftEditItem')                                                              // 578\n                    });                                                                                                // 578\n                    Session.set('draftEditItem', null);                                                                // 579\n                    wipeEditor('announcement', 'textOnly');                                                            // 580\n                                                                                                                       //\n                    if (operationStack.length - 2 === 0) {                                                             // 581\n                        swapElements('.editor-main', '.editor-open');                                                  // 582\n                        $('html, body').css({                                                                          // 583\n                            overflow: 'visible'                                                                        // 584\n                        }); // Enables the Scrolling                                                                   // 583\n                    } else {                                                                                           // 586\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                    }                                                                                                  // 588\n                                                                                                                       //\n                    operationStack.pop();                                                                              // 589\n                }                                                                                                      // 590\n            });                                                                                                        // 591\n        } else if (type === 'textAndImage') {                                                                          // 592\n            Meteor.call('posts.postTextImage', json, function (err) {                                                  // 593\n                if (err) {                                                                                             // 594\n                    alertError('Post Failed!', err.message);                                                           // 595\n                } else {                                                                                               // 596\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 597\n                    Drafts.remove({                                                                                    // 598\n                        _id: Session.get('draftEditItem')                                                              // 598\n                    });                                                                                                // 598\n                    Session.set('draftEditItem', null);                                                                // 599\n                    wipeEditor('announcement', 'imageText');                                                           // 600\n                                                                                                                       //\n                    if (operationStack.length - 2 === 0) {                                                             // 601\n                        swapElements('.editor-main', '.editor-open');                                                  // 602\n                        $('html, body').css({                                                                          // 603\n                            overflow: 'visible'                                                                        // 604\n                        }); // Enables the Scrolling                                                                   // 603\n                    } else {                                                                                           // 606\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                    }                                                                                                  // 608\n                                                                                                                       //\n                    operationStack.pop();                                                                              // 609\n                }                                                                                                      // 610\n            });                                                                                                        // 611\n        }                                                                                                              // 612\n    },                                                                                                                 // 614\n    'click .btn-save': function () {                                                                                   // 615\n        var type = Session.get('announcementType');                                                                    // 616\n        var json = constructAnnouncementJson(type);                                                                    // 617\n                                                                                                                       //\n        if (Session.get('draftEditItem')) {                                                                            // 619\n            Drafts.update({                                                                                            // 620\n                _id: Session.get('draftEditItem')                                                                      // 620\n            }, json, function (err) {                                                                                  // 620\n                if (err) {                                                                                             // 621\n                    alertError('Saving Draft Failed!', err.message);                                                   // 622\n                } else {                                                                                               // 623\n                    alertSuccess(\"Saved!\", \"\");                                                                        // 624\n                                                                                                                       //\n                    if (operationStack.length - 2 === 0) {                                                             // 625\n                        swapElements('.editor-main', '.editor-open');                                                  // 626\n                        $('html, body').css({                                                                          // 627\n                            overflow: 'visible'                                                                        // 628\n                        }); // Enables the Scrolling                                                                   // 627\n                    } else {                                                                                           // 630\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                    }                                                                                                  // 632\n                                                                                                                       //\n                    operationStack.pop();                                                                              // 633\n                }                                                                                                      // 634\n            });                                                                                                        // 635\n        } else {                                                                                                       // 636\n            if (type === \"imageOnly\") {                                                                                // 637\n                Meteor.call('drafts.postDraftImage', json, function (err) {                                            // 639\n                    if (err) {                                                                                         // 640\n                        alertError('Saving Draft Failed!', err.message);                                               // 641\n                    } else {                                                                                           // 642\n                        alertSuccess('Success!', 'The draft has been saved.');                                         // 643\n                        wipeEditor('announcement', 'imageOnly');                                                       // 644\n                                                                                                                       //\n                        if (operationStack.length - 2 === 0) {                                                         // 645\n                            swapElements('.editor-main', '.editor-open');                                              // 646\n                            $('html, body').css({                                                                      // 647\n                                overflow: 'visible'                                                                    // 648\n                            }); // Enables the Scrolling                                                               // 647\n                        } else {                                                                                       // 650\n                            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                        }                                                                                              // 652\n                                                                                                                       //\n                        operationStack.pop();                                                                          // 653\n                    }                                                                                                  // 654\n                });                                                                                                    // 655\n            } else if (type === \"textOnly\") {                                                                          // 657\n                Meteor.call('drafts.postDraftText', json, function (err) {                                             // 659\n                    if (err) {                                                                                         // 660\n                        alertError('Saving Draft Failed!', err.message);                                               // 661\n                    } else {                                                                                           // 662\n                        alertSuccess('Success!', 'The draft has been saved.');                                         // 663\n                        wipeEditor('announcement', 'textOnly');                                                        // 664\n                                                                                                                       //\n                        if (operationStack.length - 2 === 0) {                                                         // 665\n                            swapElements('.editor-main', '.editor-open');                                              // 666\n                            $('html, body').css({                                                                      // 667\n                                overflow: 'visible'                                                                    // 668\n                            }); // Enables the Scrolling                                                               // 667\n                        } else {                                                                                       // 670\n                            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                        }                                                                                              // 672\n                                                                                                                       //\n                        operationStack.pop();                                                                          // 673\n                    }                                                                                                  // 674\n                });                                                                                                    // 675\n            } else if (type === 'textAndImage') {                                                                      // 676\n                Meteor.call('drafts.postDraftTextImage', json, function (err) {                                        // 677\n                    if (err) {                                                                                         // 678\n                        alertError('Saving Draft Failed!', err.message);                                               // 679\n                    } else {                                                                                           // 680\n                        alertSuccess('Success!', 'The draft has been saved.');                                         // 681\n                        wipeEditor('announcement', 'imageText');                                                       // 682\n                                                                                                                       //\n                        if (operationStack.length - 2 === 0) {                                                         // 683\n                            swapElements('.editor-main', '.editor-open');                                              // 684\n                            $('html, body').css({                                                                      // 685\n                                overflow: 'visible'                                                                    // 686\n                            }); // Enables the Scrolling                                                               // 685\n                        } else {                                                                                       // 688\n                            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                        }                                                                                              // 690\n                                                                                                                       //\n                        operationStack.pop();                                                                          // 691\n                    }                                                                                                  // 692\n                });                                                                                                    // 693\n            }                                                                                                          // 694\n        }                                                                                                              // 695\n    }                                                                                                                  // 698\n});                                                                                                                    // 547\nTemplate.blogDraft.events({                                                                                            // 700\n    'click .btn-delete-draft': function (evt) {                                                                        // 701\n        evt.preventDefault();                                                                                          // 702\n        var obj = $(evt.target).closest($('.draft-item'));                                                             // 703\n        var id = obj.attr('id');                                                                                       // 704\n        Meteor.call('drafts.remove', id, function (err) {                                                              // 705\n            if (err) {                                                                                                 // 706\n                alertError(\"Something went wrong when deleting the draft\", err.message);                               // 707\n            }                                                                                                          // 708\n        });                                                                                                            // 709\n    },                                                                                                                 // 710\n    'click .btn-post-draft': function (evt) {                                                                          // 711\n        evt.preventDefault();                                                                                          // 712\n        var obj = $(evt.target).closest($('.draft-item'));                                                             // 713\n        var id = obj.attr('id');                                                                                       // 714\n        var json = Drafts.findOne({                                                                                    // 715\n            _id: id                                                                                                    // 715\n        });                                                                                                            // 715\n        var type = json.type;                                                                                          // 716\n                                                                                                                       //\n        if (type === \"imageOnly\") {                                                                                    // 717\n            Meteor.call('posts.postImage', json, function (err) {                                                      // 718\n                if (err) {                                                                                             // 719\n                    alertError('Posting Failed!', err.message);                                                        // 720\n                } else {                                                                                               // 721\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 722\n                    Drafts.remove({                                                                                    // 723\n                        _id: id                                                                                        // 723\n                    });                                                                                                // 723\n                }                                                                                                      // 724\n            });                                                                                                        // 725\n        } else if (type === \"textOnly\") {                                                                              // 727\n            Meteor.call('posts.postText', json, function (err) {                                                       // 728\n                if (err) {                                                                                             // 729\n                    alertError('Post Failed!', err.message);                                                           // 730\n                } else {                                                                                               // 731\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 732\n                    Drafts.remove({                                                                                    // 733\n                        _id: id                                                                                        // 733\n                    });                                                                                                // 733\n                }                                                                                                      // 734\n            });                                                                                                        // 735\n        } else if (type === 'textAndImage') {                                                                          // 736\n            Meteor.call('posts.postTextImage', json, function (err) {                                                  // 737\n                if (err) {                                                                                             // 738\n                    alertError('Post Failed!', err.message);                                                           // 739\n                } else {                                                                                               // 740\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 741\n                    Drafts.remove({                                                                                    // 742\n                        _id: id                                                                                        // 742\n                    });                                                                                                // 742\n                }                                                                                                      // 743\n            });                                                                                                        // 744\n        } else if (type === 'blog') {                                                                                  // 745\n            Meteor.call('posts.postBlog', json, function (err) {                                                       // 746\n                if (err) {                                                                                             // 747\n                    alertError('Post Failed!', err.message);                                                           // 748\n                } else {                                                                                               // 749\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 750\n                    Drafts.remove({                                                                                    // 751\n                        _id: id                                                                                        // 751\n                    });                                                                                                // 751\n                }                                                                                                      // 752\n            });                                                                                                        // 753\n        }                                                                                                              // 754\n    },                                                                                                                 // 755\n    'click .btn-publish-draft': function (evt) {                                                                       // 756\n        var obj = $(evt.target).closest($('.draft-item'));                                                             // 757\n        var id = obj.attr('id');                                                                                       // 758\n        var json = Drafts.findOne({                                                                                    // 759\n            _id: id                                                                                                    // 759\n        });                                                                                                            // 759\n        var type = json.subType;                                                                                       // 760\n                                                                                                                       //\n        if (json.type === 'blog') {                                                                                    // 761\n            Meteor.call('posts.postBlog', json, function (err) {                                                       // 762\n                if (err) {                                                                                             // 763\n                    alertError('Post Failed!', err.message);                                                           // 764\n                } else {                                                                                               // 765\n                    alertSuccess('Success!', 'The post has been submitted.');                                          // 766\n                    Drafts.remove({                                                                                    // 767\n                        _id: id                                                                                        // 767\n                    });                                                                                                // 767\n                }                                                                                                      // 768\n            });                                                                                                        // 769\n        } else {                                                                                                       // 770\n            if (type === \"imageOnly\") {                                                                                // 771\n                Meteor.call('posts.postImage', json, function (err) {                                                  // 772\n                    if (err) {                                                                                         // 773\n                        alertError('Posting Failed!', err.message);                                                    // 774\n                    } else {                                                                                           // 775\n                        alertSuccess('Success!', 'The post has been submitted.');                                      // 776\n                        Drafts.remove({                                                                                // 777\n                            _id: id                                                                                    // 777\n                        });                                                                                            // 777\n                    }                                                                                                  // 778\n                });                                                                                                    // 779\n            } else if (type === \"textOnly\") {                                                                          // 781\n                Meteor.call('posts.postText', json, function (err) {                                                   // 782\n                    if (err) {                                                                                         // 783\n                        alertError('Post Failed!', err.message);                                                       // 784\n                    } else {                                                                                           // 785\n                        alertSuccess('Success!', 'The post has been submitted.');                                      // 786\n                        Drafts.remove({                                                                                // 787\n                            _id: id                                                                                    // 787\n                        });                                                                                            // 787\n                    }                                                                                                  // 788\n                });                                                                                                    // 789\n            } else if (type === 'textAndImage') {                                                                      // 790\n                Meteor.call('posts.postTextImage', json, function (err) {                                              // 791\n                    if (err) {                                                                                         // 792\n                        alertError('Post Failed!', err.message);                                                       // 793\n                    } else {                                                                                           // 794\n                        alertSuccess('Success!', 'The post has been submitted.');                                      // 795\n                        Drafts.remove({                                                                                // 796\n                            _id: id                                                                                    // 796\n                        });                                                                                            // 796\n                    }                                                                                                  // 797\n                });                                                                                                    // 798\n            }                                                                                                          // 799\n        }                                                                                                              // 800\n    },                                                                                                                 // 801\n    'click .draft-item': function (evt) {                                                                              // 802\n        if (!$(evt.target).hasClass('btn-delete-draft') && !$(evt.target).hasClass('btn-publish-draft')) {             // 803\n            var obj = $(evt.target).closest($('.draft-item'));                                                         // 804\n            var id = obj.attr('id');                                                                                   // 805\n            Session.set('draftEditItem', id);                                                                          // 806\n            setEditorContent(Drafts.findOne({                                                                          // 807\n                _id: id                                                                                                // 807\n            }));                                                                                                       // 807\n            console.log(Session.get('draftEditItem'));                                                                 // 808\n        }                                                                                                              // 809\n    }                                                                                                                  // 810\n});                                                                                                                    // 700\nTemplate.suggestionEditor.events({                                                                                     // 812\n    'click .btn-post': function () {                                                                                   // 813\n        var headline = $('#suggestionHeadline').val();                                                                 // 814\n        var content = $('.announcement-text')[2].value;                                                                // 815\n        var imgId = Session.get('newImageId');                                                                         // 816\n        var authorId = Meteor.userId();                                                                                // 818\n        var draftedDate = new Date();                                                                                  // 819\n                                                                                                                       //\n        if (!imgId) {                                                                                                  // 821\n            //TODO                                                                                                     // 822\n            console.log('No image uploaded');                                                                          // 823\n        }                                                                                                              // 824\n                                                                                                                       //\n        if (!headline) {                                                                                               // 825\n            //TODO                                                                                                     // 826\n            console.log('No headline entered');                                                                        // 827\n        }                                                                                                              // 828\n                                                                                                                       //\n        if (!content) {                                                                                                // 829\n            //TODO                                                                                                     // 830\n            console.log('No content entered');                                                                         // 831\n        }                                                                                                              // 832\n                                                                                                                       //\n        var json = {                                                                                                   // 834\n            author: authorId,                                                                                          // 835\n            type: 'suggestion',                                                                                        // 836\n            headline: headline,                                                                                        // 837\n            content: content,                                                                                          // 838\n            draftedDate: draftedDate,                                                                                  // 839\n            imgId: imgId                                                                                               // 840\n        };                                                                                                             // 834\n        console.log(json);                                                                                             // 842\n        Meteor.call('suggestions.postSuggestion', json, function (err) {                                               // 844\n            console.log('posted');                                                                                     // 845\n                                                                                                                       //\n            if (err) {                                                                                                 // 846\n                alertError('Post Failed!', err.message);                                                               // 847\n            } else {                                                                                                   // 848\n                alertSuccess('Success!', 'The post has been submitted.');                                              // 849\n                                                                                                                       //\n                if (operationStack.length - 2 === 0) {                                                                 // 850\n                    swapElements('.editor-main', '.editor-open');                                                      // 851\n                    $('html, body').css({                                                                              // 852\n                        overflow: 'visible'                                                                            // 853\n                    }); // Enables the Scrolling                                                                       // 852\n                } else {                                                                                               // 855\n                    swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\n                }                                                                                                      // 857\n                                                                                                                       //\n                operationStack.pop();                                                                                  // 858\n            }                                                                                                          // 859\n        });                                                                                                            // 860\n    }                                                                                                                  // 861\n});                                                                                                                    // 812\n                                                                                                                       //\nfunction initDropZone(id, info) {                                                                                      // 864\n    return new Dropzone(\"form#\" + id, {                                                                                // 865\n        maxFiles: info.number || 1,                                                                                    // 866\n        maxFilesize: info.size || 8,                                                                                   // 867\n        thumbnailWidth: 400,                                                                                           // 868\n        addRemoveLinks: true,                                                                                          // 869\n        dictDefaultMessage: info.message || \"Drop your image here, or click to select an image using the browser.\",    // 870\n        accept: function (file, done) {                                                                                // 871\n            $('.quick-image-prompt').html('');                                                                         // 872\n            var FSFile = new FS.File(file);                                                                            // 873\n            Images.insert(FSFile, function (err, fileObj) {                                                            // 874\n                if (err) {                                                                                             // 875\n                    console.log(err);                                                                                  // 876\n                } else {                                                                                               // 877\n                    Images.remove({                                                                                    // 878\n                        _id: Session.get('newImageId')                                                                 // 878\n                    }, function (err) {                                                                                // 878\n                        if (err) {                                                                                     // 879\n                            console.log(\"error removing image:\\n\" + err);                                              // 880\n                        }                                                                                              // 881\n                    });                                                                                                // 882\n                    hasUnsplash = false;                                                                               // 883\n                    Session.set('newFileLink', fileObj.extension()); //update the file type                            // 884\n                                                                                                                       //\n                    Session.set('newImageId', fileObj._id); //update the image id to current image                     // 885\n                                                                                                                       //\n                    done();                                                                                            // 886\n                }                                                                                                      // 887\n            });                                                                                                        // 888\n        }                                                                                                              // 889\n    });                                                                                                                // 865\n}                                                                                                                      // 891\n                                                                                                                       //\nfunction swapElements(a, b) {                                                                                          // 892\n    $(a).fadeOut('fast', function () {                                                                                 // 893\n        $(b).fadeIn(\"slow\");                                                                                           // 894\n    });                                                                                                                // 895\n}                                                                                                                      // 896\n                                                                                                                       //\nfunction getRandomInt(min, max) {                                                                                      // 897\n    return Math.floor(Math.random() * (max - min + 1)) + min;                                                          // 898\n}                                                                                                                      // 899\n                                                                                                                       //\nfunction setEditorContent(json) {                                                                                      // 900\n    if (json.type === 'blog') {                                                                                        // 901\n        $('#blogTitle').val(json.title);                                                                               // 902\n        $('#blogSubTitle').val(json.subtitle);                                                                         // 903\n        $('.editable').froalaEditor('html.set', json.content);                                                         // 904\n                                                                                                                       //\n        _.forEach(json.tags, function (item) {                                                                         // 905\n            $('.tags').tagsinput('add', item);                                                                         // 906\n        });                                                                                                            // 907\n                                                                                                                       //\n        $('.visibility-select').val(json.meta.visibility).trigger(\"change\");                                           // 908\n        $(\".category-select\").val(json.categories).trigger(\"change\");                                                  // 909\n        $(\"#blogOrganizationSelect\").val(json.organizationsValues).trigger(\"change\");                                  // 910\n        $('.input-date').datepicker('update', json.releaseDate);                                                       // 911\n                                                                                                                       //\n        if (json.unsplash) {                                                                                           // 912\n            Meteor.call('setupUnsplash', function (err) {                                                              // 913\n                if (err) {                                                                                             // 914\n                    console.log(err);                                                                                  // 915\n                    $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one.\");      // 916\n                } else {                                                                                               // 917\n                    Meteor.call('getPhoto', json.imgId, function (err, data) {                                         // 918\n                        if (err) {                                                                                     // 919\n                            console.log(err);                                                                          // 920\n                            $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one.\");\n                        } else {                                                                                       // 922\n                            Session.set('unsplash_img', data.id);                                                      // 923\n                            Session.set('unsplashData', data);                                                         // 924\n                            hasUnsplash = true;                                                                        // 925\n                            $('#dropzone').replaceWith(\"<img src='\" + data.urls.regular + \"' class='img-responsive unsplash-container'/>\");\n                            $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\" + data.user.links.html + \"'>\" + data.user.name + \"</a> from \" + data.user.location + \" via <b>Unsplash</b>. <br><br> This will be your featured image, if you want another one <a href='' id='newUnsplash'>Click Here</a> Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\n                        }                                                                                              // 928\n                    });                                                                                                // 929\n                }                                                                                                      // 930\n            });                                                                                                        // 931\n        }                                                                                                              // 932\n                                                                                                                       //\n        swapElements('.blog-drafts', '.blog-editor');                                                                  // 933\n        operationStack.push('.blog-editor');                                                                           // 934\n        Session.set('announcementType', 'blog');                                                                       // 935\n    } else if (json.type === 'announcement') {                                                                         // 936\n        if (json.subType === 'imageOnly') {                                                                            // 937\n            $('#imageOnlyHeadline').val(json.headline);                                                                // 938\n                                                                                                                       //\n            if (json.imgId) {                                                                                          // 939\n                Session.set('newImageId', json.imgId);                                                                 // 940\n                $('.quick-image-prompt').html('You have already uploaded an image, if you would like to change it, simply add a different one. Otherwise, simply ignore the box.');\n            }                                                                                                          // 942\n                                                                                                                       //\n            _.forEach(json.tags, function (item) {                                                                     // 943\n                $('.announce-tags:eq(0)').tagsinput('add', item);                                                      // 944\n            });                                                                                                        // 945\n                                                                                                                       //\n            $(\".announcement-category:eq(0)\").val(json.categories).trigger(\"change\");                                  // 946\n            $(\".clubs-category:eq(0)\").val(json.clubs).trigger(\"change\");                                              // 947\n            $('.startDate:eq(0)').datepicker('update', json.startDate);                                                // 948\n            $('.endDate:eq(0)').datepicker('update', json.endDate);                                                    // 949\n            swapElements('.blog-drafts', '.image-only');                                                               // 950\n            operationStack.push('.image-only');                                                                        // 951\n            Session.set('announcementType', 'imageOnly');                                                              // 952\n        } else if (json.subType === 'textOnly') {                                                                      // 953\n            $('#textOnlyHeadline').val(json.headline);                                                                 // 954\n            $('.announcement-text:eq(0)').val(json.content);                                                           // 955\n                                                                                                                       //\n            _.forEach(json.tags, function (item) {                                                                     // 956\n                $('.announce-tags:eq(1)').tagsinput('add', item);                                                      // 957\n            });                                                                                                        // 958\n                                                                                                                       //\n            $(\".announcement-category:eq(1)\").val(json.categories).trigger(\"change\");                                  // 959\n            $(\".clubs-category:eq(1)\").val(json.clubs).trigger(\"change\");                                              // 960\n            $('.startDate:eq(1)').datepicker('update', json.startDate);                                                // 961\n            $('.endDate:eq(1)').datepicker('update', json.endDate);                                                    // 962\n            swapElements('.blog-drafts', '.text-only');                                                                // 963\n            operationStack.push('.text-only');                                                                         // 964\n            Session.set('announcementType', 'textOnly');                                                               // 965\n        } else if (json.subType === 'imageText') {                                                                     // 966\n            $('#textImageHeadline').val(json.headline);                                                                // 967\n                                                                                                                       //\n            if (json.imgId) {                                                                                          // 968\n                Session.set('newImageId', json.imgId);                                                                 // 969\n                $('.quick-image-prompt').html('You have already uploaded an image, if you would like to change it, simply add a different one. Otherwise, simply ignore the box.');\n            }                                                                                                          // 971\n                                                                                                                       //\n            $('.announcement-text:eq(1)').val(json.content);                                                           // 972\n            $(\".announcement-category:eq(2)\").val(json.categories).trigger(\"change\");                                  // 973\n            $(\".clubs-category:eq(2)\").val(json.clubs).trigger(\"change\");                                              // 974\n            $('.startDate:eq(2)').datepicker('update', json.startDate);                                                // 975\n            $('.endDate:eq(2)').datepicker('update', json.endDate);                                                    // 976\n            Session.set('priority', json.meta.priority);                                                               // 977\n            $('.is-checked').removeClass('is-checked');                                                                // 978\n            $(\".priority-toggle[data-priority=\" + Session.get('priority') + \"]\").addClass('is-checked');               // 979\n            swapElements('.blog-drafts', '.text-and-image');                                                           // 980\n            operationStack.push('.text-and-image');                                                                    // 981\n            Session.set('announcementType', 'textAndImage');                                                           // 982\n        }                                                                                                              // 983\n    }                                                                                                                  // 984\n}                                                                                                                      // 985\n                                                                                                                       //\nfunction wipeEditor(type, subType) {                                                                                   // 987\n    if (type === 'blog') {                                                                                             // 988\n        $('#blogTitle').val(null);                                                                                     // 989\n        $('#blogSubTitle').val(null);                                                                                  // 990\n        $('.editable').froalaEditor('html.set', '');                                                                   // 991\n        $('.tags').tagsinput('removeAll');                                                                             // 992\n        $('.visibility-select').val(null).trigger(\"change\");                                                           // 993\n        $(\".category-select\").val(null).trigger(\"change\");                                                             // 994\n        $('.input-date').datepicker('update', null);                                                                   // 995\n        Session.set('unsplash_img', null);                                                                             // 996\n        Session.set('unsplashData', null);                                                                             // 997\n        Session.set('newImageId', null);                                                                               // 998\n        var blogDrop = initDropZone('dropzone', {                                                                      // 999\n            number: 1,                                                                                                 // 1000\n            size: 8,                                                                                                   // 1001\n            message: \"Drop an image here to be the featured image, or click to select an image using the browser.\"     // 1002\n        });                                                                                                            // 999\n        $('#unsplashPrompt').html(\"Want to avoid the hassle? <a href='' id='getFeaturedUnsplash'>Click here</a> and we will find an image for you!\");\n    } else if (type === 'announcement') {                                                                              // 1005\n        if (subType === 'imageOnly') {                                                                                 // 1006\n            $('#imageOnlyHeadline').val(null);                                                                         // 1007\n            Session.set('newImageId', null);                                                                           // 1008\n            $('#announcementImage').replaceWith(\"<form action='/file-upload' class='dropzone' id='announcementImage'></form>\");\n            var announcementDrop = initDropZone(\"announcementImage\", {                                                 // 1010\n                number: 1,                                                                                             // 1011\n                size: 8,                                                                                               // 1012\n                message: \"Drop your poster here, or click to select an image using the browser.\"                       // 1013\n            });                                                                                                        // 1010\n            $('.quick-image-prompt').html(\"\");                                                                         // 1015\n            $('.announce-tags:eq(0)').tagsinput('removeAll');                                                          // 1016\n            $(\".announcement-category:eq(0)\").val(null).trigger(\"change\");                                             // 1017\n            $(\".clubs-category:eq(0)\").val(null).trigger(\"change\");                                                    // 1018\n            $('.startDate:eq(0)').datepicker('update', null);                                                          // 1019\n            $('.endDate:eq(0)').datepicker('update', null);                                                            // 1020\n        } else if (subType === 'textOnly') {                                                                           // 1021\n            $('#textOnlyHeadline').val(null);                                                                          // 1022\n            $('.announcement-text:eq(0)').val(null);                                                                   // 1023\n            $('.announce-tags:eq(1)').tagsinput('removeAll');                                                          // 1024\n            $(\".announcement-category:eq(1)\").val(null).trigger(\"change\");                                             // 1025\n            $(\".clubs-category:eq(1)\").val(null).trigger(\"change\");                                                    // 1026\n            $('.startDate:eq(1)').datepicker('update', null);                                                          // 1027\n            $('.endDate:eq(1)').datepicker('update', null);                                                            // 1028\n        } else if (subType === 'imageText') {                                                                          // 1029\n            $('#textImageHeadline').val(null);                                                                         // 1030\n            Session.set('newImageId', null);                                                                           // 1031\n            $('#announcementImageTwo').replaceWith(\"<form action='/file-upload' class='dropzone' id='announcementImageTwo'></form>\");\n                                                                                                                       //\n            var _announcementDrop = initDropZone(\"announcementImageTwo\", {                                             // 1033\n                number: 1,                                                                                             // 1034\n                size: 8,                                                                                               // 1035\n                message: \"Drop your poster here, or click to select an image using the browser.\"                       // 1036\n            });                                                                                                        // 1033\n                                                                                                                       //\n            $('.quick-image-prompt').html('');                                                                         // 1038\n            $('.announcement-text:eq(1)').val(null);                                                                   // 1039\n            $('.announce-tags:eq(2)').tagsinput('removeAll');                                                          // 1040\n            $(\".announcement-category:eq(2)\").val(null).trigger(\"change\");                                             // 1041\n            $(\".clubs-category:eq(2)\").val(null).trigger(\"change\");                                                    // 1042\n            $('.startDate:eq(2)').datepicker('update', null);                                                          // 1043\n            $('.endDate:eq(2)').datepicker('update', null);                                                            // 1044\n            Session.set('priority', 'image');                                                                          // 1045\n            $('.is-checked').removeClass('is-checked');                                                                // 1046\n            $(\".priority-toggle[data-priority=\" + Session.get('priority') + \"]\").addClass('is-checked');               // 1047\n        }                                                                                                              // 1048\n    }                                                                                                                  // 1049\n}                                                                                                                      // 1050\n                                                                                                                       //\nfunction constructBlogJson() {                                                                                         // 1051\n    var title = $('#blogTitle').val();                                                                                 // 1052\n    var subtitle = $('#blogSubTitle').val();                                                                           // 1053\n    var content = $('.editable').froalaEditor('html.get');                                                             // 1054\n    var str = $(\".tags\").val();                                                                                        // 1055\n    var separators = [' , ', ', ', ',', ' ,'];                                                                         // 1056\n    var tags = str.split(new RegExp(separators.join('|'), 'g'));                                                       // 1057\n    var imgId = hasUnsplash ? Session.get('unsplash_img') : Session.get('newImageId');                                 // 1058\n    var releaseDate = new Date($('.input-date').val());                                                                // 1059\n    var draftedDate = new Date();                                                                                      // 1060\n    var options = $('.category-select')[0].options;                                                                    // 1061\n    var categories = [];                                                                                               // 1062\n                                                                                                                       //\n    for (var i = 0; i < options.length; i++) {                                                                         // 1063\n        var opt = options[i];                                                                                          // 1064\n                                                                                                                       //\n        if (opt.selected) {                                                                                            // 1065\n            categories.push(opt.value);                                                                                // 1066\n        }                                                                                                              // 1067\n    }                                                                                                                  // 1068\n                                                                                                                       //\n    var orgOptions = document.getElementById('blogOrganizationSelect').options;                                        // 1069\n    var orgNames = [],                                                                                                 // 1070\n        orgVal = [];                                                                                                   // 1070\n                                                                                                                       //\n    for (var _i = 0; _i < orgOptions.length; _i++) {                                                                   // 1071\n        var _opt = orgOptions[_i];                                                                                     // 1072\n                                                                                                                       //\n        if (_opt.selected) {                                                                                           // 1073\n            orgNames.push(_opt.text);                                                                                  // 1074\n            orgVal.push(_opt.value);                                                                                   // 1075\n        }                                                                                                              // 1076\n    }                                                                                                                  // 1077\n                                                                                                                       //\n    var authorId = Meteor.userId();                                                                                    // 1078\n    var imageFirst = null; //meta                                                                                      // 1079\n                                                                                                                       //\n    var visibility = $('.visibility-select')[0].value;                                                                 // 1081\n    return {                                                                                                           // 1083\n        author: authorId,                                                                                              // 1084\n        type: 'blog',                                                                                                  // 1085\n        releaseDate: releaseDate,                                                                                      // 1086\n        draftedDate: draftedDate,                                                                                      // 1087\n        title: title,                                                                                                  // 1088\n        subtitle: subtitle,                                                                                            // 1089\n        content: content,                                                                                              // 1090\n        tags: tags,                                                                                                    // 1091\n        categories: categories,                                                                                        // 1092\n        imgId: imgId,                                                                                                  // 1093\n        unsplash: Session.get('unsplashData'),                                                                         // 1094\n        organizationsNames: orgNames,                                                                                  // 1095\n        organizationsValues: orgVal,                                                                                   // 1096\n        meta: {                                                                                                        // 1097\n            imageFirst: imageFirst,                                                                                    // 1098\n            hasUnsplash: hasUnsplash,                                                                                  // 1099\n            visibility: visibility                                                                                     // 1100\n        }                                                                                                              // 1097\n    };                                                                                                                 // 1083\n}                                                                                                                      // 1103\n                                                                                                                       //\nfunction constructAnnouncementJson(type) {                                                                             // 1104\n    if (type === \"imageOnly\") {                                                                                        // 1105\n        console.log('constructing image only');                                                                        // 1106\n        var headline = $('#imageOnlyHeadline').val();                                                                  // 1107\n        var imgId = Session.get('newImageId');                                                                         // 1108\n        var separators = [' , ', ', ', ',', ' ,'];                                                                     // 1109\n        var tags = $(\".announce-tags\")[0].value.split(new RegExp(separators.join('|'), 'g'));                          // 1110\n        var options = $('.announcement-category')[0].options;                                                          // 1111\n        var categories = [];                                                                                           // 1112\n                                                                                                                       //\n        for (var i = 0; i < options.length; i++) {                                                                     // 1113\n            var opt = options[i];                                                                                      // 1114\n                                                                                                                       //\n            if (opt.selected) {                                                                                        // 1115\n                categories.push(opt.value);                                                                            // 1116\n            }                                                                                                          // 1117\n        }                                                                                                              // 1118\n                                                                                                                       //\n        var clubs = $('.clubs-category')[0].options;                                                                   // 1119\n        var clubList = [];                                                                                             // 1120\n                                                                                                                       //\n        for (var _i2 = 0; _i2 < clubs.length; _i2++) {                                                                 // 1121\n            var _opt2 = clubs[_i2];                                                                                    // 1122\n                                                                                                                       //\n            if (_opt2.selected) {                                                                                      // 1123\n                clubList.push(_opt2.value);                                                                            // 1124\n            }                                                                                                          // 1125\n        }                                                                                                              // 1126\n                                                                                                                       //\n        var authorId = Meteor.userId();                                                                                // 1127\n        var startDate = new Date($('.startDate')[0].value);                                                            // 1128\n        var endDate = new Date($('.endDate')[0].value);                                                                // 1129\n        var draftedDate = new Date();                                                                                  // 1130\n        var visibility = $('.visibility-select')[1].value;                                                             // 1131\n                                                                                                                       //\n        if (!imgId) {                                                                                                  // 1132\n            alertError('Post Incomplete!', \"You haven't uploaded an image yet!\");                                      // 1133\n        }                                                                                                              // 1134\n                                                                                                                       //\n        if (!headline) {                                                                                               // 1135\n            //TODO                                                                                                     // 1136\n            alertError('Post Incomplete!', \"You haven't added a headline!\");                                           // 1137\n        }                                                                                                              // 1138\n                                                                                                                       //\n        if (!startDate || !endDate) {                                                                                  // 1139\n            alertError('Post Incomplete!', \"You haven't added a date!\");                                               // 1140\n        }                                                                                                              // 1141\n                                                                                                                       //\n        return {                                                                                                       // 1142\n            author: authorId,                                                                                          // 1143\n            type: 'announcement',                                                                                      // 1144\n            subType: 'imageOnly',                                                                                      // 1145\n            startDate: startDate,                                                                                      // 1146\n            endDate: endDate,                                                                                          // 1147\n            draftedDate: draftedDate,                                                                                  // 1148\n            headline: headline,                                                                                        // 1149\n            tags: tags,                                                                                                // 1150\n            categories: categories,                                                                                    // 1151\n            imgId: imgId,                                                                                              // 1152\n            clubs: clubList,                                                                                           // 1153\n            meta: {                                                                                                    // 1154\n                hasUnsplash: hasUnsplash,                                                                              // 1155\n                visibility: visibility                                                                                 // 1156\n            }                                                                                                          // 1154\n        };                                                                                                             // 1142\n    } else if (type === \"textOnly\") {                                                                                  // 1159\n        var _headline = $('#textOnlyHeadline').val();                                                                  // 1160\n                                                                                                                       //\n        var content = $('.announcement-text')[0].value;                                                                // 1161\n        var _separators = [' , ', ', ', ',', ' ,'];                                                                    // 1162\n                                                                                                                       //\n        var _tags = $(\".announce-tags\")[1].value.split(new RegExp(_separators.join('|'), 'g'));                        // 1163\n                                                                                                                       //\n        var _options = $('.announcement-category')[1].options;                                                         // 1165\n        var _categories = [];                                                                                          // 1166\n                                                                                                                       //\n        for (var _i3 = 0; _i3 < _options.length; _i3++) {                                                              // 1168\n            var _opt3 = _options[_i3];                                                                                 // 1169\n                                                                                                                       //\n            if (_opt3.selected) {                                                                                      // 1170\n                _categories.push(_opt3.value);                                                                         // 1171\n            }                                                                                                          // 1172\n        }                                                                                                              // 1173\n                                                                                                                       //\n        var _visibility = $('.visibility-select')[2].value;                                                            // 1174\n                                                                                                                       //\n        var _authorId = Meteor.userId();                                                                               // 1175\n                                                                                                                       //\n        var _startDate = new Date($('.startDate')[1].value);                                                           // 1176\n                                                                                                                       //\n        var _endDate = new Date($('.endDate')[1].value);                                                               // 1177\n                                                                                                                       //\n        var _draftedDate = new Date();                                                                                 // 1178\n                                                                                                                       //\n        var _clubs = $('.clubs-category')[1].options;                                                                  // 1179\n        var _clubList = [];                                                                                            // 1180\n                                                                                                                       //\n        for (var _i4 = 0; _i4 < _clubs.length; _i4++) {                                                                // 1181\n            var _opt4 = _clubs[_i4];                                                                                   // 1182\n                                                                                                                       //\n            if (_opt4.selected) {                                                                                      // 1183\n                _clubList.push(_opt4.value);                                                                           // 1184\n            }                                                                                                          // 1185\n        } //meta                                                                                                       // 1186\n                                                                                                                       //\n                                                                                                                       //\n        if (!content) {                                                                                                // 1189\n            alertError('Post Incomplete!', \"You haven't added any content yet!\");                                      // 1190\n        }                                                                                                              // 1191\n                                                                                                                       //\n        if (!_headline) {                                                                                              // 1192\n            //TODO                                                                                                     // 1193\n            alertError('Post Incomplete!', \"You haven't added a headline!\");                                           // 1194\n        }                                                                                                              // 1195\n                                                                                                                       //\n        if (!_startDate || !_endDate) {                                                                                // 1196\n            alertError('Post Incomplete!', \"You haven't added a date!\");                                               // 1197\n        }                                                                                                              // 1198\n                                                                                                                       //\n        return {                                                                                                       // 1200\n            author: _authorId,                                                                                         // 1201\n            type: 'announcement',                                                                                      // 1202\n            subType: 'textOnly',                                                                                       // 1203\n            startDate: _startDate,                                                                                     // 1204\n            endDate: _endDate,                                                                                         // 1205\n            draftedDate: _draftedDate,                                                                                 // 1206\n            headline: _headline,                                                                                       // 1207\n            content: content,                                                                                          // 1208\n            tags: _tags || [],                                                                                         // 1209\n            categories: _categories || [],                                                                             // 1210\n            clubs: _clubList,                                                                                          // 1211\n            meta: {                                                                                                    // 1212\n                hasUnsplash: hasUnsplash,                                                                              // 1213\n                visibility: _visibility                                                                                // 1214\n            }                                                                                                          // 1212\n        };                                                                                                             // 1200\n    } else if (type === 'textAndImage') {                                                                              // 1217\n        var _headline2 = $('#textImageHeadline').val();                                                                // 1218\n                                                                                                                       //\n        var _content = $('.announcement-text')[1].value;                                                               // 1219\n                                                                                                                       //\n        var _imgId = Session.get('newImageId');                                                                        // 1220\n                                                                                                                       //\n        var str = $(\".announce-tags\")[2].value;                                                                        // 1221\n        var _separators2 = [' , ', ', ', ',', ' ,'];                                                                   // 1222\n                                                                                                                       //\n        var _tags2 = str.split(new RegExp(_separators2.join('|'), 'g'));                                               // 1223\n                                                                                                                       //\n        var _options2 = $('.announcement-category')[2].options;                                                        // 1225\n        var _categories2 = [];                                                                                         // 1226\n                                                                                                                       //\n        for (var _i5 = 0; _i5 < _options2.length; _i5++) {                                                             // 1228\n            var _opt5 = _options2[_i5];                                                                                // 1229\n                                                                                                                       //\n            if (_opt5.selected) {                                                                                      // 1230\n                _categories2.push(_opt5.value);                                                                        // 1231\n            }                                                                                                          // 1232\n        }                                                                                                              // 1233\n                                                                                                                       //\n        var _visibility2 = $('.visibility-select')[3].value;                                                           // 1234\n                                                                                                                       //\n        var _authorId2 = Meteor.userId();                                                                              // 1235\n                                                                                                                       //\n        var _startDate2 = new Date($('.startDate')[2].value);                                                          // 1236\n                                                                                                                       //\n        var _endDate2 = new Date($('.endDate')[2].value);                                                              // 1237\n                                                                                                                       //\n        var _draftedDate2 = new Date();                                                                                // 1238\n                                                                                                                       //\n        var _clubs2 = $('.clubs-category')[2].options;                                                                 // 1239\n        var _clubList2 = [];                                                                                           // 1240\n                                                                                                                       //\n        for (var _i6 = 0; _i6 < _clubs2.length; _i6++) {                                                               // 1241\n            var _opt6 = _clubs2[_i6];                                                                                  // 1242\n                                                                                                                       //\n            if (_opt6.selected) {                                                                                      // 1243\n                _clubList2.push(_opt6.value);                                                                          // 1244\n            }                                                                                                          // 1245\n        } //meta                                                                                                       // 1246\n                                                                                                                       //\n                                                                                                                       //\n        var priority = Session.get('priority');                                                                        // 1248\n                                                                                                                       //\n        if (!_imgId) {                                                                                                 // 1249\n            alertError('Post Incomplete!', \"You haven't uploaded an image yet!\");                                      // 1250\n        }                                                                                                              // 1251\n                                                                                                                       //\n        if (!_headline2) {                                                                                             // 1252\n            //TODO                                                                                                     // 1253\n            alertError('Post Incomplete!', \"You haven't added a headline!\");                                           // 1254\n        }                                                                                                              // 1255\n                                                                                                                       //\n        if (!_startDate2 || !_endDate2) {                                                                              // 1256\n            alertError('Post Incomplete!', \"You haven't added a date!\");                                               // 1257\n        }                                                                                                              // 1258\n                                                                                                                       //\n        if (!_content) {                                                                                               // 1259\n            //TODO                                                                                                     // 1260\n            alertError('Post Incomplete!', \"You haven't added any information!\");                                      // 1261\n        }                                                                                                              // 1262\n                                                                                                                       //\n        return {                                                                                                       // 1264\n            author: _authorId2,                                                                                        // 1265\n            type: 'announcement',                                                                                      // 1266\n            subType: 'imageText',                                                                                      // 1267\n            headline: _headline2,                                                                                      // 1268\n            content: _content,                                                                                         // 1269\n            startDate: _startDate2,                                                                                    // 1270\n            endDate: _endDate2,                                                                                        // 1271\n            draftedDate: _draftedDate2,                                                                                // 1272\n            tags: _tags2 || [],                                                                                        // 1273\n            categories: _categories2 || [],                                                                            // 1274\n            imgId: _imgId,                                                                                             // 1275\n            clubs: _clubList2,                                                                                         // 1276\n            meta: {                                                                                                    // 1277\n                priority: priority || 'image',                                                                         // 1278\n                hasUnsplash: hasUnsplash,                                                                              // 1279\n                visibility: _visibility2                                                                               // 1280\n            }                                                                                                          // 1277\n        };                                                                                                             // 1264\n    }                                                                                                                  // 1283\n}                                                                                                                      // 1284\n                                                                                                                       //\nfunction getKeyWord(text) {                                                                                            // 1286\n    var keyword_extractor = require(\"keyword-extractor\");                                                              // 1287\n                                                                                                                       //\n    var keywords = $(text).text(); //  Extract the keywords                                                            // 1289\n                                                                                                                       //\n    var extraction_result = keyword_extractor.extract(keywords, {                                                      // 1291\n        language: \"english\",                                                                                           // 1292\n        remove_digits: true,                                                                                           // 1293\n        return_changed_case: true,                                                                                     // 1294\n        remove_duplicates: false,                                                                                      // 1295\n        remove_max_ngrams: 10                                                                                          // 1296\n    });                                                                                                                // 1291\n    return extraction_result;                                                                                          // 1298\n}                                                                                                                      // 1299\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"navigation.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/components/navigation.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar Typed = void 0;                                                                                                    // 1\nmodule.watch(require(\"typedjs-placeholder\"), {                                                                         // 1\n    \"default\": function (v) {                                                                                          // 1\n        Typed = v;                                                                                                     // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nvar Images = void 0;                                                                                                   // 1\nmodule.watch(require(\"../../api/images/images.js\"), {                                                                  // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 1);                                                                                                                 // 1\nmodule.watch(require(\"./navigation.html\"));                                                                            // 1\nmodule.watch(require(\"../lib/morphext.js\"));                                                                           // 1\nTemplate.navigation.onRendered(function () {                                                                           // 8\n    //$('.course-list').hide();                                                                                        // 9\n    $('.main-search').hide();                                                                                          // 10\n    $('.search-content').hide();                                                                                       // 11\n    $('.nav-overlay').hide();                                                                                          // 12\n    Session.set('searchContent', {                                                                                     // 13\n        hits: []                                                                                                       // 13\n    });                                                                                                                // 13\n});                                                                                                                    // 14\nTemplate.navigation.helpers({                                                                                          // 16\n    'date': function () {                                                                                              // 17\n        return \"Friday April 7th\";                                                                                     // 18\n    },                                                                                                                 // 19\n    'username': function () {                                                                                          // 20\n        return Session.get('name');                                                                                    // 21\n    },                                                                                                                 // 22\n    'title': function () {                                                                                             // 23\n        return Session.get('navTitle');                                                                                // 24\n    },                                                                                                                 // 25\n    'isStudent': function () {                                                                                         // 26\n        return Roles.userIsInRole(Meteor.userId(), 'student');                                                         // 27\n    },                                                                                                                 // 28\n    'isAdmin': function () {                                                                                           // 29\n        return Roles.userIsInRole(Meteor.userId(), 'admin');                                                           // 30\n    },                                                                                                                 // 31\n    'searchContent': function () {                                                                                     // 32\n        return Session.get('searchContent').hits;                                                                      // 33\n    },                                                                                                                 // 34\n    'img': function () {                                                                                               // 35\n        if (this.unsplash) {                                                                                           // 36\n            return this.unsplash.urls.full;                                                                            // 37\n        } else if (this.imgId) {                                                                                       // 38\n            try {                                                                                                      // 39\n                return Images.findOne({                                                                                // 40\n                    _id: this.imgId                                                                                    // 40\n                }).url();                                                                                              // 40\n            } catch (e) {//console.log('error getting photo')                                                          // 41\n            }                                                                                                          // 43\n        }                                                                                                              // 45\n    },                                                                                                                 // 46\n    'courses': function () {                                                                                           // 47\n        return Session.get('courses');                                                                                 // 48\n    },                                                                                                                 // 49\n    'state': function () {                                                                                             // 50\n        var now = new Date();                                                                                          // 51\n        var diff = Math.abs(now - Session.get('tokenExpiry'));                                                         // 52\n        var minutes = Math.floor(diff / 1000 / 60);                                                                    // 53\n        return minutes > 30 ? 'expired' : 'fine';                                                                      // 54\n    },                                                                                                                 // 55\n    'mark': function () {                                                                                              // 56\n        var mark = this.mark;                                                                                          // 57\n                                                                                                                       //\n        if (mark.length > 6) {                                                                                         // 58\n            mark = \"N/A\";                                                                                              // 59\n        }                                                                                                              // 60\n                                                                                                                       //\n        return mark;                                                                                                   // 61\n    },                                                                                                                 // 62\n    'dash': function () {                                                                                              // 63\n        return Session.get('inDash');                                                                                  // 64\n    }                                                                                                                  // 65\n});                                                                                                                    // 16\nTemplate.navigation.events({                                                                                           // 68\n    'click .nav-extend': function () {                                                                                 // 69\n        var sideNav = $('.side-nav');                                                                                  // 70\n        var sideNavPrompt = $('.side-nav-prompt');                                                                     // 71\n        $('.top-nav').toggleClass('right-push');                                                                       // 72\n        $('.main').toggleClass('right-push');                                                                          // 73\n        sideNav.toggleClass('right-push');                                                                             // 74\n                                                                                                                       //\n        if ($('.main').hasClass('right-push')) {                                                                       // 75\n            sideNavPrompt.html(\"<i class='fa fa-times'></i> <span class='hidden-xs hidden-sm'>CLOSE</span>\");          // 76\n            $('.nav-overlay').fadeIn('fast');                                                                          // 77\n        } else {                                                                                                       // 78\n            sideNavPrompt.html(\"<i class='fa fa-bars'></i> <span class='hidden-xs hidden-sm'>MENU</span>\");            // 79\n            $('.nav-overlay').fadeOut('fast');                                                                         // 80\n        }                                                                                                              // 81\n    },                                                                                                                 // 82\n    'click .nav-overlay': function () {                                                                                // 83\n        var sideNav = $('.side-nav');                                                                                  // 84\n        var sideNavPrompt = $('.side-nav-prompt');                                                                     // 85\n        $('.top-nav').removeClass('right-push');                                                                       // 86\n        $('.main').removeClass('right-push');                                                                          // 87\n        sideNav.removeClass('right-push');                                                                             // 88\n                                                                                                                       //\n        if ($('.main').hasClass('right-push')) {                                                                       // 89\n            sideNavPrompt.html(\"<i class='fa fa-times'></i> <span class='hidden-xs hidden-sm'>CLOSE</span>\");          // 90\n            $('.nav-overlay').fadeIn('fast');                                                                          // 91\n        } else {                                                                                                       // 92\n            sideNavPrompt.html(\"<i class='fa fa-bars'></i> <span class='hidden-xs hidden-sm'>MENU</span>\");            // 93\n            $('.nav-overlay').fadeOut('fast');                                                                         // 94\n        }                                                                                                              // 95\n    },                                                                                                                 // 96\n    'click .nav-oper': function () {                                                                                   // 97\n        var searchBox = $('.main-search');                                                                             // 98\n        var searchContent = $('.search-content');                                                                      // 99\n        var prompt = $('.top-operation-prompt');                                                                       // 100\n        Session.set('searchContent', {                                                                                 // 101\n            hits: []                                                                                                   // 101\n        });                                                                                                            // 101\n                                                                                                                       //\n        if (!searchBox.is(':visible')) {                                                                               // 102\n            searchBox.fadeIn('fast');                                                                                  // 103\n            $('.search-result').show();                                                                                // 104\n            searchContent.fadeIn(\"<i class='fa fa-times'></i> <span class='hidden-sm hidden-xs'>SEARCH</span>\");       // 105\n            prompt.html(\"CLOSE\");                                                                                      // 106\n            searchBox.typed({                                                                                          // 107\n                strings: [\"\\\"Volleyball\\\"\", \"\\\"Octoberfest\\\"\", \"\\\"Guidance\\\"\", \"\\\"DECA\\\"\", \"\\\"USAC\\\"\", \"\\\"Who made this app?\\\"\"],\n                typeSpeed: 40,                                                                                         // 116\n                loop: true,                                                                                            // 117\n                shuffle: true,                                                                                         // 118\n                showCursor: true,                                                                                      // 119\n                cursorChar: \"|\"                                                                                        // 120\n            });                                                                                                        // 107\n            $('html, body').css({                                                                                      // 122\n                overflow: 'hidden'                                                                                     // 123\n            });                                                                                                        // 122\n        } else {                                                                                                       // 125\n            searchBox.fadeOut('fast');                                                                                 // 126\n            $('.search-result').hide();                                                                                // 127\n            searchContent.fadeOut('fast');                                                                             // 128\n            prompt.html(\"<i class='fa fa-search'></i> <span class='hidden-sm hidden-xs'>SEARCH</span>\");               // 129\n            $('html, body').css({                                                                                      // 130\n                overflow: 'auto'                                                                                       // 131\n            });                                                                                                        // 130\n        }                                                                                                              // 133\n    },                                                                                                                 // 134\n    'click #academics': function () {                                                                                  // 135\n        if (!Session.get('token')) {                                                                                   // 136\n            Modal.show('teachAssistConnect');                                                                          // 137\n        }                                                                                                              // 138\n                                                                                                                       //\n        var list = $('.course-list');                                                                                  // 139\n        var icon = $('.academics-icon');                                                                               // 140\n                                                                                                                       //\n        if (!list.is(':visible')) {                                                                                    // 141\n            list.show(500);                                                                                            // 142\n            icon.removeClass('fa-bars');                                                                               // 143\n            icon.addClass('fa-times');                                                                                 // 144\n        } else {                                                                                                       // 145\n            list.hide(500);                                                                                            // 146\n            icon.removeClass('fa-times');                                                                              // 147\n            icon.addClass('fa-bars');                                                                                  // 148\n        }                                                                                                              // 149\n    },                                                                                                                 // 150\n    'input .main-search': function () {                                                                                // 151\n        var searchBox = $('.main-search');                                                                             // 152\n        var searchPrompt = $('.search-prompt');                                                                        // 153\n                                                                                                                       //\n        if (searchBox.val().length > 0) {                                                                              // 154\n            searchPrompt.css('display', 'none');                                                                       // 155\n            console.log(searchBox.val());                                                                              // 156\n            searchPost(searchBox.val());                                                                               // 157\n        } else {                                                                                                       // 158\n            searchPrompt.css('display', 'block');                                                                      // 159\n            Session.set('searchContent', {                                                                             // 160\n                hits: []                                                                                               // 160\n            });                                                                                                        // 160\n        }                                                                                                              // 161\n    }                                                                                                                  // 162\n});                                                                                                                    // 68\nTemplate.teachAssistPass.helpers({                                                                                     // 165\n    'student_id': function () {                                                                                        // 166\n        return Meteor.user().profile.student_number;                                                                   // 167\n    }                                                                                                                  // 168\n});                                                                                                                    // 165\nTemplate.teachAssistConnect.events({                                                                                   // 171\n    'submit #connectLoginForm': function (evt) {                                                                       // 172\n        evt.preventDefault();                                                                                          // 173\n        var pass = $('#reLoginPass').val();                                                                            // 174\n        Meteor.call('getTeachAssistTokens', {                                                                          // 175\n            student_number: Meteor.user().profile.student_number,                                                      // 175\n            password: pass                                                                                             // 175\n        }, function (err, data) {                                                                                      // 175\n            if (err) {                                                                                                 // 176\n                alertError(\"Failed to connect with teach assist\", err.message);                                        // 177\n            } else {                                                                                                   // 178\n                Meteor.users.update({                                                                                  // 179\n                    _id: Meteor.userId()                                                                               // 179\n                }, {                                                                                                   // 179\n                    $set: {                                                                                            // 179\n                        \"private.token\": data,                                                                         // 179\n                        \"private.tokenDate\": new Date()                                                                // 179\n                    }                                                                                                  // 179\n                }, function (err) {                                                                                    // 179\n                    if (err) {                                                                                         // 180\n                        alertError(\"Something went wrong\", err.message);                                               // 181\n                    } else {                                                                                           // 182\n                        Meteor.call('getTeachAssistCourses', data, function (err, data) {                              // 183\n                            if (err) {                                                                                 // 184\n                                alertError(\"Something went wrong\", \"\");                                                // 185\n                            } else {                                                                                   // 186\n                                Meteor.users.update({                                                                  // 187\n                                    _id: Meteor.userId()                                                               // 187\n                                }, {                                                                                   // 187\n                                    $set: {                                                                            // 187\n                                        \"private.courses\": data                                                        // 187\n                                    }                                                                                  // 187\n                                });                                                                                    // 187\n                                Modal.hide('teachAssistPass');                                                         // 188\n                                FlowRouter.reload();                                                                   // 189\n                            }                                                                                          // 190\n                        });                                                                                            // 191\n                    }                                                                                                  // 192\n                });                                                                                                    // 193\n            }                                                                                                          // 194\n        });                                                                                                            // 195\n    }                                                                                                                  // 196\n});                                                                                                                    // 171\nTemplate.teachAssistPass.events({                                                                                      // 199\n    'submit #reLoginForm': function (evt) {                                                                            // 200\n        evt.preventDefault();                                                                                          // 201\n        var pass = $('#reLoginPass').val();                                                                            // 202\n        Meteor.call('getTeachAssistTokens', {                                                                          // 203\n            student_number: Meteor.user().profile.student_number,                                                      // 203\n            password: pass                                                                                             // 203\n        }, function (err, data) {                                                                                      // 203\n            if (err) {                                                                                                 // 204\n                alertError(\"Failed to connect with teach assist\", err.message);                                        // 205\n            } else {                                                                                                   // 206\n                Meteor.users.update({                                                                                  // 207\n                    _id: Meteor.userId()                                                                               // 207\n                }, {                                                                                                   // 207\n                    $set: {                                                                                            // 207\n                        \"private.token\": data,                                                                         // 207\n                        \"private.tokenDate\": new Date()                                                                // 207\n                    }                                                                                                  // 207\n                }, function (err) {                                                                                    // 207\n                    if (err) {                                                                                         // 208\n                        alertError(\"Something went wrong\", err.message);                                               // 209\n                    } else {                                                                                           // 210\n                        Meteor.call('getTeachAssistCourses', data, function (err, data) {                              // 211\n                            if (err) {                                                                                 // 212\n                                alertError(\"Something went wrong\", \"\");                                                // 213\n                            } else {                                                                                   // 214\n                                Meteor.users.update({                                                                  // 215\n                                    _id: Meteor.userId()                                                               // 215\n                                }, {                                                                                   // 215\n                                    $set: {                                                                            // 215\n                                        \"private.courses\": data                                                        // 215\n                                    }                                                                                  // 215\n                                });                                                                                    // 215\n                                Modal.hide('teachAssistPass');                                                         // 216\n                                FlowRouter.reload();                                                                   // 217\n                            }                                                                                          // 218\n                        });                                                                                            // 219\n                    }                                                                                                  // 220\n                });                                                                                                    // 221\n            }                                                                                                          // 222\n        });                                                                                                            // 223\n    }                                                                                                                  // 224\n});                                                                                                                    // 199\n                                                                                                                       //\nsetTitle = function (title) {                                                                                          // 227\n    $('.nav-title-text').html('<span>' + title + '</span>');                                                           // 228\n};                                                                                                                     // 229\n                                                                                                                       //\nsetProgressBar = function (percentage) {                                                                               // 231\n    $('.nav-title-text').css('color', '#fff');                                                                         // 232\n    $('.nav-hub-progress').animate({                                                                                   // 233\n        width: percentage                                                                                              // 233\n    }, 1500);                                                                                                          // 233\n};                                                                                                                     // 234\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"layouts\":{\"applicationLayout.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layouts/applicationLayout.html                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.applicationLayout.js\");                                                           // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.applicationLayout.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layouts/template.applicationLayout.js                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"applicationLayout\");                                                                             // 2\nTemplate[\"applicationLayout\"] = new Template(\"Template.applicationLayout\", (function() {                               // 3\n  var view = this;                                                                                                     // 4\n  return Blaze._TemplateWith(function() {                                                                              // 5\n    return {                                                                                                           // 6\n      template: Spacebars.call(view.lookup(\"main\"))                                                                    // 7\n    };                                                                                                                 // 8\n  }, function() {                                                                                                      // 9\n    return Spacebars.include(function() {                                                                              // 10\n      return Spacebars.call(Template.__dynamic);                                                                       // 11\n    });                                                                                                                // 12\n  });                                                                                                                  // 13\n}));                                                                                                                   // 14\n                                                                                                                       // 15\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"applicationLayout.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layouts/applicationLayout.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./applicationLayout.html\"));                                                                     // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"pages\":{\"bigPicture.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/bigPicture.html                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.bigPicture.js\");                                                                  // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.bigPicture.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.bigPicture.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"bigPicture\");                                                                                    // 2\nTemplate[\"bigPicture\"] = new Template(\"Template.bigPicture\", (function() {                                             // 3\n  var view = this;                                                                                                     // 4\n  return [ HTML.DIV({                                                                                                  // 5\n    class: \"flickity flickity-fullscreen\"                                                                              // 6\n  }, \"\\n        \", Blaze.Each(function() {                                                                             // 7\n    return Spacebars.call(view.lookup(\"announcement\"));                                                                // 8\n  }, function() {                                                                                                      // 9\n    return [ \"\\n            \", HTML.DIV({                                                                              // 10\n      class: \"gallery-cell\"                                                                                            // 11\n    }, \"\\n                \", Spacebars.include(view.lookupTemplate(\"bigPictureItem\")), \"\\n            \"), \"\\n        \" ];\n  }), \"\\n    \"), \"\\n    \", Spacebars.include(view.lookupTemplate(\"bottomBar\")) ];                                      // 13\n}));                                                                                                                   // 14\n                                                                                                                       // 15\nTemplate.__checkName(\"bigPictureItem\");                                                                                // 16\nTemplate[\"bigPictureItem\"] = new Template(\"Template.bigPictureItem\", (function() {                                     // 17\n  var view = this;                                                                                                     // 18\n  return [ HTML.H1(Blaze.View(\"lookup:headline\", function() {                                                          // 19\n    return Spacebars.mustache(view.lookup(\"headline\"));                                                                // 20\n  })), \"\\n    \", HTML.IMG({                                                                                            // 21\n    src: function() {                                                                                                  // 22\n      return Spacebars.mustache(view.lookup(\"imageLink\"));                                                             // 23\n    }                                                                                                                  // 24\n  }), HTML.Raw(\"\\n    <br>\\n    \"), HTML.H3({                                                                          // 25\n    class: \"mt-30\"                                                                                                     // 26\n  }, Blaze.View(\"lookup:content\", function() {                                                                         // 27\n    return Spacebars.mustache(view.lookup(\"content\"));                                                                 // 28\n  })) ];                                                                                                               // 29\n}));                                                                                                                   // 30\n                                                                                                                       // 31\nTemplate.__checkName(\"bottomBar\");                                                                                     // 32\nTemplate[\"bottomBar\"] = new Template(\"Template.bottomBar\", (function() {                                               // 33\n  var view = this;                                                                                                     // 34\n  return HTML.Raw('<nav class=\"navbar-fixed-bottom bottom-bar\">\\n        <div class=\"bottom-inner\">\\n            <h2><span id=\"clock\"></span> - <span id=\"rotatingMessage\">All visitors please report to main office!</span></h2>\\n        </div>\\n\\n    </nav>');\n}));                                                                                                                   // 36\n                                                                                                                       // 37\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"blogs.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/blogs.html                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.blogs.js\");                                                                       // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.blogs.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.blogs.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"blogs\");                                                                                         // 2\nTemplate[\"blogs\"] = new Template(\"Template.blogs\", (function() {                                                       // 3\n  var view = this;                                                                                                     // 4\n  return [ Spacebars.include(view.lookupTemplate(\"navigation\")), \"\\n    \", Spacebars.include(view.lookupTemplate(\"editor\")), \"\\n    \", HTML.DIV({\n    class: \"container main\"                                                                                            // 6\n  }, \"\\n        \", HTML.DIV({                                                                                          // 7\n    class: \"content\"                                                                                                   // 8\n  }, \"\\n            \", Blaze.Each(function() {                                                                         // 9\n    return Spacebars.call(view.lookup(\"blogCategories\"));                                                              // 10\n  }, function() {                                                                                                      // 11\n    return [ \"\\n                \", Spacebars.include(view.lookupTemplate(\"blogCategory\")), \"\\n            \" ];         // 12\n  }), \"\\n        \"), \"\\n    \") ];                                                                                      // 13\n}));                                                                                                                   // 14\n                                                                                                                       // 15\nTemplate.__checkName(\"blogItem\");                                                                                      // 16\nTemplate[\"blogItem\"] = new Template(\"Template.blogItem\", (function() {                                                 // 17\n  var view = this;                                                                                                     // 18\n  return HTML.DIV({                                                                                                    // 19\n    class: function() {                                                                                                // 20\n      return [ \"grid-item image \", Spacebars.mustache(view.lookup(\"categories\")), \" blog-item story-item\" ];           // 21\n    },                                                                                                                 // 22\n    id: function() {                                                                                                   // 23\n      return Spacebars.mustache(view.lookup(\"_id\"));                                                                   // 24\n    }                                                                                                                  // 25\n  }, \"\\n        \", HTML.DIV({                                                                                          // 26\n    class: \"image-wrap\",                                                                                               // 27\n    id: \"wrapper\"                                                                                                      // 28\n  }, \"\\n            \", HTML.IMG({                                                                                      // 29\n    class: \"img-responsive\",                                                                                           // 30\n    src: function() {                                                                                                  // 31\n      return Spacebars.mustache(view.lookup(\"imageLink\"));                                                             // 32\n    }                                                                                                                  // 33\n  }), \"\\n        \"), \"\\n        \", HTML.DIV({                                                                          // 34\n    class: \"grid-blog-body\"                                                                                            // 35\n  }, \"\\n            \", HTML.H3(Blaze.View(\"lookup:title\", function() {                                                 // 36\n    return Spacebars.mustache(view.lookup(\"title\"));                                                                   // 37\n  })), \"\\n            \", HTML.SPAN({                                                                                   // 38\n    class: \"grid-item-footer\"                                                                                          // 39\n  }, Blaze.View(\"lookup:writer\", function() {                                                                          // 40\n    return Spacebars.mustache(view.lookup(\"writer\"));                                                                  // 41\n  })), \"\\n            \", HTML.P(Blaze.View(\"lookup:subtitle\", function() {                                             // 42\n    return Spacebars.mustache(view.lookup(\"subtitle\"));                                                                // 43\n  })), \"\\n            \", HTML.SPAN({                                                                                   // 44\n    class: \"grid-item-footer\"                                                                                          // 45\n  }, Blaze.View(\"lookup:date\", function() {                                                                            // 46\n    return Spacebars.mustache(view.lookup(\"date\"));                                                                    // 47\n  })), \"\\n            \", HTML.Raw('<!--<a href=\"\" class=\"btn btn-primary btn-wide\">Read More</a>-->'), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 49\n                                                                                                                       // 50\nTemplate.__checkName(\"blogCategory\");                                                                                  // 51\nTemplate[\"blogCategory\"] = new Template(\"Template.blogCategory\", (function() {                                         // 52\n  var view = this;                                                                                                     // 53\n  return [ HTML.DIV({                                                                                                  // 54\n    class: \"row mb-15\"                                                                                                 // 55\n  }, \"\\n        \", HTML.DIV({                                                                                          // 56\n    class: \"col-lg-12\"                                                                                                 // 57\n  }, \"\\n            \", HTML.H3(Blaze.View(\"lookup:categoryName\", function() {                                          // 58\n    return Spacebars.mustache(view.lookup(\"categoryName\"));                                                            // 59\n  })), \"\\n            \", HTML.Raw('<a href=\"\">View All</a>'), \"\\n        \"), \"\\n    \"), \"\\n    \", HTML.DIV({           // 60\n    class: \"row\"                                                                                                       // 61\n  }, \"\\n        \", Blaze.Each(function() {                                                                             // 62\n    return Spacebars.call(view.lookup(\"blogPreviews\"));                                                                // 63\n  }, function() {                                                                                                      // 64\n    return [ \"\\n            \", HTML.DIV({                                                                              // 65\n      class: \"col-lg-3\"                                                                                                // 66\n    }, \"\\n                \", Spacebars.include(view.lookupTemplate(\"blogItem\")), \"\\n            \"), \"\\n        \" ];    // 67\n  }), \"\\n    \") ];                                                                                                     // 68\n}));                                                                                                                   // 69\n                                                                                                                       // 70\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"course.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/course.html                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.course.js\");                                                                      // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.course.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.course.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"course\");                                                                                        // 2\nTemplate[\"course\"] = new Template(\"Template.course\", (function() {                                                     // 3\n  var view = this;                                                                                                     // 4\n  return [ Blaze._TemplateWith(function() {                                                                            // 5\n    return {                                                                                                           // 6\n      oper: Spacebars.call(\"true\")                                                                                     // 7\n    };                                                                                                                 // 8\n  }, function() {                                                                                                      // 9\n    return Spacebars.include(view.lookupTemplate(\"navigation\"));                                                       // 10\n  }), \"\\n    \", HTML.DIV({                                                                                             // 11\n    class: \"main post-body mb-60\"                                                                                      // 12\n  }, \"\\n        \", HTML.DIV({                                                                                          // 13\n    class: \"container-fluid center-wrapper course-header\"                                                              // 14\n  }, \"\\n            \", HTML.DIV({                                                                                      // 15\n    class: \"sections-container\"                                                                                        // 16\n  }, \"\\n                \", Blaze.If(function() {                                                                       // 17\n    return Spacebars.call(view.lookup(\"isMobile\"));                                                                    // 18\n  }, function() {                                                                                                      // 19\n    return [ \"\\n                    \", HTML.DIV({                                                                      // 20\n      class: \"row\"                                                                                                     // 21\n    }, \"\\n                        \", HTML.DIV({                                                                        // 22\n      class: \"col-md-3 col-sm-6 col-xs-6 mb-30\"                                                                        // 23\n    }, \"\\n                            \", HTML.DIV({                                                                    // 24\n      class: \"section-card\"                                                                                            // 25\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 26\n      id: \"knowledgeChart\"                                                                                             // 27\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 28\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.knowledge\");                                         // 29\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({    // 30\n      class: \"col-md-3 col-sm-6 col-xs-6\"                                                                              // 31\n    }, \"\\n                            \", HTML.DIV({                                                                    // 32\n      class: \"section-card\"                                                                                            // 33\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 34\n      id: \"thinkingChart\"                                                                                              // 35\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 36\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.thinking\");                                          // 37\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n      class: \"row mb-15\"                                                                                               // 39\n    }, \"\\n                        \", HTML.DIV({                                                                        // 40\n      class: \"col-md-3 col-sm-6 col-xs-6\"                                                                              // 41\n    }, \"\\n                            \", HTML.DIV({                                                                    // 42\n      class: \"section-card\"                                                                                            // 43\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 44\n      id: \"communicationChart\"                                                                                         // 45\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 46\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.communication\");                                     // 47\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({    // 48\n      class: \"col-md-3 col-sm-6 col-xs-6\"                                                                              // 49\n    }, \"\\n                            \", HTML.DIV({                                                                    // 50\n      class: \"section-card\"                                                                                            // 51\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 52\n      id: \"applicationChart\"                                                                                           // 53\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 54\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.application\");                                       // 55\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n      class: \"row\"                                                                                                     // 57\n    }, \"\\n                        \", HTML.DIV({                                                                        // 58\n      class: \"col-md-12 col-sm-12 col-xs-12\"                                                                           // 59\n    }, \"\\n                            \", HTML.DIV({                                                                    // 60\n      class: \"section-card\"                                                                                            // 61\n    }, \"\\n                                \", HTML.H2({                                                                 // 62\n      class: \"performance-mark\"                                                                                        // 63\n    }, Blaze.View(\"lookup:culminating\", function() {                                                                   // 64\n      return Spacebars.mustache(view.lookup(\"culminating\"));                                                           // 65\n    })), \"\\n                                \", HTML.H3({                                                               // 66\n      class: \"mt-0\"                                                                                                    // 67\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 68\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.culminating\");                                       // 69\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \" ];\n  }, function() {                                                                                                      // 71\n    return [ \"\\n                    \", HTML.DIV({                                                                      // 72\n      class: \"row\"                                                                                                     // 73\n    }, \"\\n                        \", HTML.DIV({                                                                        // 74\n      class: \"col-md-3 col-sm-6 col-xs-6 mb-30\"                                                                        // 75\n    }, \"\\n                            \", HTML.DIV({                                                                    // 76\n      class: \"section-card\"                                                                                            // 77\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 78\n      id: \"knowledgeChart\",                                                                                            // 79\n      width: \"400\",                                                                                                    // 80\n      height: \"400\"                                                                                                    // 81\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 82\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.knowledge\");                                         // 83\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({    // 84\n      class: \"col-md-3 col-sm-6 col-xs-6\"                                                                              // 85\n    }, \"\\n                            \", HTML.DIV({                                                                    // 86\n      class: \"section-card\"                                                                                            // 87\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 88\n      id: \"thinkingChart\",                                                                                             // 89\n      width: \"400\",                                                                                                    // 90\n      height: \"400\"                                                                                                    // 91\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 92\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.thinking\");                                          // 93\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({    // 94\n      class: \"col-md-3 col-sm-6 col-xs-6\"                                                                              // 95\n    }, \"\\n                            \", HTML.DIV({                                                                    // 96\n      class: \"section-card\"                                                                                            // 97\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 98\n      id: \"communicationChart\",                                                                                        // 99\n      width: \"400\",                                                                                                    // 100\n      height: \"400\"                                                                                                    // 101\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 102\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.communication\");                                     // 103\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({    // 104\n      class: \"col-md-3 col-sm-6 col-xs-6\"                                                                              // 105\n    }, \"\\n                            \", HTML.DIV({                                                                    // 106\n      class: \"section-card\"                                                                                            // 107\n    }, \"\\n                                \", HTML.CANVAS({                                                             // 108\n      id: \"applicationChart\",                                                                                          // 109\n      width: \"400\",                                                                                                    // 110\n      height: \"400\"                                                                                                    // 111\n    }), \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                              // 112\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.application\");                                       // 113\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n      class: \"row\"                                                                                                     // 115\n    }, \"\\n                        \", HTML.DIV({                                                                        // 116\n      class: \"col-md-12 col-sm-12 col-xs-12\"                                                                           // 117\n    }, \"\\n                            \", HTML.DIV({                                                                    // 118\n      class: \"section-card\"                                                                                            // 119\n    }, \"\\n                                \", HTML.H2({                                                                 // 120\n      class: \"performance-mark\"                                                                                        // 121\n    }, Blaze.View(\"lookup:culminating\", function() {                                                                   // 122\n      return Spacebars.mustache(view.lookup(\"culminating\"));                                                           // 123\n    })), \"\\n                                \", HTML.H3({                                                               // 124\n      class: \"mt-0\"                                                                                                    // 125\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 126\n      return Spacebars.mustache(view.lookup(\"_\"), \"details.course.culminating\");                                       // 127\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \" ];\n  }), \"\\n\\n            \"), \"\\n            \", HTML.DIV({                                                                // 129\n    class: \"navbar-fixed-bottom text-center text-capitalize scroll-down hidden-xs\"                                     // 130\n  }, \"\\n                \", HTML.P(Blaze.View(\"lookup:_\", function() {                                                  // 131\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.scroll\");                                                     // 132\n  })), \"\\n                \", HTML.Raw('<div class=\"bounce arrow\"></div>'), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n    class: \"container\"                                                                                                 // 134\n  }, \"\\n            \", HTML.DIV({                                                                                      // 135\n    class: \"row mt-30\"                                                                                                 // 136\n  }, \"\\n                \", HTML.DIV({                                                                                  // 137\n    class: \"col-md-12 text-center assessment-tabs\"                                                                     // 138\n  }, \"\\n                    \", HTML.DIV({                                                                              // 139\n    class: \"button-group filter-button-group mb-30\"                                                                    // 140\n  }, \"\\n                        \", HTML.BUTTON({                                                                       // 141\n    class: \"filter-btn is-checked\",                                                                                    // 142\n    \"data-tab\": \"assessments\"                                                                                          // 143\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 144\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.course.menu.assess\");                                         // 145\n  })), \"\\n                        \", HTML.BUTTON({                                                                     // 146\n    class: \"filter-btn\",                                                                                               // 147\n    \"data-tab\": \"insights\"                                                                                             // 148\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 149\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.course.menu.insights\");                                       // 150\n  })), \"\\n                        \", HTML.BUTTON({                                                                     // 151\n    class: \"filter-btn\",                                                                                               // 152\n    \"data-tab\": \"resources\"                                                                                            // 153\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 154\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.course.menu.resources\");                                      // 155\n  })), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \", HTML.DIV({               // 156\n    class: \"assessments\"                                                                                               // 157\n  }, \"\\n                \", Blaze.Each(function() {                                                                     // 158\n    return Spacebars.call(view.lookup(\"assessment\"));                                                                  // 159\n  }, function() {                                                                                                      // 160\n    return [ \"\\n                \", HTML.DIV({                                                                          // 161\n      class: \"row mb-30\"                                                                                               // 162\n    }, \"\\n                    \", Blaze.Each(function() {                                                               // 163\n      return Spacebars.call(view.lookup(\".\"));                                                                         // 164\n    }, function() {                                                                                                    // 165\n      return [ \"\\n                        \", HTML.DIV({                                                                // 166\n        class: \"col-md-6\"                                                                                              // 167\n      }, \"\\n                            \", HTML.DIV({                                                                  // 168\n        class: \"assessment-body text-center\"                                                                           // 169\n      }, \"\\n                                \", HTML.DIV({                                                              // 170\n        class: \"assessment-info\"                                                                                       // 171\n      }, \"\\n                                    \", HTML.H3({                                                           // 172\n        class: \"assessment-title\"                                                                                      // 173\n      }, Blaze.View(\"lookup:title\", function() {                                                                       // 174\n        return Spacebars.mustache(view.lookup(\"title\"));                                                               // 175\n      })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:feedback\", function() {                 // 176\n        return Spacebars.mustache(view.lookup(\"feedback\"));                                                            // 177\n      })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                     // 178\n        class: \"assessment-performance\"                                                                                // 179\n      }, \"\\n                                    \", HTML.DIV({                                                          // 180\n        class: \"performance-presenter\",                                                                                // 181\n        hidden: \"\"                                                                                                     // 182\n      }, \"\\n                                        \", HTML.DIV({                                                      // 183\n        class: \"close-presenter\"                                                                                       // 184\n      }, \"\\n                                            \", HTML.I({                                                    // 185\n        class: \"fa fa-2x fa-times\"                                                                                     // 186\n      }), \"\\n                                        \"), \"\\n                                        \", HTML.H4({       // 187\n        class: \"presenter-section\"                                                                                     // 188\n      }, \"Section Title\"), \"\\n                                        \", HTML.H3(Blaze.View(\"lookup:_\", function() {   // 189\n        return Spacebars.mustache(view.lookup(\"_\"), \"details.course.expand_a\");                                        // 190\n      }), \" \", HTML.SPAN({                                                                                             // 191\n        class: \"important achieved\"                                                                                    // 192\n      }, \"10\"), \" \", Blaze.View(\"lookup:_\", function() {                                                               // 193\n        return Spacebars.mustache(view.lookup(\"_\"), \"details.course.expand_b\");                                        // 194\n      }), \" \", HTML.SPAN({                                                                                             // 195\n        class: \"important out-of\"                                                                                      // 196\n      }, \"10\")), \"\\n                                        \", HTML.H5({                                               // 197\n        class: \"mb-30\"                                                                                                 // 198\n      }, Blaze.View(\"lookup:_\", function() {                                                                           // 199\n        return Spacebars.mustache(view.lookup(\"_\"), \"details.course.weight\");                                          // 200\n      }), \": \", HTML.SPAN({                                                                                            // 201\n        class: \"weight\"                                                                                                // 202\n      }, \"10\")), \"\\n\", HTML.Comment('                                        <h4 class=\"text-left\">Insights:</h4>\\n                                        <ul class=\"text-left\">\\n                                            <li>This is insight number 1</li>\\n                                            <li>Your performance in this section caused your mark to rise by 2.1%</li>\\n                                        </ul>'), \"\\n                                    \"), \"\\n                                    \", Spacebars.With(function() {\n        return Spacebars.call(view.lookup(\"K\"));                                                                       // 204\n      }, function() {                                                                                                  // 205\n        return [ \"\\n                                        \", HTML.DIV({                                              // 206\n          class: \"knowledge performance\"                                                                               // 207\n        }, \"\\n                                            \", HTML.DIV({                                                // 208\n          class: \"performance-progress\",                                                                               // 209\n          id: \"test1\",                                                                                                 // 210\n          \"data-progress\": function() {                                                                                // 211\n            return Spacebars.mustache(view.lookup(\"percentage\"));                                                      // 212\n          }                                                                                                            // 213\n        }), \"\\n                                            \", HTML.DIV({                                               // 214\n          class: \"general-info\"                                                                                        // 215\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 216\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.knowledge\");                                     // 217\n        }), \" - \", HTML.SPAN({                                                                                         // 218\n          class: \"important\"                                                                                           // 219\n        }, Blaze.View(\"lookup:percentage\", function() {                                                                // 220\n          return Spacebars.mustache(view.lookup(\"percentage\"));                                                        // 221\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 222\n      }, function() {                                                                                                  // 223\n        return [ \"\\n                                        \", HTML.DIV({                                              // 224\n          class: \"knowledge performance not-available\"                                                                 // 225\n        }, \"\\n                                            \", HTML.DIV({                                                // 226\n          class: \"performance-progress\",                                                                               // 227\n          \"data-progress\": \"0\"                                                                                         // 228\n        }), \"\\n                                            \", HTML.DIV({                                               // 229\n          class: \"general-info\"                                                                                        // 230\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 231\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.knowledge\");                                     // 232\n        }), \" - \", HTML.SPAN({                                                                                         // 233\n          class: \"important\"                                                                                           // 234\n        }, Blaze.View(\"lookup:_\", function() {                                                                         // 235\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.no\");                                            // 236\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 237\n      }), \"\\n                                    \", Spacebars.With(function() {                                        // 238\n        return Spacebars.call(view.lookup(\"T\"));                                                                       // 239\n      }, function() {                                                                                                  // 240\n        return [ \"\\n                                        \", HTML.DIV({                                              // 241\n          class: \"thinking performance\"                                                                                // 242\n        }, \"\\n                                            \", HTML.DIV({                                                // 243\n          class: \"performance-progress\",                                                                               // 244\n          \"data-progress\": function() {                                                                                // 245\n            return Spacebars.mustache(view.lookup(\"percentage\"));                                                      // 246\n          }                                                                                                            // 247\n        }), \"\\n                                            \", HTML.DIV({                                               // 248\n          class: \"general-info\"                                                                                        // 249\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 250\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.thinking\");                                      // 251\n        }), \" - \", HTML.SPAN({                                                                                         // 252\n          class: \"important\"                                                                                           // 253\n        }, Blaze.View(\"lookup:percentage\", function() {                                                                // 254\n          return Spacebars.mustache(view.lookup(\"percentage\"));                                                        // 255\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 256\n      }, function() {                                                                                                  // 257\n        return [ \"\\n                                        \", HTML.DIV({                                              // 258\n          class: \"thinking performance not-available\"                                                                  // 259\n        }, \"\\n                                            \", HTML.DIV({                                                // 260\n          class: \"performance-progress\",                                                                               // 261\n          \"data-progress\": \"0\"                                                                                         // 262\n        }), \"\\n                                            \", HTML.DIV({                                               // 263\n          class: \"general-info\"                                                                                        // 264\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 265\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.thinking\");                                      // 266\n        }), \" - \", HTML.SPAN({                                                                                         // 267\n          class: \"important\"                                                                                           // 268\n        }, Blaze.View(\"lookup:_\", function() {                                                                         // 269\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.no\");                                            // 270\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 271\n      }), \"\\n                                    \", Spacebars.With(function() {                                        // 272\n        return Spacebars.call(view.lookup(\"C\"));                                                                       // 273\n      }, function() {                                                                                                  // 274\n        return [ \"\\n                                        \", HTML.DIV({                                              // 275\n          class: \"communication performance\"                                                                           // 276\n        }, \"\\n                                            \", HTML.DIV({                                                // 277\n          class: \"performance-progress\",                                                                               // 278\n          \"data-progress\": function() {                                                                                // 279\n            return Spacebars.mustache(view.lookup(\"percentage\"));                                                      // 280\n          }                                                                                                            // 281\n        }), \"\\n                                            \", HTML.DIV({                                               // 282\n          class: \"general-info\"                                                                                        // 283\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 284\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.communication\");                                 // 285\n        }), \" - \", HTML.SPAN({                                                                                         // 286\n          class: \"important\"                                                                                           // 287\n        }, Blaze.View(\"lookup:percentage\", function() {                                                                // 288\n          return Spacebars.mustache(view.lookup(\"percentage\"));                                                        // 289\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 290\n      }, function() {                                                                                                  // 291\n        return [ \"\\n                                        \", HTML.DIV({                                              // 292\n          class: \"communication performance not-available\"                                                             // 293\n        }, \"\\n                                            \", HTML.DIV({                                                // 294\n          class: \"performance-progress\",                                                                               // 295\n          \"data-progress\": \"0\"                                                                                         // 296\n        }), \"\\n                                            \", HTML.DIV({                                               // 297\n          class: \"general-info\"                                                                                        // 298\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 299\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.communication\");                                 // 300\n        }), \" - \", HTML.SPAN({                                                                                         // 301\n          class: \"important\"                                                                                           // 302\n        }, Blaze.View(\"lookup:_\", function() {                                                                         // 303\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.no\");                                            // 304\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 305\n      }), \"\\n                                    \", Spacebars.With(function() {                                        // 306\n        return Spacebars.call(view.lookup(\"A\"));                                                                       // 307\n      }, function() {                                                                                                  // 308\n        return [ \"\\n                                        \", HTML.DIV({                                              // 309\n          class: \"application performance\"                                                                             // 310\n        }, \"\\n                                            \", HTML.DIV({                                                // 311\n          class: \"performance-progress\",                                                                               // 312\n          \"data-progress\": function() {                                                                                // 313\n            return Spacebars.mustache(view.lookup(\"percentage\"));                                                      // 314\n          }                                                                                                            // 315\n        }), \"\\n                                            \", HTML.DIV({                                               // 316\n          class: \"general-info\"                                                                                        // 317\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 318\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.application\");                                   // 319\n        }), \" - \", HTML.SPAN({                                                                                         // 320\n          class: \"important\"                                                                                           // 321\n        }, Blaze.View(\"lookup:percentage\", function() {                                                                // 322\n          return Spacebars.mustache(view.lookup(\"percentage\"));                                                        // 323\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 324\n      }, function() {                                                                                                  // 325\n        return [ \"\\n                                        \", HTML.DIV({                                              // 326\n          class: \"application performance not-available\"                                                               // 327\n        }, \"\\n                                            \", HTML.DIV({                                                // 328\n          class: \"performance-progress\",                                                                               // 329\n          \"data-progress\": \"0\"                                                                                         // 330\n        }), \"\\n                                            \", HTML.DIV({                                               // 331\n          class: \"general-info\"                                                                                        // 332\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 333\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.application\");                                   // 334\n        }), \" - \", HTML.SPAN({                                                                                         // 335\n          class: \"important\"                                                                                           // 336\n        }, Blaze.View(\"lookup:_\", function() {                                                                         // 337\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.no\");                                            // 338\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 339\n      }), \"\\n                                    \", Spacebars.With(function() {                                        // 340\n        return Spacebars.call(view.lookup(\"O\"));                                                                       // 341\n      }, function() {                                                                                                  // 342\n        return [ \"\\n                                        \", HTML.DIV({                                              // 343\n          class: \"other performance\"                                                                                   // 344\n        }, \"\\n                                            \", HTML.DIV({                                                // 345\n          class: \"performance-progress\",                                                                               // 346\n          \"data-progress\": function() {                                                                                // 347\n            return Spacebars.mustache(view.lookup(\"percentage\"));                                                      // 348\n          }                                                                                                            // 349\n        }), \"\\n                                            \", HTML.DIV({                                               // 350\n          class: \"general-info\"                                                                                        // 351\n        }, HTML.P(Blaze.View(\"lookup:_\", function() {                                                                  // 352\n          return Spacebars.mustache(view.lookup(\"_\"), \"details.course.other\");                                         // 353\n        }), \" - \", HTML.SPAN({                                                                                         // 354\n          class: \"important\"                                                                                           // 355\n        }, Blaze.View(\"lookup:percentage\", function() {                                                                // 356\n          return Spacebars.mustache(view.lookup(\"percentage\"));                                                        // 357\n        })))), \"\\n                                        \"), \"\\n                                    \" ];              // 358\n      }), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];\n    }), \"\\n                \"), \"\\n                \" ];                                                                 // 360\n  }), \"\\n            \"), \"\\n            \", HTML.DIV({                                                                  // 361\n    class: \"insights\"                                                                                                  // 362\n  }, \"\\n                \", HTML.DIV({                                                                                  // 363\n    class: \"row mb-30\"                                                                                                 // 364\n  }, \"\\n                    \", HTML.DIV({                                                                              // 365\n    class: \"col-md-12\"                                                                                                 // 366\n  }, \"\\n                        \", HTML.DIV({                                                                          // 367\n    class: \"assessment-body text-center\"                                                                               // 368\n  }, \"\\n                            \", HTML.DIV({                                                                      // 369\n    class: \"chart-content\"                                                                                             // 370\n  }, \"\\n                                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                                 // 371\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.course.timeline_graph\");                                      // 372\n  })), \"\\n                                \", HTML.Raw('<canvas id=\"markByAssignment\"></canvas>'), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n                \", HTML.DIV({\n    class: \"row mb-30\"                                                                                                 // 374\n  }, \"\\n                    \", HTML.DIV({                                                                              // 375\n    class: \"col-md-12\"                                                                                                 // 376\n  }, \"\\n                        \", HTML.DIV({                                                                          // 377\n    class: \"assessment-body text-center\"                                                                               // 378\n  }, \"\\n                            \", HTML.DIV({                                                                      // 379\n    class: \"chart-content\"                                                                                             // 380\n  }, \"\\n                                \", HTML.H3(\"S\", Blaze.View(\"lookup:_\", function() {                            // 381\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.course.assignments_graph\");                                   // 382\n  })), \"\\n                                \", HTML.Raw('<canvas id=\"sectionMarkByAssignment\"></canvas>'), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \", HTML.DIV({\n    class: \"resources\",                                                                                                // 384\n    hidden: \"\"                                                                                                         // 385\n  }, \"\\n                \", Blaze.Each(function() {                                                                     // 386\n    return Spacebars.call(view.lookup(\"readings\"));                                                                    // 387\n  }, function() {                                                                                                      // 388\n    return [ \"\\n                    \", HTML.DIV({                                                                      // 389\n      class: \"col-lg-12 draft-item\",                                                                                   // 390\n      id: function() {                                                                                                 // 391\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 392\n      }                                                                                                                // 393\n    }, \"\\n                        \", HTML.Comment(\" Blog post example, with featured image \"), \"\\n                        \", HTML.DIV({\n      class: \"editor-options draft-inline\"                                                                             // 395\n    }, \"\\n                            \", HTML.DIV({                                                                    // 396\n      class: \"image-preview\"                                                                                           // 397\n    }, \"\\n                                \", HTML.IMG({                                                                // 398\n      src: function() {                                                                                                // 399\n        return Spacebars.mustache(view.lookup(\"imageLink\"));                                                           // 400\n      },                                                                                                               // 401\n      class: \"img-responsive\"                                                                                          // 402\n    }), \"\\n                            \"), \"\\n                            \", HTML.DIV({                                // 403\n      class: \"content-preview\"                                                                                         // 404\n    }, \"\\n                                \", HTML.H3({                                                                 // 405\n      class: \"draft-title\"                                                                                             // 406\n    }, Blaze.View(\"lookup:headline\", function() {                                                                      // 407\n      return Spacebars.mustache(view.lookup(\"headline\"));                                                              // 408\n    }), Blaze.View(\"lookup:title\", function() {                                                                        // 409\n      return Spacebars.mustache(view.lookup(\"title\"));                                                                 // 410\n    })), \"\\n                                \", HTML.SPAN(\"Created: \", Blaze.View(\"lookup:releaseDate\", function() {    // 411\n      return Spacebars.mustache(view.lookup(\"releaseDate\"));                                                           // 412\n    }), \".\"), \"\\n                                \", HTML.P({                                                           // 413\n      class: \"draft-body\"                                                                                              // 414\n    }, Blaze.View(\"lookup:subtitle\", function() {                                                                      // 415\n      return Spacebars.mustache(view.lookup(\"subtitle\"));                                                              // 416\n    })), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \" ];\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \") ];                                                                   // 418\n}));                                                                                                                   // 419\n                                                                                                                       // 420\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dashboard.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/dashboard.html                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.dashboard.js\");                                                                   // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.dashboard.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.dashboard.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"dashboard\");                                                                                     // 2\nTemplate[\"dashboard\"] = new Template(\"Template.dashboard\", (function() {                                               // 3\n  var view = this;                                                                                                     // 4\n  return [ Spacebars.include(view.lookupTemplate(\"navigation\")), \"\\n    \", HTML.DIV({                                  // 5\n    class: \"container-fluid\"                                                                                           // 6\n  }, \"\\n        \", HTML.DIV({                                                                                          // 7\n    class: \"col-lg-12 dash-component dash-body\"                                                                        // 8\n  }, \"\\n            \", Blaze._TemplateWith(function() {                                                                // 9\n    return {                                                                                                           // 10\n      template: Spacebars.call(view.lookup(\"dash\"))                                                                    // 11\n    };                                                                                                                 // 12\n  }, function() {                                                                                                      // 13\n    return Spacebars.include(function() {                                                                              // 14\n      return Spacebars.call(Template.__dynamic);                                                                       // 15\n    });                                                                                                                // 16\n  }), \"\\n        \"), \"\\n    \") ];                                                                                      // 17\n}));                                                                                                                   // 18\n                                                                                                                       // 19\nTemplate.__checkName(\"dashHome\");                                                                                      // 20\nTemplate[\"dashHome\"] = new Template(\"Template.dashHome\", (function() {                                                 // 21\n  var view = this;                                                                                                     // 22\n  return HTML.DIV({                                                                                                    // 23\n    class: \"container\"                                                                                                 // 24\n  }, HTML.Raw('\\n        <div class=\"row text-center mb-60\">\\n            <div class=\"col-lg-12\">\\n                <h2>Home</h2>\\n            </div>\\n        </div>\\n        '), HTML.DIV({\n    class: \"row\"                                                                                                       // 26\n  }, \"\\n            \", HTML.DIV({                                                                                      // 27\n    class: \"col-lg-12\"                                                                                                 // 28\n  }, \"\\n                \", HTML.DIV({                                                                                  // 29\n    class: \"dash-item\"                                                                                                 // 30\n  }, \"\\n                    \", HTML.Raw('<div class=\"dash-item-header text-center\">\\n                        <h3>New Announcement Requests</h3>\\n                        <p>Click on one to edit its details</p>\\n                    </div>'), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"post\"));                                                                        // 32\n  }, function() {                                                                                                      // 33\n    return [ \"\\n                        \", Blaze.If(function() {                                                       // 34\n      return Spacebars.call(view.lookup(\"noImage\"));                                                                   // 35\n    }, function() {                                                                                                    // 36\n      return [ \"\\n                            \", HTML.DIV({                                                            // 37\n        class: \"editor-options new-post draft-inline\",                                                                 // 38\n        id: function() {                                                                                               // 39\n          return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 40\n        }                                                                                                              // 41\n      }, \"\\n                                \", HTML.DIV(\"\\n                                    \", HTML.DIV({           // 42\n        class: \"content-preview\"                                                                                       // 43\n      }, \"\\n                                        \", HTML.H4({                                                       // 44\n        class: \"draft-title\"                                                                                           // 45\n      }, Blaze.View(\"lookup:headline\", function() {                                                                    // 46\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 47\n      })), \"\\n                                        \", HTML.P({                                                      // 48\n        class: \"meta\"                                                                                                  // 49\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 50\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 51\n      }), \" | \", Blaze.View(\"lookup:startDate\", function() {                                                           // 52\n        return Spacebars.mustache(view.lookup(\"startDate\"));                                                           // 53\n      }), \" - \", Blaze.View(\"lookup:endDate\", function() {                                                             // 54\n        return Spacebars.mustache(view.lookup(\"endDate\"));                                                             // 55\n      }), \" | Tags: \", Blaze.View(\"lookup:tags\", function() {                                                          // 56\n        return Spacebars.mustache(view.lookup(\"tags\"));                                                                // 57\n      }), \" | Category: \", Blaze.View(\"lookup:categories\", function() {                                                // 58\n        return Spacebars.mustache(view.lookup(\"categories\"));                                                          // 59\n      }), \" | \"), \"\\n                                        \", HTML.P({                                               // 60\n        class: \"draft-body\"                                                                                            // 61\n      }, Blaze.View(\"lookup:content\", function() {                                                                     // 62\n        return Spacebars.mustache(view.lookup(\"content\"));                                                             // 63\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.DIV({             // 64\n        class: \"operations\"                                                                                            // 65\n      }, \"\\n                                        \", HTML.BUTTON({                                                   // 66\n        class: \"btn btn-approve\"                                                                                       // 67\n      }, HTML.I({                                                                                                      // 68\n        class: \"fa fa-check\"                                                                                           // 69\n      }), \" Approve\"), \"\\n                                        \", HTML.BUTTON({                                     // 70\n        class: \"btn btn-reject\"                                                                                        // 71\n      }, HTML.I({                                                                                                      // 72\n        class: \"fa fa-times\"                                                                                           // 73\n      }), \" Reject\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n    }, function() {                                                                                                    // 75\n      return [ \"\\n                            \", HTML.DIV({                                                            // 76\n        class: \"editor-options new-post with-image draft-inline\",                                                      // 77\n        id: function() {                                                                                               // 78\n          return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 79\n        }                                                                                                              // 80\n      }, \"\\n                                \", HTML.DIV(\"\\n                                    \", HTML.DIV({           // 81\n        class: \"flexed mb-15\"                                                                                          // 82\n      }, \"\\n                                        \", HTML.DIV({                                                      // 83\n        class: \"image-preview\"                                                                                         // 84\n      }, \"\\n                                            \", HTML.IMG({                                                  // 85\n        src: function() {                                                                                              // 86\n          return Spacebars.mustache(view.lookup(\"imageLink\"));                                                         // 87\n        },                                                                                                             // 88\n        class: \"img-responsive\"                                                                                        // 89\n      }), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({      // 90\n        class: \"content-preview\"                                                                                       // 91\n      }, \"\\n                                            \", HTML.H3({                                                   // 92\n        class: \"draft-title\"                                                                                           // 93\n      }, Blaze.View(\"lookup:headline\", function() {                                                                    // 94\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 95\n      })), \"\\n                                            \", HTML.P({                                                  // 96\n        class: \"meta\"                                                                                                  // 97\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 98\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 99\n      }), \" | \", Blaze.View(\"lookup:startDate\", function() {                                                           // 100\n        return Spacebars.mustache(view.lookup(\"startDate\"));                                                           // 101\n      }), \" - \", Blaze.View(\"lookup:endDate\", function() {                                                             // 102\n        return Spacebars.mustache(view.lookup(\"endDate\"));                                                             // 103\n      }), \" | Tags: \", Blaze.View(\"lookup:tags\", function() {                                                          // 104\n        return Spacebars.mustache(view.lookup(\"tags\"));                                                                // 105\n      }), \" | Category: \", Blaze.View(\"lookup:categories\", function() {                                                // 106\n        return Spacebars.mustache(view.lookup(\"categories\"));                                                          // 107\n      }), \" | \"), \"\\n                                            \", Blaze.If(function() {                              // 108\n        return Spacebars.call(view.lookup(\"hasContent\"));                                                              // 109\n      }, function() {                                                                                                  // 110\n        return [ \"\\n                                                \", HTML.P({                                        // 111\n          class: \"draft-body\"                                                                                          // 112\n        }, Blaze.View(\"lookup:content\", function() {                                                                   // 113\n          return Spacebars.mustache(view.lookup(\"content\"));                                                           // 114\n        })), \"\\n                                            \" ];                                                       // 115\n      }), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", HTML.DIV(\"\\n                                        \", HTML.BUTTON({\n        class: \"btn btn-approve\"                                                                                       // 117\n      }, HTML.I({                                                                                                      // 118\n        class: \"fa fa-check\"                                                                                           // 119\n      }), \" Approve\"), \"\\n                                        \", HTML.BUTTON({                                     // 120\n        class: \"btn btn-reject\"                                                                                        // 121\n      }, HTML.I({                                                                                                      // 122\n        class: \"fa fa-times\"                                                                                           // 123\n      }), \" Reject\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n    }), \"\\n                        \", HTML.HR(), \"\\n                    \" ];                                           // 125\n  }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({                                // 126\n    class: \"row\"                                                                                                       // 127\n  }, \"\\n            \", HTML.DIV({                                                                                      // 128\n    class: \"col-lg-12\"                                                                                                 // 129\n  }, \"\\n                \", HTML.DIV({                                                                                  // 130\n    class: \"dash-item\"                                                                                                 // 131\n  }, \"\\n                    \", HTML.Raw('<div class=\"dash-item-header text-center\">\\n                        <h3>New Blog posts</h3>\\n                        <p>Click on one to view it</p>\\n                    </div>'), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"blogPost\"));                                                                    // 133\n  }, function() {                                                                                                      // 134\n    return [ \"\\n                        \", HTML.DIV({                                                                  // 135\n      class: \"editor-options new-post draft-inline\",                                                                   // 136\n      id: function() {                                                                                                 // 137\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 138\n      }                                                                                                                // 139\n    }, \"\\n                            \", HTML.DIV(\"\\n                                \", HTML.DIV({                     // 140\n      class: \"content-preview\"                                                                                         // 141\n    }, \"\\n                                    \", HTML.H4({                                                             // 142\n      class: \"draft-title\"                                                                                             // 143\n    }, Blaze.View(\"lookup:title\", function() {                                                                         // 144\n      return Spacebars.mustache(view.lookup(\"title\"));                                                                 // 145\n    })), \"\\n                                    \", HTML.P({                                                            // 146\n      class: \"meta\"                                                                                                    // 147\n    }, Blaze.View(\"lookup:writer\", function() {                                                                        // 148\n      return Spacebars.mustache(view.lookup(\"writer\"));                                                                // 149\n    }), \" | Released: \", Blaze.View(\"lookup:releaseDate\", function() {                                                 // 150\n      return Spacebars.mustache(view.lookup(\"releaseDate\"));                                                           // 151\n    }), \" | Drafted: \", Blaze.View(\"lookup:draftedDate\", function() {                                                  // 152\n      return Spacebars.mustache(view.lookup(\"draftedDate\"));                                                           // 153\n    }), \" | Tags: \", Blaze.View(\"lookup:tags\", function() {                                                            // 154\n      return Spacebars.mustache(view.lookup(\"tags\"));                                                                  // 155\n    }), \" | Category: \", Blaze.View(\"lookup:categories\", function() {                                                  // 156\n      return Spacebars.mustache(view.lookup(\"categories\"));                                                            // 157\n    }), \" | \"), \"\\n                                    \", HTML.P({                                                     // 158\n      class: \"draft-body\"                                                                                              // 159\n    }, Blaze.View(\"lookup:subtitle\", function() {                                                                      // 160\n      return Spacebars.mustache(view.lookup(\"subtitle\"));                                                              // 161\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 162\n      class: \"operations\"                                                                                              // 163\n    }, \"\\n                                    \", HTML.BUTTON({                                                         // 164\n      class: \"btn btn-approve\"                                                                                         // 165\n    }, HTML.I({                                                                                                        // 166\n      class: \"fa fa-check\"                                                                                             // 167\n    }), \" Approve\"), \"\\n                                    \", HTML.BUTTON({                                           // 168\n      class: \"btn btn-reject\"                                                                                          // 169\n    }, HTML.I({                                                                                                        // 170\n      class: \"fa fa-times\"                                                                                             // 171\n    }), \" Reject\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.HR(), \"\\n                    \" ];\n  }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");                                              // 173\n}));                                                                                                                   // 174\n                                                                                                                       // 175\nTemplate.__checkName(\"dashUsers\");                                                                                     // 176\nTemplate[\"dashUsers\"] = new Template(\"Template.dashUsers\", (function() {                                               // 177\n  var view = this;                                                                                                     // 178\n  return HTML.DIV({                                                                                                    // 179\n    class: \"container\"                                                                                                 // 180\n  }, HTML.Raw('\\n        <div class=\"row text-center mb-60\">\\n            <div class=\"col-lg-12\">\\n                <h2>User Manager</h2>\\n            </div>\\n        </div>\\n        '), HTML.DIV({\n    class: \"row\"                                                                                                       // 182\n  }, \"\\n            \", HTML.Raw('<div class=\"col-lg-12\">\\n                <div class=\"dash-item text-center\">\\n                    <h3>All users</h3>\\n                    <p>Use the tool bellow to filter and search for users</p>\\n                </div>\\n            </div>'), \"\\n            \", HTML.Raw(\"<hr>\"), \"\\n            \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"userList\"));                                                                    // 184\n  }, function() {                                                                                                      // 185\n    return [ \"\\n                \", HTML.DIV({                                                                          // 186\n      class: \"col-lg-12\"                                                                                               // 187\n    }, \"\\n                    \", HTML.DIV({                                                                            // 188\n      class: \"dash-item flexed dash-user-container\",                                                                   // 189\n      id: function() {                                                                                                 // 190\n        return Spacebars.mustache(view.lookup(\"id\"));                                                                  // 191\n      }                                                                                                                // 192\n    }, \"\\n                        \", HTML.DIV({                                                                        // 193\n      class: \"col-lg-2\"                                                                                                // 194\n    }, \"\\n                            \", HTML.IMG({                                                                    // 195\n      class: \"img-circle profile-img\",                                                                                 // 196\n      src: function() {                                                                                                // 197\n        return Spacebars.mustache(view.lookup(\"img\"));                                                                 // 198\n      }                                                                                                                // 199\n    }), \"\\n                        \"), \"\\n\\n                        \", HTML.DIV({                                      // 200\n      class: \"user-text-info col-lg-8\"                                                                                 // 201\n    }, \"\\n                            \", HTML.H4(Blaze.View(\"lookup:name\", function() {                                // 202\n      return Spacebars.mustache(view.lookup(\"name\"));                                                                  // 203\n    })), \"\\n                            \", HTML.P({                                                                    // 204\n      class: \"text-muted user-expand\"                                                                                  // 205\n    }, HTML.I({                                                                                                        // 206\n      class: \"fa fa-angle-down\"                                                                                        // 207\n    }), \" Expand Info\"), \"\\n                            \", HTML.DIV({                                                  // 208\n      class: \"detailed-user-info\"                                                                                      // 209\n    }, \"\\n                                \", HTML.DIV({                                                                // 210\n      class: \"col-lg-6 text-muted\"                                                                                     // 211\n    }, \"\\n                                    \", HTML.P(\"Email: \", Blaze.View(\"lookup:services.google.email\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"services\"), \"google\", \"email\"));                            // 213\n    })), \"\\n                                    \", HTML.P(\"Student Number: \", Blaze.View(\"lookup:profile.studentNum\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"studentNum\"));                                  // 215\n    })), \"\\n                                    \", HTML.P(\"Roles: \", Blaze.View(\"lookup:roles\", function() {           // 216\n      return Spacebars.mustache(view.lookup(\"roles\"));                                                                 // 217\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 218\n      class: \"col-lg-6 text-muted\"                                                                                     // 219\n    }, \"\\n                                    \", HTML.P(\"Gender: Male\"), \"\\n                                    \", HTML.P(\"Initialized: \", Blaze.View(\"lookup:profile.init\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"init\"));                                        // 221\n    })), \"\\n                                    \", HTML.P(\"Mailing List Email: \", Blaze.View(\"lookup:profile.email\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\"profile\"), \"email\"));                                       // 223\n    })), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.DIV({\n      class: \"user-operations col-lg-2\"                                                                                // 225\n    }, \"\\n                            \", HTML.DIV({                                                                    // 226\n      class: \"dropdown\"                                                                                                // 227\n    }, \"\\n                                \", HTML.BUTTON({                                                             // 228\n      class: \"dropbtn\"                                                                                                 // 229\n    }, \"Options\"), \"\\n                                \", HTML.DIV({                                                    // 230\n      class: \"dropdown-content\"                                                                                        // 231\n    }, \"\\n                                    \", HTML.A({                                                              // 232\n      href: \"\",                                                                                                        // 233\n      class: \"btn-modify-roles\"                                                                                        // 234\n    }, \"Modify User Role\"), \"\\n                                    \", HTML.A({                                         // 235\n      href: \"\",                                                                                                        // 236\n      class: \"btn-ban-user\"                                                                                            // 237\n    }, \"BAN USER\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n            \", HTML.Raw('<a href=\"\" class=\"btn btn-wide btn-primary\">Load More</a>'), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 240\n                                                                                                                       // 241\nTemplate.__checkName(\"dashAnnouncements\");                                                                             // 242\nTemplate[\"dashAnnouncements\"] = new Template(\"Template.dashAnnouncements\", (function() {                               // 243\n  var view = this;                                                                                                     // 244\n  return HTML.DIV({                                                                                                    // 245\n    class: \"container\"                                                                                                 // 246\n  }, HTML.Raw('\\n        <div class=\"row text-center mb-60\">\\n            <div class=\"col-lg-12\">\\n                <h2>Posts</h2>\\n            </div>\\n        </div>\\n        '), HTML.DIV({\n    class: \"row\"                                                                                                       // 248\n  }, \"\\n            \", HTML.DIV({                                                                                      // 249\n    class: \"col-lg-12\"                                                                                                 // 250\n  }, \"\\n                \", HTML.DIV({                                                                                  // 251\n    class: \"dash-item\"                                                                                                 // 252\n  }, \"\\n                    \", HTML.Raw('<div class=\"dash-item-header text-center\">\\n                        <h3>Currently showing announcements</h3>\\n                        <p>Click on one to edit its details</p>\\n                    </div>'), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"post\"));                                                                        // 254\n  }, function() {                                                                                                      // 255\n    return [ \"\\n                        \", Blaze.If(function() {                                                       // 256\n      return Spacebars.call(view.lookup(\"noImage\"));                                                                   // 257\n    }, function() {                                                                                                    // 258\n      return [ \"\\n                            \", HTML.DIV({                                                            // 259\n        class: \"editor-options new-post draft-inline\",                                                                 // 260\n        id: function() {                                                                                               // 261\n          return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 262\n        }                                                                                                              // 263\n      }, \"\\n                                \", HTML.DIV(\"\\n                                    \", HTML.DIV({           // 264\n        class: \"content-preview\"                                                                                       // 265\n      }, \"\\n                                        \", HTML.H4({                                                       // 266\n        class: \"draft-title\"                                                                                           // 267\n      }, Blaze.View(\"lookup:headline\", function() {                                                                    // 268\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 269\n      })), \"\\n                                        \", HTML.P({                                                      // 270\n        class: \"meta\"                                                                                                  // 271\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 272\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 273\n      }), \" | \", Blaze.View(\"lookup:startDate\", function() {                                                           // 274\n        return Spacebars.mustache(view.lookup(\"startDate\"));                                                           // 275\n      }), \" - \", Blaze.View(\"lookup:endDate\", function() {                                                             // 276\n        return Spacebars.mustache(view.lookup(\"endDate\"));                                                             // 277\n      }), \" | Tags: \", Blaze.View(\"lookup:tags\", function() {                                                          // 278\n        return Spacebars.mustache(view.lookup(\"tags\"));                                                                // 279\n      }), \" | Category: \", Blaze.View(\"lookup:categories\", function() {                                                // 280\n        return Spacebars.mustache(view.lookup(\"categories\"));                                                          // 281\n      }), \" | \"), \"\\n                                        \", HTML.P({                                               // 282\n        class: \"draft-body\"                                                                                            // 283\n      }, Blaze.View(\"lookup:content\", function() {                                                                     // 284\n        return Spacebars.mustache(view.lookup(\"content\"));                                                             // 285\n      })), \"\\n                                    \"), \"\\n                                    \", HTML.DIV({             // 286\n        class: \"operations\"                                                                                            // 287\n      }, \"\\n                                        \", HTML.BUTTON({                                                   // 288\n        class: \"btn btn-reject\"                                                                                        // 289\n      }, HTML.I({                                                                                                      // 290\n        class: \"fa fa-times\"                                                                                           // 291\n      }), \" Remove\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n    }, function() {                                                                                                    // 293\n      return [ \"\\n                            \", HTML.DIV({                                                            // 294\n        class: \"editor-options new-post with-image draft-inline\",                                                      // 295\n        id: function() {                                                                                               // 296\n          return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 297\n        }                                                                                                              // 298\n      }, \"\\n                                \", HTML.DIV(\"\\n                                    \", HTML.DIV({           // 299\n        class: \"flexed mb-15\"                                                                                          // 300\n      }, \"\\n                                        \", HTML.DIV({                                                      // 301\n        class: \"image-preview\"                                                                                         // 302\n      }, \"\\n                                            \", HTML.IMG({                                                  // 303\n        src: function() {                                                                                              // 304\n          return Spacebars.mustache(view.lookup(\"imageLink\"));                                                         // 305\n        },                                                                                                             // 306\n        class: \"img-responsive\"                                                                                        // 307\n      }), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({      // 308\n        class: \"content-preview\"                                                                                       // 309\n      }, \"\\n                                            \", HTML.H3({                                                   // 310\n        class: \"draft-title\"                                                                                           // 311\n      }, Blaze.View(\"lookup:headline\", function() {                                                                    // 312\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 313\n      })), \"\\n                                            \", HTML.P({                                                  // 314\n        class: \"meta\"                                                                                                  // 315\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 316\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 317\n      }), \" | \", Blaze.View(\"lookup:startDate\", function() {                                                           // 318\n        return Spacebars.mustache(view.lookup(\"startDate\"));                                                           // 319\n      }), \" - \", Blaze.View(\"lookup:endDate\", function() {                                                             // 320\n        return Spacebars.mustache(view.lookup(\"endDate\"));                                                             // 321\n      }), \" | Tags: \", Blaze.View(\"lookup:tags\", function() {                                                          // 322\n        return Spacebars.mustache(view.lookup(\"tags\"));                                                                // 323\n      }), \" | Category: \", Blaze.View(\"lookup:categories\", function() {                                                // 324\n        return Spacebars.mustache(view.lookup(\"categories\"));                                                          // 325\n      }), \" | \"), \"\\n                                            \", Blaze.If(function() {                              // 326\n        return Spacebars.call(view.lookup(\"hasContent\"));                                                              // 327\n      }, function() {                                                                                                  // 328\n        return [ \"\\n                                                \", HTML.P({                                        // 329\n          class: \"draft-body\"                                                                                          // 330\n        }, Blaze.View(\"lookup:content\", function() {                                                                   // 331\n          return Spacebars.mustache(view.lookup(\"content\"));                                                           // 332\n        })), \"\\n                                            \" ];                                                       // 333\n      }), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", HTML.DIV(\"\\n                                        \", HTML.BUTTON({\n        class: \"btn btn-reject\"                                                                                        // 335\n      }, HTML.I({                                                                                                      // 336\n        class: \"fa fa-times\"                                                                                           // 337\n      }), \" Remove\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n    }), \"\\n                        \", HTML.HR(), \"\\n                    \" ];                                           // 339\n  }), \"\\n                    \", HTML.Raw('<a href=\"\" class=\"btn btn-wide btn-primary\">Load More</a>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n    class: \"row\"                                                                                                       // 341\n  }, \"\\n            \", HTML.DIV({                                                                                      // 342\n    class: \"col-lg-12\"                                                                                                 // 343\n  }, \"\\n                \", HTML.DIV({                                                                                  // 344\n    class: \"dash-item\"                                                                                                 // 345\n  }, \"\\n                    \", HTML.Raw('<div class=\"dash-item-header text-center\">\\n                        <h3>All blog posts available</h3>\\n                        <p>Click on one to view it</p>\\n                    </div>'), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"blogPost\"));                                                                    // 347\n  }, function() {                                                                                                      // 348\n    return [ \"\\n                        \", HTML.DIV({                                                                  // 349\n      class: \"editor-options new-post draft-inline dash-blog-item\",                                                    // 350\n      id: function() {                                                                                                 // 351\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 352\n      }                                                                                                                // 353\n    }, \"\\n                            \", HTML.DIV(\"\\n                                \", HTML.DIV({                     // 354\n      class: \"content-preview\"                                                                                         // 355\n    }, \"\\n                                    \", HTML.H4({                                                             // 356\n      class: \"draft-title\"                                                                                             // 357\n    }, Blaze.View(\"lookup:title\", function() {                                                                         // 358\n      return Spacebars.mustache(view.lookup(\"title\"));                                                                 // 359\n    })), \"\\n                                    \", HTML.P({                                                            // 360\n      class: \"meta\"                                                                                                    // 361\n    }, Blaze.View(\"lookup:writer\", function() {                                                                        // 362\n      return Spacebars.mustache(view.lookup(\"writer\"));                                                                // 363\n    }), \" | Released: \", Blaze.View(\"lookup:releaseDate\", function() {                                                 // 364\n      return Spacebars.mustache(view.lookup(\"releaseDate\"));                                                           // 365\n    }), \" | Drafted: \", Blaze.View(\"lookup:draftedDate\", function() {                                                  // 366\n      return Spacebars.mustache(view.lookup(\"draftedDate\"));                                                           // 367\n    }), \" | Tags: \", Blaze.View(\"lookup:tags\", function() {                                                            // 368\n      return Spacebars.mustache(view.lookup(\"tags\"));                                                                  // 369\n    }), \" | Category: \", Blaze.View(\"lookup:categories\", function() {                                                  // 370\n      return Spacebars.mustache(view.lookup(\"categories\"));                                                            // 371\n    }), \" | \"), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:subtitle\", function() {            // 372\n      return Spacebars.mustache(view.lookup(\"subtitle\"));                                                              // 373\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 374\n      class: \"operations\"                                                                                              // 375\n    }, \"\\n                                    \", HTML.BUTTON({                                                         // 376\n      class: \"btn btn-reject\"                                                                                          // 377\n    }, HTML.I({                                                                                                        // 378\n      class: \"fa fa-times\"                                                                                             // 379\n    }), \" Remove\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.HR(), \"\\n                    \" ];\n  }), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");                                              // 381\n}));                                                                                                                   // 382\n                                                                                                                       // 383\nTemplate.__checkName(\"dashCategories\");                                                                                // 384\nTemplate[\"dashCategories\"] = new Template(\"Template.dashCategories\", (function() {                                     // 385\n  var view = this;                                                                                                     // 386\n  return HTML.DIV({                                                                                                    // 387\n    class: \"container\"                                                                                                 // 388\n  }, HTML.Raw('\\n        <div class=\"row text-center mb-60\">\\n            <div class=\"col-lg-12\">\\n                <h2>Category Manager</h2>\\n            </div>\\n        </div>\\n        '), HTML.DIV({\n    class: \"row\"                                                                                                       // 390\n  }, \"\\n            \", HTML.Raw('<div class=\"col-lg-12\">\\n                <div class=\"dash-item text-center\">\\n                    <h3>Manage the categories available here</h3>\\n                    <a class=\"btn btn-primary btn-create-category\">Add new category</a>\\n                </div>\\n            </div>'), \"\\n            \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"category\"));                                                                    // 392\n  }, function() {                                                                                                      // 393\n    return [ \"\\n                \", HTML.DIV({                                                                          // 394\n      class: \"col-lg-12\"                                                                                               // 395\n    }, \"\\n                    \", HTML.DIV({                                                                            // 396\n      class: \"dash-item flexed dash-category-container\",                                                               // 397\n      id: function() {                                                                                                 // 398\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 399\n      }                                                                                                                // 400\n    }, \"\\n                        \", HTML.DIV({                                                                        // 401\n      class: \"col-lg-2\"                                                                                                // 402\n    }, \"\\n                            \", HTML.H3(Blaze.View(\"lookup:name\", function() {                                // 403\n      return Spacebars.mustache(view.lookup(\"name\"));                                                                  // 404\n    })), \"\\n                        \"), \"\\n\\n                        \", HTML.DIV({                                     // 405\n      class: \"user-text-info col-lg-8\"                                                                                 // 406\n    }, \"\\n                            \", HTML.H4(\"Description:\"), \"\\n                            \", HTML.P(Blaze.View(\"lookup:description\", function() {\n      return Spacebars.mustache(view.lookup(\"description\"));                                                           // 408\n    })), \"\\n                            \", HTML.P({                                                                    // 409\n      class: \"grid-item-footer\"                                                                                        // 410\n    }, \"Featured: \", Blaze.View(\"lookup:featured\", function() {                                                        // 411\n      return Spacebars.mustache(view.lookup(\"featured\"));                                                              // 412\n    }), \" | Created: \", Blaze.View(\"lookup:date\", function() {                                                         // 413\n      return Spacebars.mustache(view.lookup(\"date\"));                                                                  // 414\n    })), \"\\n                        \"), \"\\n                        \", HTML.DIV({                                       // 415\n      class: \"user-operations col-lg-2\"                                                                                // 416\n    }, \"\\n                            \", HTML.DIV({                                                                    // 417\n      class: \"dropdown\"                                                                                                // 418\n    }, \"\\n                                \", HTML.BUTTON({                                                             // 419\n      class: \"dropbtn\"                                                                                                 // 420\n    }, \"Options\"), \"\\n                                \", HTML.DIV({                                                    // 421\n      class: \"dropdown-content\"                                                                                        // 422\n    }, \"\\n                                    \", HTML.A({                                                              // 423\n      href: \"\",                                                                                                        // 424\n      class: \"btn-modify-category\"                                                                                     // 425\n    }, \"Edit Info\"), \"\\n                                    \", HTML.A({                                                // 426\n      href: \"\",                                                                                                        // 427\n      class: \"btn-delete-category\"                                                                                     // 428\n    }, HTML.I({                                                                                                        // 429\n      class: \"fa fa-trash-o\"                                                                                           // 430\n    }), \" Delete Category\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n\\n        \"), \"\\n        \", HTML.DIV({                                                                        // 432\n    class: \"row\"                                                                                                       // 433\n  }, \"\\n            \", HTML.Raw('<div class=\"col-lg-12\">\\n                <div class=\"dash-item text-center\">\\n                    <h3>Story Categories</h3>\\n                    <a class=\"btn btn-primary btn-create-category\" data-category=\"blog\">Add new category</a>\\n                </div>\\n            </div>'), \"\\n            \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"blogCategory\"));                                                                // 435\n  }, function() {                                                                                                      // 436\n    return [ \"\\n                \", HTML.DIV({                                                                          // 437\n      class: \"col-lg-12\"                                                                                               // 438\n    }, \"\\n                    \", HTML.DIV({                                                                            // 439\n      class: \"dash-item flexed dash-category-container\",                                                               // 440\n      \"data-category\": \"blog\",                                                                                         // 441\n      id: function() {                                                                                                 // 442\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 443\n      }                                                                                                                // 444\n    }, \"\\n                        \", HTML.DIV({                                                                        // 445\n      class: \"col-lg-2\"                                                                                                // 446\n    }, \"\\n                            \", HTML.H3(Blaze.View(\"lookup:name\", function() {                                // 447\n      return Spacebars.mustache(view.lookup(\"name\"));                                                                  // 448\n    })), \"\\n                        \"), \"\\n\\n                        \", HTML.DIV({                                     // 449\n      class: \"user-text-info col-lg-8\"                                                                                 // 450\n    }, \"\\n                            \", HTML.H4(\"Description:\"), \"\\n                            \", HTML.P(Blaze.View(\"lookup:description\", function() {\n      return Spacebars.mustache(view.lookup(\"description\"));                                                           // 452\n    })), \"\\n                            \", HTML.P({                                                                    // 453\n      class: \"grid-item-footer\"                                                                                        // 454\n    }, \"Featured: \", Blaze.View(\"lookup:featured\", function() {                                                        // 455\n      return Spacebars.mustache(view.lookup(\"featured\"));                                                              // 456\n    }), \" | Created: \", Blaze.View(\"lookup:date\", function() {                                                         // 457\n      return Spacebars.mustache(view.lookup(\"date\"));                                                                  // 458\n    })), \"\\n                        \"), \"\\n                        \", HTML.DIV({                                       // 459\n      class: \"user-operations col-lg-2\"                                                                                // 460\n    }, \"\\n                            \", HTML.DIV({                                                                    // 461\n      class: \"dropdown\"                                                                                                // 462\n    }, \"\\n                                \", HTML.BUTTON({                                                             // 463\n      class: \"dropbtn\"                                                                                                 // 464\n    }, \"Options\"), \"\\n                                \", HTML.DIV({                                                    // 465\n      class: \"dropdown-content\"                                                                                        // 466\n    }, \"\\n                                    \", HTML.A({                                                              // 467\n      href: \"\",                                                                                                        // 468\n      class: \"btn-modify-category\"                                                                                     // 469\n    }, \"Edit Info\"), \"\\n                                    \", HTML.A({                                                // 470\n      href: \"\",                                                                                                        // 471\n      class: \"btn-delete-category\"                                                                                     // 472\n    }, HTML.I({                                                                                                        // 473\n      class: \"fa fa-trash-o\"                                                                                           // 474\n    }), \" Delete Category\"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \" ];\n  }), \"\\n\\n        \"), \"\\n    \");                                                                                      // 476\n}));                                                                                                                   // 477\n                                                                                                                       // 478\nTemplate.__checkName(\"dashOrganizations\");                                                                             // 479\nTemplate[\"dashOrganizations\"] = new Template(\"Template.dashOrganizations\", (function() {                               // 480\n  var view = this;                                                                                                     // 481\n  return HTML.DIV({                                                                                                    // 482\n    class: \"container\"                                                                                                 // 483\n  }, \"\\n        \", HTML.DIV({                                                                                          // 484\n    class: \"row text-center mb-60\"                                                                                     // 485\n  }, \"\\n            \", HTML.Raw('<div class=\"col-lg-12\">\\n                <h2>Organizations</h2>\\n            </div>'), \"\\n            \", HTML.DIV(\"\\n                \", HTML.DIV({\n    class: \"col-lg-6\"                                                                                                  // 487\n  }, \"\\n                    \", HTML.Raw(\"<h5>Names</h5>\"), \"\\n                    \", HTML.TEXTAREA({                   // 488\n    id: \"courseNames\"                                                                                                  // 489\n  }), \"\\n                \"), \"\\n                \", HTML.DIV({                                                          // 490\n    class: \"col-lg-6\"                                                                                                  // 491\n  }, \"\\n                    \", HTML.Raw(\"<h5>Code</h5>\"), \"\\n                    \", HTML.TEXTAREA({                    // 492\n    id: \"courseCodes\"                                                                                                  // 493\n  }), \"\\n                \"), \"\\n                \", HTML.Raw('<div class=\"col-lg-12\">\\n                    <button class=\"btn btn-wide btn-primary\" id=\"uploadCourses\">Create Courses</button>\\n                </div>'), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n    class: \"row\"                                                                                                       // 495\n  }, \"\\n            \", HTML.DIV({                                                                                      // 496\n    class: \"col-lg-6\"                                                                                                  // 497\n  }, \"\\n                \", HTML.DIV({                                                                                  // 498\n    class: \"dash-item\"                                                                                                 // 499\n  }, \"\\n                    \", HTML.Raw('<div class=\"dash-item-header text-center\">\\n                        <h3>Courses</h3>\\n                        <p>These courses allow users to search and to categorize their posts as.</p>\\n                    </div>'), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"courses\"));                                                                     // 501\n  }, function() {                                                                                                      // 502\n    return [ \"\\n                        \", HTML.DIV({                                                                  // 503\n      class: \"editor-options new-post draft-inline col-lg-6\",                                                          // 504\n      \"data-category\": \"course\",                                                                                       // 505\n      id: function() {                                                                                                 // 506\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 507\n      }                                                                                                                // 508\n    }, \"\\n                            \", HTML.DIV(\"\\n                                \", HTML.DIV({                     // 509\n      class: \"content-preview\"                                                                                         // 510\n    }, \"\\n                                    \", HTML.H4({                                                             // 511\n      class: \"draft-title\"                                                                                             // 512\n    }, Blaze.View(\"lookup:code\", function() {                                                                          // 513\n      return Spacebars.mustache(view.lookup(\"code\"));                                                                  // 514\n    })), \"\\n                                    \", HTML.H5(Blaze.View(\"lookup:name\", function() {                      // 515\n      return Spacebars.mustache(view.lookup(\"name\"));                                                                  // 516\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 517\n      class: \"dropdown\",                                                                                               // 518\n      style: \"max-width: 160px\"                                                                                        // 519\n    }, \"\\n                                    \", HTML.BUTTON({                                                         // 520\n      class: \"dropbtn\"                                                                                                 // 521\n    }, \"Options\"), \"\\n                                    \", HTML.DIV({                                                // 522\n      class: \"dropdown-content\"                                                                                        // 523\n    }, \"\\n                                        \", HTML.A({                                                          // 524\n      href: \"\",                                                                                                        // 525\n      class: \"btn-delete\"                                                                                              // 526\n    }, \"Delete\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];\n  }), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", HTML.Raw('<button class=\"btn btn-wide btn-primary\" id=\"coursesLoadMore\">Load More</button>'), \"\\n                \"), \"\\n            \"), \"\\n\\n            \", HTML.DIV({\n    class: \"col-lg-6\"                                                                                                  // 529\n  }, \"\\n                \", HTML.DIV({                                                                                  // 530\n    class: \"dash-item\"                                                                                                 // 531\n  }, \"\\n                    \", HTML.Raw('<div class=\"dash-item-header text-center\">\\n                        <h3>Clubs</h3>\\n                        <p>These clubs allow users to search and to categorize their posts as.</p>\\n                        <a href=\"\" class=\"btn btn-primary\" id=\"createNewClub\">Create a new club</a>\\n                    </div>'), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"clubs\"));                                                                       // 533\n  }, function() {                                                                                                      // 534\n    return [ \"\\n                        \", HTML.DIV({                                                                  // 535\n      class: \"editor-options draft-inline col-lg-12\",                                                                  // 536\n      \"data-category\": \"club\",                                                                                         // 537\n      id: function() {                                                                                                 // 538\n        return Spacebars.mustache(view.lookup(\"_id\"));                                                                 // 539\n      }                                                                                                                // 540\n    }, \"\\n                            \", HTML.DIV(\"\\n                                \", HTML.DIV({                     // 541\n      class: \"content-preview user-text-info\"                                                                          // 542\n    }, \"\\n                                    \", HTML.H4({                                                             // 543\n      class: \"draft-title\"                                                                                             // 544\n    }, Blaze.View(\"lookup:name\", function() {                                                                          // 545\n      return Spacebars.mustache(view.lookup(\"name\"));                                                                  // 546\n    })), \"\\n                                    \", HTML.H5(Blaze.View(\"lookup:description\", function() {               // 547\n      return Spacebars.mustache(view.lookup(\"description\"));                                                           // 548\n    })), \"\\n                                    \", HTML.SPAN({                                                         // 549\n      class: \"grid-item-footer\"                                                                                        // 550\n    }, \"Room: \", Blaze.View(\"lookup:room\", function() {                                                                // 551\n      return Spacebars.mustache(view.lookup(\"room\"));                                                                  // 552\n    }), \" | Schedule: \", Blaze.View(\"lookup:schedule\", function() {                                                    // 553\n      return Spacebars.mustache(view.lookup(\"schedule\"));                                                              // 554\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 555\n      class: \"dropdown\",                                                                                               // 556\n      style: \"max-width: 160px\"                                                                                        // 557\n    }, \"\\n                                    \", HTML.BUTTON({                                                         // 558\n      class: \"dropbtn\"                                                                                                 // 559\n    }, \"Options\"), \"\\n                                    \", HTML.DIV({                                                // 560\n      class: \"dropdown-content\"                                                                                        // 561\n    }, \"\\n                                        \", HTML.A({                                                          // 562\n      href: \"\",                                                                                                        // 563\n      class: \"btn-delete\"                                                                                              // 564\n    }, \"Delete\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];\n  }), \"\\n                    \", HTML.Raw(\"<hr>\"), \"\\n                    \", HTML.Raw('<button class=\"btn btn-wide btn-primary\" id=\"coursesLoadMore\">Load More</button>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 567\n                                                                                                                       // 568\nTemplate.__checkName(\"dashPostEditor\");                                                                                // 569\nTemplate[\"dashPostEditor\"] = new Template(\"Template.dashPostEditor\", (function() {                                     // 570\n  var view = this;                                                                                                     // 571\n  return HTML.DIV({                                                                                                    // 572\n    class: \"modal fade\"                                                                                                // 573\n  }, \"\\n        \", HTML.DIV({                                                                                          // 574\n    class: \"modal-dialog\"                                                                                              // 575\n  }, \"\\n            \", HTML.DIV({                                                                                      // 576\n    class: \"modal-content\"                                                                                             // 577\n  }, \"\\n                \", HTML.Raw('<div class=\"modal-header\">\\n                    <h4 class=\"modal-title\">Editing Announcement Request Content</h4>\\n                </div>'), \"\\n                \", HTML.DIV({\n    class: \"modal-body\"                                                                                                // 579\n  }, \"\\n                    \", HTML.FORM({                                                                             // 580\n    class: \"dash-announcement-edit\"                                                                                    // 581\n  }, \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newPostHeadline\">Headline</label>\\n                            <input type=\"text\" aria-describedby=\"textHeadline\" placeholder=\"Enter a new headline\" id=\"newPostHeadline\">\\n                        </div>'), \"\\n                        \", HTML.DIV({\n    class: \"form-group\"                                                                                                // 583\n  }, \"\\n                            \", HTML.Raw('<label for=\"newPostBody\">Text Content</label>'), \"\\n                            \", HTML.TEXTAREA({\n    placeholder: \"Add your information here! 140 characters max.\",                                                     // 585\n    class: \"announcement-text\",                                                                                        // 586\n    maxlength: \"140\",                                                                                                  // 587\n    id: \"newPostBody\"                                                                                                  // 588\n  }), \"\\n                        \"), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newPostTags\">Tags</label>\\n                            <input data-role=\"tagsinput\" class=\"announce-tags\" placeholder=\"Write your tags here\" id=\"newPostTags\">\\n                        </div>'), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newPostCategories\">Categories</label>\\n                            <select name=\"category-selector\" class=\"category-select\" multiple=\"\" style=\"width: 75%\" id=\"newPostCategories\">\\n                            </select>\\n                        </div>'), \"\\n                        \", HTML.Raw('<button type=\"submit\" class=\"btn btn-primary btn-wide\">Update</button>'), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.Raw('<div class=\"modal-footer\">\\n                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\\n                </div>'), \"\\n\\n            \"), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 590\n                                                                                                                       // 591\nTemplate.__checkName(\"dashCategoryEditor\");                                                                            // 592\nTemplate[\"dashCategoryEditor\"] = new Template(\"Template.dashCategoryEditor\", (function() {                             // 593\n  var view = this;                                                                                                     // 594\n  return HTML.DIV({                                                                                                    // 595\n    class: \"modal fade\"                                                                                                // 596\n  }, \"\\n        \", HTML.DIV({                                                                                          // 597\n    class: \"modal-dialog\"                                                                                              // 598\n  }, \"\\n            \", HTML.DIV({                                                                                      // 599\n    class: \"modal-content\"                                                                                             // 600\n  }, \"\\n                \", HTML.Raw('<div class=\"modal-header\">\\n                    <h4 class=\"modal-title\">Creating New Category</h4>\\n                </div>'), \"\\n                \", HTML.DIV({\n    class: \"modal-body\"                                                                                                // 602\n  }, \"\\n                    \", HTML.FORM({                                                                             // 603\n    class: \"dash-category-edit\"                                                                                        // 604\n  }, \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newPostHeadline\">Name of Category</label>\\n                            <input type=\"text\" aria-describedby=\"textHeadline\" placeholder=\"Type Here\" id=\"newCategoryName\">\\n                        </div>'), \"\\n                        \", HTML.DIV({\n    class: \"form-group\"                                                                                                // 606\n  }, \"\\n                            \", HTML.Raw('<label for=\"newPostBody\">Description of Category</label>'), \"\\n                            \", HTML.TEXTAREA({\n    placeholder: \"Describe this category here\",                                                                        // 608\n    class: \"announcement-text\",                                                                                        // 609\n    maxlength: \"140\",                                                                                                  // 610\n    id: \"newCategoryDescription\"                                                                                       // 611\n  }), \"\\n                        \"), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <form action=\"/file-upload\" class=\"dropzone category-image\" id=\"newCategoryImage\"></form>\\n                        </div>'), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <h4>Options</h4>\\n                            <input type=\"checkbox\" class=\"ios8-switch ios8-switch-lg\" id=\"newCategoryFeatured\">\\n                            <label for=\"newCategoryFeatured\">Featured Category</label>\\n                        </div>'), \"\\n                        \", HTML.Raw('<button type=\"submit\" class=\"btn btn-primary btn-wide\">Create</button>'), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.Raw('<div class=\"modal-footer\">\\n                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\\n                </div>'), \"\\n\\n            \"), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 613\n                                                                                                                       // 614\nTemplate.__checkName(\"dashClubEditor\");                                                                                // 615\nTemplate[\"dashClubEditor\"] = new Template(\"Template.dashClubEditor\", (function() {                                     // 616\n  var view = this;                                                                                                     // 617\n  return HTML.DIV({                                                                                                    // 618\n    class: \"modal fade\"                                                                                                // 619\n  }, \"\\n        \", HTML.DIV({                                                                                          // 620\n    class: \"modal-dialog\"                                                                                              // 621\n  }, \"\\n            \", HTML.DIV({                                                                                      // 622\n    class: \"modal-content\"                                                                                             // 623\n  }, \"\\n                \", HTML.Raw('<div class=\"modal-header\">\\n                    <h4 class=\"modal-title\">Creating New Club</h4>\\n                </div>'), \"\\n                \", HTML.DIV({\n    class: \"modal-body\"                                                                                                // 625\n  }, \"\\n                    \", HTML.FORM({                                                                             // 626\n    class: \"dash-club-edit\"                                                                                            // 627\n  }, \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newPostHeadline\">Name of Club</label>\\n                            <input type=\"text\" aria-describedby=\"textHeadline\" placeholder=\"Type Here\" id=\"newClubName\">\\n                        </div>'), \"\\n                        \", HTML.DIV({\n    class: \"form-group\"                                                                                                // 629\n  }, \"\\n                            \", HTML.Raw('<label for=\"newPostBody\">Description</label>'), \"\\n                            \", HTML.TEXTAREA({\n    placeholder: \"Describe this category here\",                                                                        // 631\n    class: \"announcement-text\",                                                                                        // 632\n    maxlength: \"400\",                                                                                                  // 633\n    id: \"newClubDescription\"                                                                                           // 634\n  }), \"\\n                        \"), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newPostHeadline\">Meeting Room</label>\\n                            <input type=\"text\" aria-describedby=\"textHeadline\" placeholder=\"Type Here\" id=\"newClubRoom\">\\n                        </div>'), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newPostHeadline\">General Meeting schedule</label>\\n                            <input type=\"text\" aria-describedby=\"textHeadline\" placeholder=\"Type Here\" id=\"newClubSchedule\">\\n                        </div>'), \"\\n                        \", HTML.Raw('<div class=\"form-group\">\\n                            <label for=\"newClubImage\">Club Image</label>\\n                            <form action=\"/file-upload\" class=\"dropzone category-image\" id=\"newClubImage\"></form>\\n                        </div>'), \"\\n                        \", HTML.Raw('<button type=\"submit\" class=\"btn btn-primary btn-wide\">Submit</button>'), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.Raw('<div class=\"modal-footer\">\\n                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\\n                </div>'), \"\\n\\n            \"), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 636\n                                                                                                                       // 637\nTemplate.__checkName(\"dashRoleEditor\");                                                                                // 638\nTemplate[\"dashRoleEditor\"] = new Template(\"Template.dashRoleEditor\", (function() {                                     // 639\n  var view = this;                                                                                                     // 640\n  return HTML.DIV({                                                                                                    // 641\n    class: \"modal fade\"                                                                                                // 642\n  }, \"\\n        \", HTML.DIV({                                                                                          // 643\n    class: \"modal-dialog\"                                                                                              // 644\n  }, \"\\n            \", HTML.DIV({                                                                                      // 645\n    class: \"modal-content\"                                                                                             // 646\n  }, \"\\n                \", HTML.DIV({                                                                                  // 647\n    class: \"modal-header\"                                                                                              // 648\n  }, \"\\n                    \", HTML.H4({                                                                               // 649\n    class: \"modal-title\"                                                                                               // 650\n  }, \"Editing \", Blaze.View(\"lookup:name\", function() {                                                                // 651\n    return Spacebars.mustache(view.lookup(\"name\"));                                                                    // 652\n  }), \"'s Roles\"), \"\\n                \"), \"\\n                \", HTML.Raw('<div class=\"modal-body\">\\n                    <form class=\"dash-role-edit\">\\n                        <div class=\"form-group\">\\n                            <select name=\"category-selector\" class=\"category-select\" multiple=\"\" style=\"width: 75%\" id=\"newUserRoles\">\\n                                <option value=\"student\">Student</option>\\n                                <option value=\"teacher\">Teacher</option>\\n                                <option value=\"admin\">**Admin**</option>\\n                                <option value=\"blogEditor\">Allowed to create Blog</option>\\n                                <option value=\"announcementEditor\">Allowed to submit announcements</option>\\n                            </select>\\n                        </div>\\n                        <button type=\"submit\" class=\"btn btn-primary btn-wide\">Update</button>\\n                    </form>\\n                </div>'), \"\\n\\n                \", HTML.Raw('<div class=\"modal-footer\">\\n                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\\n                </div>'), \"\\n\\n            \"), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 654\n                                                                                                                       // 655\nTemplate.__checkName(\"dashSuggestions\");                                                                               // 656\nTemplate[\"dashSuggestions\"] = new Template(\"Template.dashSuggestions\", (function() {                                   // 657\n  var view = this;                                                                                                     // 658\n  return HTML.DIV({                                                                                                    // 659\n    class: \"container\"                                                                                                 // 660\n  }, HTML.Raw('\\n        <div class=\"row text-center mb-60\">\\n            <div class=\"col-lg-12\">\\n                <h2>Suggestions</h2>\\n            </div>\\n        </div>\\n        '), HTML.DIV({\n    class: \"row\"                                                                                                       // 662\n  }, \"\\n            \", HTML.DIV({                                                                                      // 663\n    class: \"col-lg-12\"                                                                                                 // 664\n  }, \"\\n                \", HTML.DIV({                                                                                  // 665\n    class: \"dash-item\"                                                                                                 // 666\n  }, \"\\n                    \", Blaze.Each(function() {                                                                 // 667\n    return Spacebars.call(view.lookup(\"suggestion\"));                                                                  // 668\n  }, function() {                                                                                                      // 669\n    return [ \"\\n                        \", Blaze.If(function() {                                                       // 670\n      return Spacebars.call(view.lookup(\"noImage\"));                                                                   // 671\n    }, function() {                                                                                                    // 672\n      return [ \"\\n                            \", HTML.DIV({                                                            // 673\n        class: \"editor-options new-post with-image draft-inline\",                                                      // 674\n        id: function() {                                                                                               // 675\n          return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 676\n        }                                                                                                              // 677\n      }, \"\\n                                \", HTML.DIV(\"\\n                                    \", HTML.DIV({           // 678\n        class: \"flexed mb-15\"                                                                                          // 679\n      }, \"\\n                                        \", HTML.DIV({                                                      // 680\n        class: \"content-preview\"                                                                                       // 681\n      }, \"\\n                                            \", HTML.H3({                                                   // 682\n        class: \"draft-title\"                                                                                           // 683\n      }, Blaze.View(\"lookup:headline\", function() {                                                                    // 684\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 685\n      })), \"\\n                                            \", HTML.P({                                                  // 686\n        class: \"meta\"                                                                                                  // 687\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 688\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 689\n      }), \" | \", Blaze.View(\"lookup:draftedDate\", function() {                                                         // 690\n        return Spacebars.mustache(view.lookup(\"draftedDate\"));                                                         // 691\n      }), \" \"), \"\\n                                            \", HTML.P({                                             // 692\n        class: \"draft-body\"                                                                                            // 693\n      }, Blaze.View(\"lookup:content\", function() {                                                                     // 694\n        return Spacebars.mustache(view.lookup(\"content\"));                                                             // 695\n      })), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", HTML.DIV(\"\\n                                        \", HTML.BUTTON({\n        class: \"btn btn-reject-suggestion\"                                                                             // 697\n      }, HTML.I({                                                                                                      // 698\n        class: \"fa fa-times\"                                                                                           // 699\n      }), \" Remove\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n    }, function() {                                                                                                    // 701\n      return [ \"\\n                            \", HTML.DIV({                                                            // 702\n        class: \"editor-options new-post with-image draft-inline\",                                                      // 703\n        id: function() {                                                                                               // 704\n          return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 705\n        }                                                                                                              // 706\n      }, \"\\n                                \", HTML.DIV(\"\\n                                    \", HTML.DIV({           // 707\n        class: \"flexed mb-15\"                                                                                          // 708\n      }, \"\\n                                        \", HTML.DIV({                                                      // 709\n        class: \"image-preview\"                                                                                         // 710\n      }, \"\\n                                            \", HTML.IMG({                                                  // 711\n        src: function() {                                                                                              // 712\n          return Spacebars.mustache(view.lookup(\"imageLink\"));                                                         // 713\n        },                                                                                                             // 714\n        class: \"img-responsive\"                                                                                        // 715\n      }), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({      // 716\n        class: \"content-preview\"                                                                                       // 717\n      }, \"\\n                                            \", HTML.H3({                                                   // 718\n        class: \"draft-title\"                                                                                           // 719\n      }, Blaze.View(\"lookup:headline\", function() {                                                                    // 720\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 721\n      })), \"\\n                                            \", HTML.P({                                                  // 722\n        class: \"meta\"                                                                                                  // 723\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 724\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 725\n      }), \" | \", Blaze.View(\"lookup:draftedDate\", function() {                                                         // 726\n        return Spacebars.mustache(view.lookup(\"draftedDate\"));                                                         // 727\n      }), \" \"), \"\\n                                            \", HTML.P({                                             // 728\n        class: \"draft-body\"                                                                                            // 729\n      }, Blaze.View(\"lookup:content\", function() {                                                                     // 730\n        return Spacebars.mustache(view.lookup(\"content\"));                                                             // 731\n      })), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                    \", HTML.DIV(\"\\n                                        \", HTML.BUTTON({\n        class: \"btn btn-reject\"                                                                                        // 733\n      }, HTML.I({                                                                                                      // 734\n        class: \"fa fa-times\"                                                                                           // 735\n      }), \" Remove\"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n    }), \"\\n\\n                        \", HTML.HR(), \"\\n                    \" ];                                         // 737\n  }), \"\\n                    \", HTML.Raw('<a href=\"\" class=\"btn btn-wide btn-primary\">Load More</a>'), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 739\n                                                                                                                       // 740\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"details.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/details.html                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.details.js\");                                                                     // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.details.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.details.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"details\");                                                                                       // 2\nTemplate[\"details\"] = new Template(\"Template.details\", (function() {                                                   // 3\n  var view = this;                                                                                                     // 4\n  return [ Blaze._TemplateWith(function() {                                                                            // 5\n    return {                                                                                                           // 6\n      oper: Spacebars.call(\"true\")                                                                                     // 7\n    };                                                                                                                 // 8\n  }, function() {                                                                                                      // 9\n    return Spacebars.include(view.lookupTemplate(\"navigation\"));                                                       // 10\n  }), \"\\n    \", HTML.DIV({                                                                                             // 11\n    class: \"main post-body\"                                                                                            // 12\n  }, \"\\n        \", HTML.DIV({                                                                                          // 13\n    class: \"container-fluid post-header center-wrapper\",                                                               // 14\n    style: function() {                                                                                                // 15\n      return [ \"background-image: url(\", Spacebars.mustache(view.lookup(\"postSplash\")), \")\" ];                         // 16\n    }                                                                                                                  // 17\n  }, \"\\n            \", HTML.DIV(\"\\n                \", HTML.H1(Blaze.View(\"lookup:postSubtitle\", function() {           // 18\n    return Spacebars.mustache(view.lookup(\"postSubtitle\"));                                                            // 19\n  })), \"\\n            \"), \"\\n            \", HTML.DIV({                                                                 // 20\n    class: \"navbar-fixed-bottom text-center text-capitalize scroll-down\"                                               // 21\n  }, \"\\n                \", HTML.P(Blaze.View(\"lookup:_\", function() {                                                  // 22\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.scroll\");                                                     // 23\n  })), \"\\n                \", HTML.Raw('<div class=\"bounce arrow\"></div>'), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n    class: \"container mb-30\"                                                                                           // 25\n  }, \"\\n            \", HTML.DIV({                                                                                      // 26\n    class: \"post-info mt-30\"                                                                                           // 27\n  }, \"\\n                \", HTML.DIV({                                                                                  // 28\n    class: \"key-info\"                                                                                                  // 29\n  }, \"\\n                    \", HTML.DIV({                                                                              // 30\n    class: \"author-img-container\"                                                                                      // 31\n  }, \"\\n                        \", HTML.IMG({                                                                          // 32\n    src: function() {                                                                                                  // 33\n      return Spacebars.mustache(view.lookup(\"picture\"));                                                               // 34\n    },                                                                                                                 // 35\n    height: \"45\",                                                                                                      // 36\n    class: \"img-circle\"                                                                                                // 37\n  }), \"\\n                    \"), \"\\n                    \", HTML.DIV(\"\\n                        \", HTML.SPAN({          // 38\n    class: \"name\"                                                                                                      // 39\n  }, Blaze.View(\"lookup:name\", function() {                                                                            // 40\n    return Spacebars.mustache(view.lookup(\"name\"));                                                                    // 41\n  })), \"\\n                        \", HTML.SPAN({                                                                       // 42\n    class: \"description\"                                                                                               // 43\n  }, Blaze.View(\"lookup:tagline\", function() {                                                                         // 44\n    return Spacebars.mustache(view.lookup(\"tagline\"));                                                                 // 45\n  })), \"\\n                    \"), \"\\n                \"), \"\\n                \", HTML.DIV({                              // 46\n    class: \"other-info\"                                                                                                // 47\n  }, \"\\n                    \", HTML.SPAN({                                                                             // 48\n    class: \"name\"                                                                                                      // 49\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 50\n    return Spacebars.mustache(view.lookup(\"_\"), \"details.poseted_date\");                                               // 51\n  }), \": July 29th, 2017\"), \"\\n                    \", HTML.SPAN(\"Tags:\\n                        \", Blaze.View(\"lookup:postTags\", function() {\n    return Spacebars.mustache(view.lookup(\"postTags\"));                                                                // 53\n  }), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n            \", HTML.DIV({                // 54\n    class: \"post-text mt-30\"                                                                                           // 55\n  }, \"\\n                \", Blaze.View(\"lookup:postBody\", function() {                                                  // 56\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"postBody\")));                                             // 57\n  }), \"\\n            \"), \"\\n        \"), \"\\n\", HTML.Raw('<!--        <div class=\"container post-after mb-60\">\\n            <div class=\"credit-info mb-30\">\\n                <span>This is where all the credit info will go. Including bibliography and citations.</span>\\n            </div>\\n            <hr />\\n            <div class=\"recommendation\">\\n                <h2 class=\"mb-15 text-center text-capitalize\">Further Reading</h2>\\n                <div class=\"row\">\\n                    &lt;!&ndash; I guess we can go for a carousel here &ndash;&gt;\\n                    <div class=\"col-md-3\">\\n                        <div class=\"recommend-card\">\\n                            <img class=\"img-responsive\" src=\"/img/test.jpg\" />\\n                            <div class=\"editor-card\">\\n                                <h3>This is a recommended post</h3>\\n                                <p>Yonglin Wang</p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\"col-md-3\">\\n                        <div class=\"recommend-card\">\\n                            <img class=\"img-responsive\" src=\"/img/test.jpg\" />\\n                            <div class=\"editor-card\">\\n                                <h3>This is a recommended post</h3>\\n                                <p>Yonglin Wang</p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\"col-md-3\">\\n                        <div class=\"recommend-card\">\\n                            <img class=\"img-responsive\" src=\"/img/test.jpg\" />\\n                            <div class=\"editor-card\">\\n                                <h3>This is a recommended post</h3>\\n                                <p>Yonglin Wang</p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div class=\"col-md-3\">\\n                        <div class=\"recommend-card\">\\n                            <img class=\"img-responsive\" src=\"/img/test.jpg\" />\\n                            <div class=\"editor-card\">\\n                                <h3>This is a recommended post</h3>\\n                                <p>Yonglin Wang</p>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>-->'), \"\\n        \", HTML.FOOTER({\n    class: \"text-center\"                                                                                               // 59\n  }, \"\\n            \", HTML.DIV({                                                                                      // 60\n    class: \"container\"                                                                                                 // 61\n  }, \"\\n                \", HTML.H3(Blaze.View(\"lookup:_\", function() {                                                 // 62\n    return Spacebars.mustache(view.lookup(\"_\"), \"branding\");                                                           // 63\n  })), \"\\n                \", HTML.P(Blaze.View(\"lookup:_\", function() {                                                // 64\n    return Spacebars.mustache(view.lookup(\"_\"), \"tagline\");                                                            // 65\n  })), \"\\n            \"), \"\\n        \"), \"\\n    \") ];                                                                  // 66\n}));                                                                                                                   // 67\n                                                                                                                       // 68\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"firstTime.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/firstTime.html                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.firstTime.js\");                                                                   // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.firstTime.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.firstTime.js                                                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"firstTime\");                                                                                     // 2\nTemplate[\"firstTime\"] = new Template(\"Template.firstTime\", (function() {                                               // 3\n  var view = this;                                                                                                     // 4\n  return HTML.DIV({                                                                                                    // 5\n    class: \"image-container full-height\",                                                                              // 6\n    style: \"background-image: url('/img/home-bg.jpg')\"                                                                 // 7\n  }, \"\\n        \", Blaze.If(function() {                                                                               // 8\n    return Spacebars.dataMustache(view.lookup(\"isInRole\"), \"student\");                                                 // 9\n  }, function() {                                                                                                      // 10\n    return [ \"\\n            \", HTML.DIV({                                                                              // 11\n      class: \"container\"                                                                                               // 12\n    }, \"\\n            \", HTML.DIV({                                                                                    // 13\n      class: \"row\"                                                                                                     // 14\n    }, \"\\n                \", HTML.DIV({                                                                                // 15\n      class: \"col-sm-8 col-sm-offset-2\"                                                                                // 16\n    }, \"\\n                    \", HTML.DIV({                                                                            // 17\n      class: \"wizard-container\"                                                                                        // 18\n    }, \"\\n                        \", HTML.DIV({                                                                        // 19\n      class: \"card\"                                                                                                    // 20\n    }, \"\\n                            \", HTML.DIV({                                                                    // 21\n      class: \"card-head\"                                                                                               // 22\n    }, \"\\n                                \", HTML.DIV({                                                                // 23\n      id: \"firstIntro\"                                                                                                 // 24\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 25\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.greet\");                                                      // 26\n    })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:_\", function() {                          // 27\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.greet_more\");                                                 // 28\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 29\n      id: \"teachIntro\",                                                                                                // 30\n      hidden: \"\"                                                                                                       // 31\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 32\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.teach\");                                                      // 33\n    })), \"\\n                                    \", HTML.P(\"\\n                                        \", Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.teach_more\");                                                 // 35\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      id: \"emailIntro\",                                                                                                // 37\n      hidden: \"\"                                                                                                       // 38\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 39\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news\");                                                       // 40\n    })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:_\", function() {                          // 41\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news_more\");                                                  // 42\n    })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:_\", function() {                          // 43\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news_inst\");                                                  // 44\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 45\n      id: \"confirmIntro\",                                                                                              // 46\n      hidden: \"\"                                                                                                       // 47\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 48\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.confirm\");                                                    // 49\n    })), \"\\n                                    \", HTML.P(\"\\n                                        \", Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.confirm_more\");                                               // 51\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                            \", HTML.HR(), \"\\n                            \", HTML.DIV({\n      class: \"card-body\"                                                                                               // 53\n    }, \"\\n                                \", HTML.DIV({                                                                // 54\n      class: \"info-form\",                                                                                              // 55\n      id: \"beginIntro\"                                                                                                 // 56\n    }, \"\\n                                    \", HTML.A({                                                              // 57\n      href: \"\",                                                                                                        // 58\n      class: \"btn btn-lg btn-login\",                                                                                   // 59\n      id: \"startFirst\"                                                                                                 // 60\n    }, \"\\n                                        \", Blaze.View(\"lookup:_\", function() {                               // 61\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.intro\");                                                  // 62\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      class: \"info-form\",                                                                                              // 64\n      id: \"teachAssistInfo\",                                                                                           // 65\n      hidden: \"\"                                                                                                       // 66\n    }, \"\\n                                    \", HTML.FORM({                                                           // 67\n      class: \"teach-assist-login\",                                                                                     // 68\n      id: \"teachAssistForm\"                                                                                            // 69\n    }, \"\\n                                        \", HTML.INPUT({                                                      // 70\n      type: \"text\",                                                                                                    // 71\n      id: \"teachUser\",                                                                                                 // 72\n      placeholder: function() {                                                                                        // 73\n        return Spacebars.mustache(view.lookup(\"_\"), \"first.input.sNum\");                                               // 74\n      }                                                                                                                // 75\n    }), \"\\n                                        \", HTML.INPUT({                                                     // 76\n      type: \"password\",                                                                                                // 77\n      id: \"teachPass\",                                                                                                 // 78\n      placeholder: function() {                                                                                        // 79\n        return Spacebars.mustache(view.lookup(\"_\"), \"first.input.sPass\");                                              // 80\n      }                                                                                                                // 81\n    }), \"\\n                                        \", HTML.INPUT({                                                     // 82\n      type: \"submit\",                                                                                                  // 83\n      class: \"btn btn-primary btn-lg btn-login mb-15\",                                                                 // 84\n      value: function() {                                                                                              // 85\n        return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.authorize\");                                            // 86\n      }                                                                                                                // 87\n    }), \"\\n                                    \"), \"\\n                                    \", HTML.DIV({                // 88\n      class: \"teachLoader\",                                                                                            // 89\n      hidden: \"\"                                                                                                       // 90\n    }, \"\\n                                        \", HTML.I({                                                          // 91\n      class: \"fa fa-spinner fa-pulse fa-5x fa-fw\"                                                                      // 92\n    }), \"\\n                                        \", HTML.SPAN({                                                      // 93\n      class: \"sr-only\"                                                                                                 // 94\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 95\n      return Spacebars.mustache(view.lookup(\"_\"), \"loading\");                                                          // 96\n    })), \"\\n                                    \"), \"\\n                                    \", HTML.SPAN(Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.teach_skip\");                                                 // 98\n    }), \" \", HTML.A({                                                                                                  // 99\n      href: \"\",                                                                                                        // 100\n      id: \"skipNext\"                                                                                                   // 101\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 102\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.skip\");                                                   // 103\n    }))), \"\\n                                \"), \"\\n                                \", HTML.DIV({                      // 104\n      class: \"info-form\",                                                                                              // 105\n      id: \"subscriptionEmail\",                                                                                         // 106\n      hidden: \"\"                                                                                                       // 107\n    }, \"\\n                                    \", HTML.FORM({                                                           // 108\n      id: \"newsletterEmailForm\"                                                                                        // 109\n    }, \"\\n                                        \", HTML.INPUT({                                                      // 110\n      type: \"email\",                                                                                                   // 111\n      placeholder: \"Your Email\",                                                                                       // 112\n      id: \"personalEmail\"                                                                                              // 113\n    }), \"\\n                                        \", HTML.INPUT({                                                     // 114\n      type: \"submit\",                                                                                                  // 115\n      class: \"btn btn-primary btn-lg btn-login mb-15\",                                                                 // 116\n      value: function() {                                                                                              // 117\n        return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.signup\");                                               // 118\n      }                                                                                                                // 119\n    }), \"\\n                                        \", HTML.SPAN(Blaze.View(\"lookup:_\", function() {                    // 120\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news_skip\");                                                  // 121\n    }), \" \", HTML.A({                                                                                                  // 122\n      href: \"\",                                                                                                        // 123\n      id: \"skipEmail\"                                                                                                  // 124\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 125\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.skip\");                                                   // 126\n    }))), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      class: \"info-form\",                                                                                              // 128\n      id: \"confirmDetails\",                                                                                            // 129\n      hidden: \"\"                                                                                                       // 130\n    }, \"\\n                                    \", HTML.FORM({                                                           // 131\n      class: \"form\",                                                                                                   // 132\n      id: \"finalForm\"                                                                                                  // 133\n    }, \"\\n                                        \", HTML.LABEL({                                                      // 134\n      for: \"introName\"                                                                                                 // 135\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 136\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.cName\");                                                // 137\n    })), \"\\n                                        \", HTML.INPUT({                                                    // 138\n      type: \"text\",                                                                                                    // 139\n      id: \"introName\",                                                                                                 // 140\n      disabled: \"\"                                                                                                     // 141\n    }), \"\\n                                        \", HTML.LABEL({                                                     // 142\n      for: \"introStudentNum\"                                                                                           // 143\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 144\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.cNum\");                                                 // 145\n    })), \"\\n                                        \", HTML.INPUT({                                                    // 146\n      type: \"text\",                                                                                                    // 147\n      id: \"introStudentNum\",                                                                                           // 148\n      disabled: \"\"                                                                                                     // 149\n    }), \"\\n                                        \", HTML.LABEL({                                                     // 150\n      for: \"introSubEmail\"                                                                                             // 151\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 152\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.cMail\");                                                // 153\n    })), \"\\n                                        \", HTML.INPUT({                                                    // 154\n      type: \"email\",                                                                                                   // 155\n      id: \"introSubEmail\",                                                                                             // 156\n      disabled: \"\"                                                                                                     // 157\n    }), \"\\n                                        \", HTML.DIV({                                                       // 158\n      class: \"form-group\"                                                                                              // 159\n    }, \"\\n                                            \", HTML.INPUT({                                                  // 160\n      type: \"checkbox\",                                                                                                // 161\n      class: \"ios8-switch\",                                                                                            // 162\n      id: \"checkboxTerms\"                                                                                              // 163\n    }), \"\\n                                            \", HTML.LABEL({                                                 // 164\n      for: \"checkboxTerms\"                                                                                             // 165\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 166\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.cTerms\");                                               // 167\n    })), \"\\n                                        \"), \"\\n                                        \", HTML.INPUT({     // 168\n      type: \"submit\",                                                                                                  // 169\n      class: \"btn btn-lg btn-login\",                                                                                   // 170\n      value: function() {                                                                                              // 171\n        return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.done\");                                                 // 172\n      }                                                                                                                // 173\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n      class: \"final-message\",                                                                                          // 175\n      hidden: \"\"                                                                                                       // 176\n    }, \"\\n                        \", HTML.H1(Blaze.View(\"lookup:_\", function() {                                       // 177\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.done\");                                                       // 178\n    })), \"\\n                        \", HTML.H2(Blaze.View(\"lookup:_\", function() {                                     // 179\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.done_more\");                                                  // 180\n    })), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \" ];           // 181\n  }, function() {                                                                                                      // 182\n    return [ \"\\n            \", HTML.DIV({                                                                              // 183\n      class: \"container\"                                                                                               // 184\n    }, \"\\n            \", HTML.DIV({                                                                                    // 185\n      class: \"row\"                                                                                                     // 186\n    }, \"\\n                \", HTML.DIV({                                                                                // 187\n      class: \"col-sm-8 col-sm-offset-2\"                                                                                // 188\n    }, \"\\n                    \", HTML.DIV({                                                                            // 189\n      class: \"wizard-container\"                                                                                        // 190\n    }, \"\\n                        \", HTML.DIV({                                                                        // 191\n      class: \"card\"                                                                                                    // 192\n    }, \"\\n                            \", HTML.DIV({                                                                    // 193\n      class: \"card-head\"                                                                                               // 194\n    }, \"\\n                                \", HTML.DIV({                                                                // 195\n      id: \"firstIntro\"                                                                                                 // 196\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 197\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.greet\");                                                      // 198\n    })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:_\", function() {                          // 199\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.greet_more\");                                                 // 200\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 201\n      id: \"teachIntro\",                                                                                                // 202\n      hidden: \"\"                                                                                                       // 203\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 204\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.teach_t\");                                                    // 205\n    })), \"\\n                                    \", HTML.P(\"\\n                                        \", Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.teach_t_more\");                                               // 207\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      id: \"emailIntro\",                                                                                                // 209\n      hidden: \"\"                                                                                                       // 210\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 211\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news\");                                                       // 212\n    })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:_\", function() {                          // 213\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news_more\");                                                  // 214\n    })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:_\", function() {                          // 215\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news_inst\");                                                  // 216\n    })), \"\\n                                \"), \"\\n                                \", HTML.DIV({                       // 217\n      id: \"confirmIntro\",                                                                                              // 218\n      hidden: \"\"                                                                                                       // 219\n    }, \"\\n                                    \", HTML.H2(Blaze.View(\"lookup:_\", function() {                           // 220\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.confirm\");                                                    // 221\n    })), \"\\n                                    \", HTML.P(\"\\n                                        \", Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.confirm_t_more\");                                             // 223\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                            \", HTML.HR(), \"\\n                            \", HTML.DIV({\n      class: \"card-body\"                                                                                               // 225\n    }, \"\\n                                \", HTML.DIV({                                                                // 226\n      class: \"info-form\",                                                                                              // 227\n      id: \"beginIntro\"                                                                                                 // 228\n    }, \"\\n                                    \", HTML.A({                                                              // 229\n      href: \"\",                                                                                                        // 230\n      class: \"btn btn-lg btn-login\",                                                                                   // 231\n      id: \"startFirst\"                                                                                                 // 232\n    }, \"\\n                                        \", Blaze.View(\"lookup:_\", function() {                               // 233\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.intro\");                                                  // 234\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      class: \"info-form\",                                                                                              // 236\n      id: \"teachAssistInfo\",                                                                                           // 237\n      hidden: \"\"                                                                                                       // 238\n    }, \"\\n                                    \", HTML.FORM({                                                           // 239\n      class: \"select-organizations\",                                                                                   // 240\n      id: \"organizationsForm\"                                                                                          // 241\n    }, \"\\n                                        \", HTML.DIV({                                                        // 242\n      class: \"form-group mb-15\"                                                                                        // 243\n    }, \"\\n                                            \", HTML.LABEL({                                                  // 244\n      for: \"firstCourseSelect\"                                                                                         // 245\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 246\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.tCourse\");                                              // 247\n    })), \"\\n                                            \", HTML.SELECT({                                               // 248\n      name: \"category-selector\",                                                                                       // 249\n      class: \"category-select \",                                                                                       // 250\n      id: \"firstCourseSelect\",                                                                                         // 251\n      multiple: \"\",                                                                                                    // 252\n      style: \"width: 60%\"                                                                                              // 253\n    }), \"\\n                                        \"), \"\\n                                        \", HTML.DIV({        // 254\n      class: \"form-group mb-15\"                                                                                        // 255\n    }, \"\\n                                            \", HTML.LABEL({                                                  // 256\n      for: \"firstClubSelect\"                                                                                           // 257\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 258\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.tClub\");                                                // 259\n    })), \"\\n                                            \", HTML.SELECT({                                               // 260\n      name: \"category-selector\",                                                                                       // 261\n      class: \"category-select mb-15\",                                                                                  // 262\n      id: \"firstClubSelect\",                                                                                           // 263\n      multiple: \"\",                                                                                                    // 264\n      style: \"width: 60%\"                                                                                              // 265\n    }), \"\\n                                        \"), \"\\n                                        \", HTML.INPUT({      // 266\n      type: \"submit\",                                                                                                  // 267\n      class: \"btn btn-primary btn-lg btn-login mb-15\",                                                                 // 268\n      value: \"Confirm\"                                                                                                 // 269\n    }), \"\\n                                    \"), \"\\n                                    \", HTML.SPAN(Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.teach_t_skip\");                                               // 271\n    }), \" \", HTML.A({                                                                                                  // 272\n      href: \"\",                                                                                                        // 273\n      id: \"skipNext\"                                                                                                   // 274\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 275\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.skip\");                                                   // 276\n    }))), \"\\n                                \"), \"\\n                                \", HTML.DIV({                      // 277\n      class: \"info-form\",                                                                                              // 278\n      id: \"subscriptionEmail\",                                                                                         // 279\n      hidden: \"\"                                                                                                       // 280\n    }, \"\\n                                    \", HTML.FORM({                                                           // 281\n      id: \"newsletterEmailForm\"                                                                                        // 282\n    }, \"\\n                                        \", HTML.INPUT({                                                      // 283\n      type: \"email\",                                                                                                   // 284\n      placeholder: \"Your Email\",                                                                                       // 285\n      id: \"personalEmail\"                                                                                              // 286\n    }), \"\\n                                        \", HTML.INPUT({                                                     // 287\n      type: \"submit\",                                                                                                  // 288\n      class: \"btn btn-primary btn-lg btn-login mb-15\",                                                                 // 289\n      value: \"Join the club\"                                                                                           // 290\n    }), \"\\n                                        \", HTML.SPAN(Blaze.View(\"lookup:_\", function() {                    // 291\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.news_skip\");                                                  // 292\n    }), \" \", HTML.A({                                                                                                  // 293\n      href: \"\",                                                                                                        // 294\n      id: \"skipEmail\"                                                                                                  // 295\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 296\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.btn.skip\");                                                   // 297\n    }))), \"\\n                                    \"), \"\\n                                \"), \"\\n                                \", HTML.DIV({\n      class: \"info-form\",                                                                                              // 299\n      id: \"confirmDetails\",                                                                                            // 300\n      hidden: \"\"                                                                                                       // 301\n    }, \"\\n                                    \", HTML.FORM({                                                           // 302\n      class: \"form\",                                                                                                   // 303\n      id: \"finalForm\"                                                                                                  // 304\n    }, \"\\n                                        \", HTML.LABEL({                                                      // 305\n      for: \"introName\"                                                                                                 // 306\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 307\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.cName\");                                                // 308\n    })), \"\\n                                        \", HTML.INPUT({                                                    // 309\n      type: \"text\",                                                                                                    // 310\n      id: \"introName\",                                                                                                 // 311\n      disabled: \"\"                                                                                                     // 312\n    }), \"\\n                                        \", HTML.LABEL({                                                     // 313\n      for: \"introTagLine\"                                                                                              // 314\n    }, \"Tag line: max 25 characters\"), \"\\n                                        \", HTML.INPUT({                      // 315\n      type: \"text\",                                                                                                    // 316\n      id: \"introTagLine\",                                                                                              // 317\n      placeholder: \"'English Teacher, Thrill lover', 'I love uhs' ...\",                                                // 318\n      maxlength: \"25\"                                                                                                  // 319\n    }), \"\\n                                        \", HTML.LABEL({                                                     // 320\n      for: \"introSubEmail\"                                                                                             // 321\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 322\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.cMail\");                                                // 323\n    })), \"\\n                                        \", HTML.INPUT({                                                    // 324\n      type: \"email\",                                                                                                   // 325\n      id: \"introSubEmail\",                                                                                             // 326\n      disabled: \"\"                                                                                                     // 327\n    }), \"\\n                                        \", HTML.DIV({                                                       // 328\n      class: \"form-group\"                                                                                              // 329\n    }, \"\\n                                            \", HTML.INPUT({                                                  // 330\n      type: \"checkbox\",                                                                                                // 331\n      class: \"ios8-switch\",                                                                                            // 332\n      id: \"checkboxTerms\"                                                                                              // 333\n    }), \"\\n                                            \", HTML.LABEL({                                                 // 334\n      for: \"checkboxTerms\"                                                                                             // 335\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 336\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.input.cTerms\");                                               // 337\n    })), \"\\n                                        \"), \"\\n                                        \", HTML.INPUT({     // 338\n      type: \"submit\",                                                                                                  // 339\n      class: \"btn btn-lg btn-login\",                                                                                   // 340\n      value: \"Confirm\"                                                                                                 // 341\n    }), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                    \", HTML.DIV({\n      class: \"final-message\",                                                                                          // 343\n      hidden: \"\"                                                                                                       // 344\n    }, \"\\n                        \", HTML.H1(Blaze.View(\"lookup:_\", function() {                                       // 345\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.done\");                                                       // 346\n    })), \"\\n                        \", HTML.H2(Blaze.View(\"lookup:_\", function() {                                     // 347\n      return Spacebars.mustache(view.lookup(\"_\"), \"first.done_more\");                                                  // 348\n    })), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n        \" ];           // 349\n  }), \"\\n    \");                                                                                                       // 350\n}));                                                                                                                   // 351\n                                                                                                                       // 352\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"login.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/login.html                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.login.js\");                                                                       // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.login.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.login.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"login\");                                                                                         // 2\nTemplate[\"login\"] = new Template(\"Template.login\", (function() {                                                       // 3\n  var view = this;                                                                                                     // 4\n  return HTML.DIV({                                                                                                    // 5\n    class: \"container-fluid full-screen\"                                                                               // 6\n  }, \"\\n        \", HTML.DIV({                                                                                          // 7\n    class: \"branding\"                                                                                                  // 8\n  }, \"\\n            \", HTML.SPAN({                                                                                     // 9\n    class: \"life-brand\"                                                                                                // 10\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 11\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.branding\");                                                     // 12\n  })), \"\\n        \"), \"\\n        \", HTML.DIV({                                                                         // 13\n    class: \"login-menu \"                                                                                               // 14\n  }, \"\\n            \", HTML.UL({                                                                                       // 15\n    class: \"login-menu-items\"                                                                                          // 16\n  }, \"\\n                \", HTML.LI({                                                                                   // 17\n    class: \"hidden-xs hidden-sm\"                                                                                       // 18\n  }, HTML.A({                                                                                                          // 19\n    href: \"http://google.ca\"                                                                                           // 20\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 21\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.about\");                                                        // 22\n  }))), \"\\n                \", HTML.LI({                                                                                // 23\n    class: \"hidden-xs hidden-sm\"                                                                                       // 24\n  }, HTML.A({                                                                                                          // 25\n    href: \"http://google.ca\"                                                                                           // 26\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 27\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.help\");                                                         // 28\n  }))), \"\\n                \", HTML.LI({                                                                                // 29\n    class: \"hidden-xs hidden-sm\"                                                                                       // 30\n  }, HTML.A({                                                                                                          // 31\n    href: \"http://google.ca\"                                                                                           // 32\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 33\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.legal\");                                                        // 34\n  }))), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({                                                     // 35\n    class: \"col-lg-8 col-md-8 jumbotron-area hidden-sm hidden-xs\"                                                      // 36\n  }, \"\\n            \", HTML.DIV({                                                                                      // 37\n    class: \"information\"                                                                                               // 38\n  }, \"\\n                \", HTML.H1({                                                                                   // 39\n    class: \"jumbotron-greeting\"                                                                                        // 40\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 41\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.welcome\");                                                      // 42\n  })), \"\\n                \", HTML.Raw('<span class=\"jumbotron-title\">Here are some important information</span>'), \"\\n                \", HTML.Raw('<p class=\"jumbotron-details\">\\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Animi delectus dolore ea est excepturi id, qui quo ratione sapiente suscipit? At cupiditate deserunt dolorum expedita facere illum nisi non quod.\\n                    ommodi consectetur doloremque eius enim neque nostrum, reprehenderit repudiandae. Ab aspernatur cumque dolore doloribus eaque fugit illo ipsam ipsum minima nam nisi odio officia omnis, quasi quisquam sunt totam vitae.\\n                    Adipisci alias aspernatur deleniti dolores exercitationem facilis illo ipsa laboriosam minima necessitatibus nemo nesciunt, non optio porro praesentium quae quia quos reiciendis sequi, soluta suscipit tempore tenetur ullam vero voluptas!\\n                </p>'), \"\\n                \", HTML.A({\n    class: \"btn btn-lg btn-white\"                                                                                      // 44\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 45\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.read_more\");                                                    // 46\n  })), \"\\n            \"), \"\\n        \"), \"\\n        \", HTML.DIV({                                                      // 47\n    class: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 login-area\"                                                          // 48\n  }, \"\\n            \", HTML.DIV({                                                                                      // 49\n    class: \"login-with-google\"                                                                                         // 50\n  }, \"\\n                \", HTML.H1({                                                                                   // 51\n    class: \"mb-30\"                                                                                                     // 52\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 53\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.title\");                                                        // 54\n  })), \"\\n                \", HTML.A({                                                                                  // 55\n    class: \"btn btn-primary btn-lg btn-login ptb-30\",                                                                  // 56\n    id: \"googleLogin\",                                                                                                 // 57\n    href: \"\"                                                                                                           // 58\n  }, \"\\n                    \", HTML.Raw('<i class=\"fa fa-fw fa-2x fa-google\" aria-hidden=\"true\"></i>'), \" \", Blaze.View(\"lookup:_\", function() {\n    return Spacebars.mustache(view.lookup(\"_\"), \"login.main_btn\");                                                     // 60\n  }), \"\\n                \"), \"\\n            \"), \"\\n\\n\", HTML.Raw('<!--            <div class=\"form\">\\n                <form class=\"register-form\">\\n                    <h1>Register</h1>\\n                    <input type=\"text\" placeholder=\"First Name\" name=\"firstName\" />\\n                    <input type=\"text\" placeholder=\"Last Name\" name=\"lastName\"/>\\n                    <span class=\"email-warning\">This email is invalid</span>\\n                    <input type=\"email\" placeholder=\"Email Address\" id=\"registerEmail\" name=\"registerEmail\"/>\\n                    <input type=\"password\" placeholder=\"Password\" name=\"registerPassword\"/>\\n                    <input type=\"submit\" value=\"Let\\'s Go!\" id=\"registerSubmit\"/>\\n                    <p class=\"message\">Already registered? <a href=\"\" class=\"operation\">Sign In</a></p>\\n                </form>\\n                <form class=\"login-form\">\\n                    <h1>Login</h1>\\n                    <input type=\"text\" placeholder=\"Email\" name=\"email\"/>\\n                    <input type=\"password\" placeholder=\"Password\" name=\"password\"/>\\n                    <input type=\"submit\" value=\"Login\"/>\\n                    <p class=\"message\">Not registered? <a href=\"\" class=\"operation\">Create an account</a></p>\\n                </form>\\n            </div>-->'), \"\\n        \"), \"\\n    \");\n}));                                                                                                                   // 62\n                                                                                                                       // 63\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"stream.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/stream.html                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = require(\"./template.stream.js\");                                                                      // 1\n                                                                                                                       // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.stream.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.stream.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.__checkName(\"stream\");                                                                                        // 2\nTemplate[\"stream\"] = new Template(\"Template.stream\", (function() {                                                     // 3\n  var view = this;                                                                                                     // 4\n  return [ Spacebars.include(view.lookupTemplate(\"navigation\")), \"\\n    \", Spacebars.include(view.lookupTemplate(\"editor\")), \"\\n    \", HTML.DIV({\n    class: \"container main\"                                                                                            // 6\n  }, \"\\n        \", HTML.DIV({                                                                                          // 7\n    class: \"col-lg-12 content\"                                                                                         // 8\n  }, \"\\n            \", HTML.DIV({                                                                                      // 9\n    class: \"button-group filter-button-group mb-30\"                                                                    // 10\n  }, \"\\n                \", HTML.BUTTON({                                                                               // 11\n    class: \"filter-btn is-checked\",                                                                                    // 12\n    \"data-filter\": \"*\"                                                                                                 // 13\n  }, Blaze.View(\"lookup:_\", function() {                                                                               // 14\n    return Spacebars.mustache(view.lookup(\"_\"), \"stream.all\");                                                         // 15\n  })), \"\\n                \", Blaze.Each(function() {                                                                   // 16\n    return Spacebars.call(view.lookup(\"category\"));                                                                    // 17\n  }, function() {                                                                                                      // 18\n    return [ \"\\n                    \", HTML.BUTTON({                                                                   // 19\n      class: \"filter-btn\",                                                                                             // 20\n      \"data-filter\": function() {                                                                                      // 21\n        return [ \".\", Spacebars.mustache(view.lookup(\"name\")) ];                                                       // 22\n      }                                                                                                                // 23\n    }, Blaze.View(\"lookup:name\", function() {                                                                          // 24\n      return Spacebars.mustache(view.lookup(\"name\"));                                                                  // 25\n    })), \"\\n                \" ];                                                                                       // 26\n  }), \"\\n            \"), \"\\n            \", HTML.DIV({                                                                  // 27\n    class: \"grid\"                                                                                                      // 28\n  }, \"\\n                \", HTML.Raw('<div class=\"grid-sizer\"></div>'), \"\\n                \", HTML.Raw('<div class=\"gutter-sizer\"></div>'), \"\\n                \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"allPosts\"));                                                                    // 30\n  }, function() {                                                                                                      // 31\n    return [ \"\\n                    \", Blaze.If(function() {                                                           // 32\n      return Spacebars.call(view.lookup(\"isImageOnly\"));                                                               // 33\n    }, function() {                                                                                                    // 34\n      return [ \"\\n                        \", HTML.DIV({                                                                // 35\n        class: function() {                                                                                            // 36\n          return [ \"grid-item image \", Spacebars.mustache(view.lookup(\"categories\")) ];                                // 37\n        }                                                                                                              // 38\n      }, \"\\n                            \", HTML.DIV({                                                                  // 39\n        class: \"item-container\"                                                                                        // 40\n      }, \"\\n                                \", HTML.IMG({                                                              // 41\n        class: \"img-responsive\",                                                                                       // 42\n        src: function() {                                                                                              // 43\n          return Spacebars.mustache(view.lookup(\"imageLink\"));                                                         // 44\n        }                                                                                                              // 45\n      }), \"\\n                                \", HTML.DIV({                                                             // 46\n        class: \"overlay-small\"                                                                                         // 47\n      }, \"\\n                                    \", HTML.DIV({                                                          // 48\n        class: \"text\"                                                                                                  // 49\n      }, \"\\n                                        \", HTML.H4(Blaze.View(\"lookup:headline\", function() {              // 50\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 51\n      })), \"\\n                                        \", HTML.DIV({                                                    // 52\n        class: \"image-only-author\"                                                                                     // 53\n      }, \"\\n                                            \", HTML.P(Blaze.View(\"lookup:writer\", function() {             // 54\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 55\n      })), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];\n    }), \"\\n                    \", Blaze.If(function() {                                                                // 57\n      return Spacebars.call(view.lookup(\"isTextOnly\"));                                                                // 58\n    }, function() {                                                                                                    // 59\n      return [ \"\\n                        \", HTML.DIV({                                                                // 60\n        class: function() {                                                                                            // 61\n          return [ \"grid-item \", Spacebars.mustache(view.lookup(\"categories\")) ];                                      // 62\n        }                                                                                                              // 63\n      }, \"\\n                            \", HTML.DIV({                                                                  // 64\n        class: \"post-title mb-10\"                                                                                      // 65\n      }, \"\\n                                \", HTML.H3(Blaze.View(\"lookup:headline\", function() {                      // 66\n        return Spacebars.mustache(view.lookup(\"headline\"));                                                            // 67\n      })), \"\\n                            \"), \"\\n                            \", HTML.P(\"\\n                                \", Blaze.View(\"lookup:content\", function() {\n        return Spacebars.mustache(view.lookup(\"content\"));                                                             // 69\n      }), \"\\n                            \"), \"\\n                            \", HTML.SPAN({                             // 70\n        class: \"grid-item-footer\"                                                                                      // 71\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 72\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 73\n      }), \" | \", Blaze.View(\"lookup:_\", function() {                                                                   // 74\n        return Spacebars.mustache(view.lookup(\"_\"), \"stream.time_range\");                                              // 75\n      }), \": \", Blaze.View(\"lookup:effectiveDate\", function() {                                                        // 76\n        return Spacebars.mustache(view.lookup(\"effectiveDate\"));                                                       // 77\n      })), \"\\n                        \"), \"\\n                    \" ];                                                  // 78\n    }), \"\\n                    \", Blaze.If(function() {                                                                // 79\n      return Spacebars.call(view.lookup(\"isImageText\"));                                                               // 80\n    }, function() {                                                                                                    // 81\n      return [ \"\\n                        \", Blaze.If(function() {                                                     // 82\n        return Spacebars.call(view.lookup(\"imageOverText\"));                                                           // 83\n      }, function() {                                                                                                  // 84\n        return [ \"\\n                            \", HTML.DIV({                                                          // 85\n          class: function() {                                                                                          // 86\n            return [ \"grid-item image \", Spacebars.mustache(view.lookup(\"categories\")) ];                              // 87\n          }                                                                                                            // 88\n        }, \"\\n                                \", HTML.DIV({                                                            // 89\n          class: \"item-container\"                                                                                      // 90\n        }, \"\\n                                    \", HTML.IMG({                                                        // 91\n          src: function() {                                                                                            // 92\n            return Spacebars.mustache(view.lookup(\"imageLink\"));                                                       // 93\n          },                                                                                                           // 94\n          alt: \"Test Image\",                                                                                           // 95\n          class: \"item-image\"                                                                                          // 96\n        }), \"\\n                                    \", HTML.DIV({                                                       // 97\n          class: \"overlay\"                                                                                             // 98\n        }, \"\\n                                        \", HTML.DIV({                                                    // 99\n          class: \"text\"                                                                                                // 100\n        }, \"\\n                                            \", HTML.H3(Blaze.View(\"lookup:headline\", function() {        // 101\n          return Spacebars.mustache(view.lookup(\"headline\"));                                                          // 102\n        })), \"\\n                                            \", HTML.SPAN(Blaze.View(\"lookup:writer\", function() {      // 103\n          return Spacebars.mustache(view.lookup(\"writer\"));                                                            // 104\n        })), \"\\n                                            \", HTML.P(Blaze.View(\"lookup:content\", function() {        // 105\n          return Spacebars.mustache(view.lookup(\"content\"));                                                           // 106\n        })), \"\\n                                        \"), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n      }), \"\\n                        \", Blaze.If(function() {                                                          // 108\n        return Spacebars.call(view.lookup(\"textOverImage\"));                                                           // 109\n      }, function() {                                                                                                  // 110\n        return [ \"\\n                            \", HTML.DIV({                                                          // 111\n          class: function() {                                                                                          // 112\n            return [ \"grid-item image \", Spacebars.mustache(view.lookup(\"categories\")), \" text-over-image\" ];          // 113\n          }                                                                                                            // 114\n        }, \"\\n                                \", HTML.DIV({                                                            // 115\n          class: \"grid-bg-img-container\",                                                                              // 116\n          style: function() {                                                                                          // 117\n            return [ \"background: url(\", Spacebars.mustache(view.lookup(\"imageLink\")), \")\" ];                          // 118\n          }                                                                                                            // 119\n        }, \"\\n                                    \", HTML.DIV({                                                        // 120\n          class: \"overlay-partial\"                                                                                     // 121\n        }, \"\\n                                        \", HTML.DIV({                                                    // 122\n          class: \"post-title mb-10\"                                                                                    // 123\n        }, \"\\n                                            \", HTML.H3(Blaze.View(\"lookup:headline\", function() {        // 124\n          return Spacebars.mustache(view.lookup(\"headline\"));                                                          // 125\n        })), \"\\n                                        \"), \"\\n                                        \", HTML.P(Blaze.View(\"lookup:content\", function() {\n          return Spacebars.mustache(view.lookup(\"content\"));                                                           // 127\n        })), \"\\n                                        \", HTML.SPAN({                                                 // 128\n          class: \"grid-item-footer\"                                                                                    // 129\n        }, Blaze.View(\"lookup:writer\", function() {                                                                    // 130\n          return Spacebars.mustache(view.lookup(\"writer\"));                                                            // 131\n        }), \" | \", Blaze.View(\"lookup:_\", function() {                                                                 // 132\n          return Spacebars.mustache(view.lookup(\"_\"), \"stream.time_range\");                                            // 133\n        }), \": \", Blaze.View(\"lookup:effectiveDate\", function() {                                                      // 134\n          return Spacebars.mustache(view.lookup(\"effectiveDate\"));                                                     // 135\n        })), \"\\n                                    \"), \"\\n                                \"), \"\\n                            \"), \"\\n                        \" ];\n      }), \"\\n                    \" ];                                                                                  // 137\n    }), \"\\n                    \", Blaze.If(function() {                                                                // 138\n      return Spacebars.call(view.lookup(\"isBlog\"));                                                                    // 139\n    }, function() {                                                                                                    // 140\n      return [ \"\\n                        \", HTML.DIV({                                                                // 141\n        class: function() {                                                                                            // 142\n          return [ \"grid-item image \", Spacebars.mustache(view.lookup(\"categories\")), \" blog-item\" ];                  // 143\n        },                                                                                                             // 144\n        id: function() {                                                                                               // 145\n          return Spacebars.mustache(view.lookup(\"_id\"));                                                               // 146\n        }                                                                                                              // 147\n      }, \"\\n                            \", HTML.IMG({                                                                  // 148\n        class: \"img-responsive\",                                                                                       // 149\n        src: function() {                                                                                              // 150\n          return Spacebars.mustache(view.lookup(\"imageLink\"));                                                         // 151\n        }                                                                                                              // 152\n      }), \"\\n                            \", HTML.DIV({                                                                 // 153\n        class: \"grid-blog-body\"                                                                                        // 154\n      }, \"\\n                                \", HTML.H3(Blaze.View(\"lookup:title\", function() {                         // 155\n        return Spacebars.mustache(view.lookup(\"title\"));                                                               // 156\n      })), \"\\n                                \", HTML.SPAN({                                                           // 157\n        class: \"grid-item-footer\"                                                                                      // 158\n      }, Blaze.View(\"lookup:writer\", function() {                                                                      // 159\n        return Spacebars.mustache(view.lookup(\"writer\"));                                                              // 160\n      })), \"\\n                                \", HTML.P(Blaze.View(\"lookup:subtitle\", function() {                     // 161\n        return Spacebars.mustache(view.lookup(\"subtitle\"));                                                            // 162\n      })), \"\\n                                \", HTML.A({                                                              // 163\n        href: \"\",                                                                                                      // 164\n        class: \"btn btn-primary btn-wide\"                                                                              // 165\n      }, Blaze.View(\"lookup:_\", function() {                                                                           // 166\n        return Spacebars.mustache(view.lookup(\"_\"), \"stream.read_more\");                                               // 167\n      })), \"\\n                            \"), \"\\n                        \"), \"\\n                    \" ];               // 168\n    }), \"\\n                \" ];                                                                                        // 169\n  }, function() {                                                                                                      // 170\n    return [ \"\\n                    \", HTML.H2({                                                                       // 171\n      class: \"text-center\"                                                                                             // 172\n    }, Blaze.View(\"lookup:_\", function() {                                                                             // 173\n      return Spacebars.mustache(view.lookup(\"_\"), \"stream.no\");                                                        // 174\n    })), \"\\n                \" ];                                                                                       // 175\n  }), \"\\n            \"), \"\\n        \"), \"\\n    \") ];                                                                   // 176\n}));                                                                                                                   // 177\n                                                                                                                       // 178\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"bigPicture.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/bigPicture.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./bigPicture.html\"));                                                                            // 1\nvar Images = void 0;                                                                                                   // 1\nmodule.watch(require(\"../../api/images/images.js\"), {                                                                  // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nvar flickity = void 0;                                                                                                 // 1\nmodule.watch(require(\"flickity\"), {                                                                                    // 1\n    \"default\": function (v) {                                                                                          // 1\n        flickity = v;                                                                                                  // 1\n    }                                                                                                                  // 1\n}, 1);                                                                                                                 // 1\nvar imagesLoaded = void 0;                                                                                             // 1\nmodule.watch(require(\"imagesloaded\"), {                                                                                // 1\n    \"default\": function (v) {                                                                                          // 1\n        imagesLoaded = v;                                                                                              // 1\n    }                                                                                                                  // 1\n}, 2);                                                                                                                 // 1\nvar morphSettings = {                                                                                                  // 9\n    // The [in] animation type. Refer to Animate.css for a list of available animations.                               // 10\n    animation: \"flipInX\",                                                                                              // 11\n    // An array of phrases to rotate are created based on this separator. Change it if you wish to separate the phrases differently (e.g. So Simple | Very Doge | Much Wow | Such Cool).\n    separator: \";;\",                                                                                                   // 13\n    // The delay between the changing of each phrase in milliseconds.                                                  // 14\n    speed: 8000,                                                                                                       // 15\n    complete: function () {// Called after the entrance animation is executed.                                         // 16\n    }                                                                                                                  // 18\n};                                                                                                                     // 9\nTemplate.bigPicture.onRendered(function () {                                                                           // 20\n    Tracker.autorun(function () {                                                                                      // 21\n        var newsSub = Meteor.subscribe('announcements', 10, Meteor.userId());                                          // 22\n        var imageSub = Meteor.subscribe('images');                                                                     // 23\n                                                                                                                       //\n        if (newsSub.ready()) {                                                                                         // 24\n            $('.flickity').flickity({                                                                                  // 25\n                cellAlign: 'left',                                                                                     // 26\n                contain: true,                                                                                         // 27\n                imagesLoaded: true,                                                                                    // 28\n                lazyLoad: true,                                                                                        // 29\n                autoPlay: 5000,                                                                                        // 30\n                pageDots: false,                                                                                       // 31\n                prevNextButtons: false,                                                                                // 32\n                pauseAutoPlayOnHover: false,                                                                           // 33\n                selectedAttraction: 0.01,                                                                              // 34\n                friction: 0.15                                                                                         // 35\n            });                                                                                                        // 25\n            $('.dot').css('width', $('.flickity-page-dots').width() / $('.dot').length + 'px');                        // 37\n        }                                                                                                              // 38\n    });                                                                                                                // 39\n});                                                                                                                    // 40\nTemplate.bigPicture.helpers({                                                                                          // 42\n    'announcement': function () {                                                                                      // 43\n        return Posts.find({});                                                                                         // 44\n    }                                                                                                                  // 45\n});                                                                                                                    // 42\nTemplate.bigPictureItem.helpers({                                                                                      // 48\n    'imageLink': function () {                                                                                         // 49\n        try {                                                                                                          // 50\n            return Images.findOne({                                                                                    // 51\n                _id: this.imgId                                                                                        // 51\n            }).url();                                                                                                  // 51\n        } catch (e) {}                                                                                                 // 52\n    }                                                                                                                  // 54\n});                                                                                                                    // 48\nTemplate.bottomBar.onRendered(function () {                                                                            // 57\n    $(document).ready(function () {                                                                                    // 58\n        displayTime();                                                                                                 // 59\n        $(\"#rotatingMessage\").Morphext(morphSettings);                                                                 // 60\n    });                                                                                                                // 61\n});                                                                                                                    // 62\n                                                                                                                       //\nfunction displayTime() {                                                                                               // 64\n    var time = moment().format('h:mm');                                                                                // 65\n    $('#clock').html(time);                                                                                            // 66\n    setTimeout(displayTime, 1000);                                                                                     // 67\n}                                                                                                                      // 68\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"blogs.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/blogs.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./blogs.html\"));                                                                                 // 1\nTemplate.blogs.onCreated(function () {                                                                                 // 6\n    Session.set('navTitle', 'Stories');                                                                                // 7\n});                                                                                                                    // 8\nTemplate.blogs.onRendered(function () {                                                                                // 10\n    Tracker.autorun(function () {                                                                                      // 11\n        Meteor.subscribe('blogCategories');                                                                            // 12\n        Meteor.subscribe('posts');                                                                                     // 13\n    });                                                                                                                // 14\n});                                                                                                                    // 15\nTemplate.blogs.helpers({                                                                                               // 17\n    'blogCategories': function () {                                                                                    // 18\n        return BlogCategories.find({});                                                                                // 19\n    }                                                                                                                  // 20\n});                                                                                                                    // 17\nTemplate.blogCategory.helpers({                                                                                        // 23\n    'categoryName': function () {                                                                                      // 24\n        return this.name;                                                                                              // 25\n    },                                                                                                                 // 26\n    'blogPreviews': function () {                                                                                      // 27\n        console.log(this.name);                                                                                        // 28\n        return Posts.find({                                                                                            // 29\n            'type': 'blog',                                                                                            // 30\n            'categories': this.name                                                                                    // 31\n        }, {                                                                                                           // 29\n            limit: 4                                                                                                   // 33\n        });                                                                                                            // 32\n    }                                                                                                                  // 35\n});                                                                                                                    // 23\nTemplate.blogItem.onRendered(function () {});                                                                          // 38\nTemplate.blogItem.helpers({                                                                                            // 41\n    'imageLink': function () {                                                                                         // 42\n        if (this.unsplash) {                                                                                           // 43\n            console.log(this);                                                                                         // 44\n            return this.unsplash.urls.full;                                                                            // 45\n        } else if (this.imgId) {                                                                                       // 46\n            try {                                                                                                      // 47\n                return Images.findOne({                                                                                // 48\n                    _id: this.imgId                                                                                    // 48\n                }).url();                                                                                              // 48\n            } catch (e) {//console.log('error getting photo')                                                          // 49\n            }                                                                                                          // 51\n        }                                                                                                              // 52\n    },                                                                                                                 // 53\n    'writer': function () {                                                                                            // 54\n        return Meteor.users.findOne({                                                                                  // 55\n            _id: this.author                                                                                           // 55\n        }).services.google.name;                                                                                       // 55\n    },                                                                                                                 // 56\n    'date': function () {                                                                                              // 57\n        return moment(this.releasedDate).format(\"MMMM Do YYYY\");                                                       // 58\n    },                                                                                                                 // 59\n    'subtitle': function () {                                                                                          // 60\n        var string = this.subtitle;                                                                                    // 61\n        var length = 40;                                                                                               // 62\n        return string.length > length ? string.substring(0, length - 3) + \"...\" : string;                              // 63\n    }                                                                                                                  // 66\n});                                                                                                                    // 41\nTemplate.blogItem.events({                                                                                             // 69\n    'click .blog-item': function (evt, template) {                                                                     // 70\n        var obj = $(evt.target).closest($('.blog-item'));                                                              // 71\n        var id = obj.attr('id');                                                                                       // 72\n        FlowRouter.go('/blog/' + id);                                                                                  // 73\n    }                                                                                                                  // 74\n});                                                                                                                    // 69\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"course.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/course.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"../lib/charting.js\"));                                                                           // 1\nmodule.watch(require(\"../lib/alert.js\"));                                                                              // 1\nvar Images = void 0;                                                                                                   // 1\nmodule.watch(require(\"../../api/images/images.js\"), {                                                                  // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nmodule.watch(require(\"./course.html\"));                                                                                // 1\nTemplate.course.onRendered(function () {                                                                               // 6\n    Tracker.autorun(function () {                                                                                      // 7\n        var sub = Meteor.subscribe('allCourses', 1000);                                                                // 8\n        Meteor.subscribe('images');                                                                                    // 9\n                                                                                                                       //\n        if (sub.ready()) {                                                                                             // 10\n            var code = Session.get('courseData').data.course.substring(0, Session.get('courseData').data.course.indexOf(\"-\"));\n            var item = Courses.findOne({                                                                               // 12\n                code: code                                                                                             // 13\n            });                                                                                                        // 12\n            setTitle(item.name + ' | ' + Session.get('displayMark'));                                                  // 15\n            Session.set('courseCode', code);                                                                           // 16\n            Meteor.subscribe('postsByCourse', code, 10);                                                               // 17\n        }                                                                                                              // 18\n    });                                                                                                                // 19\n    var k = void 0,                                                                                                    // 20\n        t = void 0,                                                                                                    // 20\n        a = void 0,                                                                                                    // 20\n        c = void 0;                                                                                                    // 20\n    $(document).ready(function () {                                                                                    // 21\n        Tracker.autorun(function () {                                                                                  // 22\n            var marks = Session.get('courseData').categoryMarks;                                                       // 23\n                                                                                                                       //\n            if (marks) {                                                                                               // 24\n                setProgressBar(Session.get('displayMark').substring(1));                                               // 25\n                                                                                                                       //\n                try {                                                                                                  // 26\n                    console.log();                                                                                     // 27\n                    k.data.datasets[0].data = [marks[0], 100 - marks[0]];                                              // 28\n                    t.data.datasets[0].data = [marks[1], 100 - marks[1]];                                              // 29\n                    c.data.datasets[0].data = [marks[2], 100 - marks[2]];                                              // 30\n                    a.data.datasets[0].data = [marks[3], 100 - marks[3]];                                              // 31\n                    k.update();                                                                                        // 32\n                    t.update();                                                                                        // 33\n                    a.update();                                                                                        // 34\n                    c.update();                                                                                        // 35\n                } catch (e) {                                                                                          // 36\n                    console.log('first time graphing');                                                                // 37\n                    k = drawChart('knowledgeChart', marks[0]);                                                         // 38\n                    t = drawChart('thinkingChart', marks[1]);                                                          // 39\n                    a = drawChart('communicationChart', marks[2]);                                                     // 40\n                    c = drawChart('applicationChart', marks[3]);                                                       // 41\n                }                                                                                                      // 42\n            }                                                                                                          // 44\n        });                                                                                                            // 45\n        $(document).scroll(function () {                                                                               // 46\n            $('.performance-progress').each(function () {                                                              // 47\n                $(this).css({                                                                                          // 48\n                    width: $(this).attr('data-progress')                                                               // 48\n                });                                                                                                    // 48\n            });                                                                                                        // 49\n        });                                                                                                            // 50\n        $('.performance-presenter').hide();                                                                            // 51\n    });                                                                                                                // 52\n    $('.insights').hide();                                                                                             // 53\n});                                                                                                                    // 54\nTemplate.course.helpers({                                                                                              // 56\n    'assessment': function () {                                                                                        // 57\n        var arr = Session.get('courseData').data.assessment;                                                           // 58\n        var newArr = [];                                                                                               // 59\n                                                                                                                       //\n        while (arr.length) {                                                                                           // 60\n            newArr.push(arr.splice(0, 2));                                                                             // 60\n        }                                                                                                              // 60\n                                                                                                                       //\n        return newArr;                                                                                                 // 61\n    },                                                                                                                 // 62\n    'percentage': function () {                                                                                        // 63\n        return Math.round(this.mark / this.outOf * 100 * 10) / 10 + \"%\";                                               // 64\n    },                                                                                                                 // 65\n    'readings': function () {                                                                                          // 66\n        return Posts.find({                                                                                            // 67\n            'type': 'blog',                                                                                            // 68\n            organizationsValues: Session.get('courseCode')                                                             // 69\n        });                                                                                                            // 67\n    },                                                                                                                 // 71\n    'imageLink': function () {                                                                                         // 72\n        if (this.unsplash) {                                                                                           // 73\n            return this.unsplash.urls.full;                                                                            // 74\n        } else if (this.imgId) {                                                                                       // 75\n            var id = this.imgId;                                                                                       // 76\n            return Images.findOne({                                                                                    // 77\n                _id: id                                                                                                // 77\n            }).url();                                                                                                  // 77\n        }                                                                                                              // 78\n    },                                                                                                                 // 79\n    'isMobile': function () {                                                                                          // 80\n        return $(window).width() <= 768;                                                                               // 81\n    },                                                                                                                 // 82\n    'culminating': function () {                                                                                       // 83\n        return Session.get('courseData').categories.O * 100 + '%';                                                     // 84\n    }                                                                                                                  // 85\n});                                                                                                                    // 56\nTemplate.course.events({                                                                                               // 88\n    'click .performance': function (evt, template) {                                                                   // 89\n        var choice = $(evt.target).closest($('.performance'));                                                         // 90\n        var assessment = $(evt.target).closest($('.assessment-body'));                                                 // 91\n        var title = assessment.find('.assessment-title').text();                                                       // 92\n        var object = null;                                                                                             // 93\n                                                                                                                       //\n        _.forEach(Session.get('courseData').data.assessment, function (item) {                                         // 94\n            if (item.title === title) {                                                                                // 95\n                object = item;                                                                                         // 96\n            }                                                                                                          // 97\n        });                                                                                                            // 98\n                                                                                                                       //\n        if (!choice.hasClass('not-available')) {                                                                       // 99\n            var data = $(evt.target).closest($('.assessment-performance')).find($('.performance-presenter'));          // 100\n            var section = data.find('.presenter-section');                                                             // 101\n            var achieved = data.find('.achieved');                                                                     // 102\n            var outOf = data.find('.out-of');                                                                          // 103\n            var weight = data.find('.weight');                                                                         // 104\n                                                                                                                       //\n            if (choice.hasClass('knowledge')) {                                                                        // 105\n                data.css({                                                                                             // 106\n                    background: 'linear-gradient(to right, #f7971e, #ffd200)'                                          // 107\n                });                                                                                                    // 106\n                achieved.text(object.K.mark);                                                                          // 109\n                outOf.text(object.K.outOf);                                                                            // 110\n                weight.text(object.K.weight);                                                                          // 111\n                section.text('Knowledge');                                                                             // 112\n            } else if (choice.hasClass('thinking')) {                                                                  // 113\n                data.css({                                                                                             // 114\n                    background: 'linear-gradient(to right, #11998e, #38ef7d)'                                          // 115\n                });                                                                                                    // 114\n                achieved.text(object.T.mark);                                                                          // 117\n                outOf.text(object.T.outOf);                                                                            // 118\n                weight.text(object.T.weight);                                                                          // 119\n                section.text('Thinking');                                                                              // 120\n            } else if (choice.hasClass('communication')) {                                                             // 121\n                data.css({                                                                                             // 122\n                    background: 'linear-gradient(to right, #7F00FF, #E100FF)'                                          // 123\n                });                                                                                                    // 122\n                achieved.text(object.C.mark);                                                                          // 125\n                outOf.text(object.C.outOf);                                                                            // 126\n                weight.text(object.C.weight);                                                                          // 127\n                section.text('Communication');                                                                         // 128\n            } else if (choice.hasClass('application')) {                                                               // 129\n                data.css({                                                                                             // 130\n                    background: 'linear-gradient(to right, #fc4a1a, #f7b733)'                                          // 131\n                });                                                                                                    // 130\n                achieved.text(object.A.mark);                                                                          // 133\n                outOf.text(object.A.outOf);                                                                            // 134\n                weight.text(object.A.weight);                                                                          // 135\n                section.text('Application');                                                                           // 136\n            } else if (choice.hasClass('other')) {                                                                     // 137\n                data.css({                                                                                             // 138\n                    background: 'linear-gradient(to right, #757F9A, #D7DDE8)'                                          // 139\n                });                                                                                                    // 138\n                achieved.text(object.O.mark);                                                                          // 141\n                outOf.text(object.O.outOf);                                                                            // 142\n                weight.text(object.O.weight);                                                                          // 143\n                section.text('Culminating');                                                                           // 144\n            }                                                                                                          // 145\n                                                                                                                       //\n            data.slideDown('fast');                                                                                    // 147\n        }                                                                                                              // 148\n    },                                                                                                                 // 150\n    'click .close-presenter': function (evt, template) {                                                               // 151\n        var data = $(evt.target).closest($('.performance-presenter'));                                                 // 152\n        data.slideUp('fast');                                                                                          // 153\n    },                                                                                                                 // 154\n    'click .filter-btn': function (evt) {                                                                              // 155\n        var filterValue = '.' + $(evt.target).attr('data-tab');                                                        // 156\n        var currentValue = '.' + $('.is-checked').attr('data-tab');                                                    // 157\n        $('.is-checked').removeClass('is-checked');                                                                    // 158\n        $(evt.target).addClass('is-checked');                                                                          // 159\n                                                                                                                       //\n        if (filterValue === '.insights') {                                                                             // 160\n            $(currentValue).fadeOut('fast');                                                                           // 161\n            $('.insights').fadeIn('slow');                                                                             // 162\n            var names = [],                                                                                            // 163\n                marks = [];                                                                                            // 163\n                                                                                                                       //\n            _.forEach(Session.get('courseData').data.assessment, function (item) {                                     // 164\n                names.push(item.title);                                                                                // 165\n            });                                                                                                        // 166\n                                                                                                                       //\n            _.forEach(Session.get('courseData').timeline, function (item) {                                            // 167\n                marks.push(item.mark);                                                                                 // 168\n            });                                                                                                        // 169\n                                                                                                                       //\n            console.log(names, marks);                                                                                 // 170\n            drawPolyChart('markByAssignment', names, marks);                                                           // 171\n            drawPerformChart('sectionMarkByAssignment', ['a', 'b', 'c', 'd'], [90, 88, 85, 99], [88, 90, 99, 78], [100, 89, 67, 88], [99, 99, 89, 86]);\n        } else {                                                                                                       // 173\n            $(currentValue).fadeOut('fast');                                                                           // 174\n            $(filterValue).fadeIn('slow');                                                                             // 175\n        }                                                                                                              // 176\n    }                                                                                                                  // 177\n});                                                                                                                    // 88\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"dashboard.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/dashboard.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./dashboard.html\"));                                                                             // 1\nvar Images = void 0;                                                                                                   // 1\nmodule.watch(require(\"../../api/images/images.js\"), {                                                                  // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\n//import {Suggestions} from '../../api/suggestions/suggestions.js';                                                    // 3\nvar courseSub = void 0;                                                                                                // 4\nvar clubSub = void 0;                                                                                                  // 5\nTemplate.dashboard.onRendered(function () {});                                                                         // 6\nTemplate.dashCategories.onRendered(function () {                                                                       // 8\n    setTitle('Manage Categories');                                                                                     // 9\n});                                                                                                                    // 10\nTemplate.dashHome.onRendered(function () {                                                                             // 11\n    setTitle('Home');                                                                                                  // 12\n    Tracker.autorun(function () {                                                                                      // 13\n        Meteor.subscribe('posts');                                                                                     // 14\n        Meteor.subscribe('categories');                                                                                // 15\n        Meteor.subscribe('blogCategories');                                                                            // 16\n        Meteor.subscribe('images');                                                                                    // 17\n    });                                                                                                                // 18\n});                                                                                                                    // 19\nTemplate.dashSuggestions.onRendered(function () {                                                                      // 20\n    setTitle('Suggestion');                                                                                            // 21\n    Tracker.autorun(function () {                                                                                      // 22\n        Meteor.subscribe('suggestions');                                                                               // 23\n    });                                                                                                                // 24\n});                                                                                                                    // 25\nTemplate.dashOrganizations.onRendered(function () {                                                                    // 26\n    setTitle('Manage Organizations');                                                                                  // 27\n    Tracker.autorun(function () {                                                                                      // 28\n        courseSub = Meteor.subscribeWithPagination('allCourses', 10);                                                  // 29\n        clubSub = Meteor.subscribeWithPagination('allClubs', 10);                                                      // 30\n    });                                                                                                                // 31\n});                                                                                                                    // 32\nTemplate.dashUsers.onRendered(function () {                                                                            // 33\n    setTitle('Manage Organizations');                                                                                  // 34\n    Tracker.autorun(function () {                                                                                      // 35\n        Meteor.subscribe('allUsers');                                                                                  // 36\n    });                                                                                                                // 37\n});                                                                                                                    // 38\nTemplate.dashHome.helpers({                                                                                            // 40\n    'post': function () {                                                                                              // 41\n        return Posts.find({                                                                                            // 42\n            'meta.approved': false,                                                                                    // 43\n            'type': 'announcement',                                                                                    // 44\n            'meta.screeningStage': 0                                                                                   // 45\n        });                                                                                                            // 42\n    },                                                                                                                 // 47\n    'blogPost': function () {                                                                                          // 48\n        return Posts.find({                                                                                            // 49\n            'meta.approved': false,                                                                                    // 50\n            'type': 'blog'                                                                                             // 51\n        });                                                                                                            // 49\n    },                                                                                                                 // 53\n    'writer': function () {                                                                                            // 54\n        //console.log(this);                                                                                           // 55\n        return Meteor.users.findOne({                                                                                  // 56\n            _id: this.author                                                                                           // 56\n        }).services.google.name;                                                                                       // 56\n    },                                                                                                                 // 57\n    'noImage': function () {                                                                                           // 58\n        return this.subType === 'textOnly';                                                                            // 59\n    },                                                                                                                 // 60\n    'imageLink': function () {                                                                                         // 61\n        try {                                                                                                          // 62\n            return Images.findOne({                                                                                    // 63\n                _id: this.imgId                                                                                        // 63\n            }).url();                                                                                                  // 63\n        } catch (e) {//console.log('error getting photo')                                                              // 64\n        }                                                                                                              // 66\n    },                                                                                                                 // 67\n    'hasContent': function () {                                                                                        // 68\n        return this.subType !== 'imageOnly';                                                                           // 69\n    },                                                                                                                 // 70\n    'draftedDate': function () {                                                                                       // 71\n        return moment(this.draftedDate).format(\"MMMM Do YYYY\");                                                        // 72\n    },                                                                                                                 // 73\n    'releaseDate': function () {                                                                                       // 74\n        return moment(this.releaseDate).format(\"MMMM Do YYYY\");                                                        // 75\n    }                                                                                                                  // 76\n});                                                                                                                    // 40\nTemplate.dashAnnouncements.helpers({                                                                                   // 79\n    'post': function () {                                                                                              // 80\n        return Posts.find({                                                                                            // 81\n            'meta.approved': true,                                                                                     // 82\n            'type': 'announcement'                                                                                     // 83\n        });                                                                                                            // 81\n    },                                                                                                                 // 85\n    'blogPost': function () {                                                                                          // 86\n        return Posts.find({                                                                                            // 87\n            'type': 'blog'                                                                                             // 88\n        });                                                                                                            // 87\n    },                                                                                                                 // 90\n    'writer': function () {                                                                                            // 91\n        //console.log(this);                                                                                           // 92\n        return Meteor.users.findOne({                                                                                  // 93\n            _id: this.author                                                                                           // 93\n        }).services.google.name;                                                                                       // 93\n    },                                                                                                                 // 94\n    'noImage': function () {                                                                                           // 95\n        return this.subType === 'textOnly';                                                                            // 96\n    },                                                                                                                 // 97\n    'imageLink': function () {                                                                                         // 98\n        console.log(this);                                                                                             // 99\n                                                                                                                       //\n        try {                                                                                                          // 100\n            return Images.findOne({                                                                                    // 101\n                _id: this.imgId                                                                                        // 101\n            }).url();                                                                                                  // 101\n        } catch (e) {//console.log('error getting photo')                                                              // 102\n        }                                                                                                              // 104\n    },                                                                                                                 // 106\n    'hasContent': function () {                                                                                        // 107\n        return this.subType !== 'imageOnly';                                                                           // 108\n    }                                                                                                                  // 109\n});                                                                                                                    // 79\nTemplate.dashSuggestions.helpers({                                                                                     // 112\n    'suggestion': function () {                                                                                        // 113\n        return Suggestions.find({});                                                                                   // 114\n    },                                                                                                                 // 115\n    'writer': function () {                                                                                            // 116\n        //console.log(this);                                                                                           // 117\n        return Meteor.users.findOne({                                                                                  // 118\n            _id: this.author                                                                                           // 118\n        }).services.google.name;                                                                                       // 118\n    },                                                                                                                 // 119\n    'noImage': function () {                                                                                           // 120\n        return this.imgId === null;                                                                                    // 121\n    },                                                                                                                 // 122\n    'imageLink': function () {                                                                                         // 123\n        try {                                                                                                          // 124\n            return Images.findOne({                                                                                    // 125\n                _id: this.imgId                                                                                        // 125\n            }).url();                                                                                                  // 125\n        } catch (e) {//console.log('error getting photo from Images - dashboard')                                      // 126\n        }                                                                                                              // 128\n    },                                                                                                                 // 129\n    'draftedDate': function () {                                                                                       // 130\n        return moment(this.draftedDate).format(\"MMMM Do YYYY\");                                                        // 131\n    }                                                                                                                  // 132\n});                                                                                                                    // 112\nTemplate.dashSuggestions.events({                                                                                      // 135\n    'click .btn-reject-suggestion': function (evt) {                                                                   // 136\n        var obj = $(evt.target).closest($('.new-post'));                                                               // 137\n        var id = obj.attr('id');                                                                                       // 138\n        Meteor.call('suggestions.removeSuggestions', id, function (err) {                                              // 139\n            if (err) {                                                                                                 // 140\n                alertError(\"Error Occurred When Removing Suggestion\", err.message);                                    // 141\n            }                                                                                                          // 142\n        });                                                                                                            // 143\n    }                                                                                                                  // 144\n});                                                                                                                    // 135\nTemplate.dashCategories.helpers({                                                                                      // 147\n    'category': function () {                                                                                          // 148\n        return Categories.find({});                                                                                    // 149\n    },                                                                                                                 // 150\n    'featured': function () {                                                                                          // 151\n        return this.featured ? 'Yes' : 'No';                                                                           // 152\n    },                                                                                                                 // 153\n    'date': function () {                                                                                              // 154\n        return moment(this.createdDate).format(\"MMMM Do YYYY\");                                                        // 155\n    },                                                                                                                 // 156\n    'blogCategory': function () {                                                                                      // 157\n        return BlogCategories.find({});                                                                                // 158\n    }                                                                                                                  // 159\n});                                                                                                                    // 147\nTemplate.dashUsers.helpers({                                                                                           // 162\n    'userList': function () {                                                                                          // 163\n        return Meteor.users.find({});                                                                                  // 164\n    },                                                                                                                 // 165\n    'img': function () {                                                                                               // 166\n        return this.services.google.picture;                                                                           // 167\n    },                                                                                                                 // 168\n    'name': function () {                                                                                              // 169\n        return this.services.google.name;                                                                              // 170\n    },                                                                                                                 // 171\n    'id': function () {                                                                                                // 172\n        return this._id;                                                                                               // 173\n    }                                                                                                                  // 174\n});                                                                                                                    // 162\nTemplate.dashOrganizations.helpers({                                                                                   // 177\n    'courses': function () {                                                                                           // 178\n        return Courses.find({});                                                                                       // 179\n    },                                                                                                                 // 180\n    'clubs': function () {                                                                                             // 181\n        return Clubs.find({});                                                                                         // 182\n    }                                                                                                                  // 183\n});                                                                                                                    // 177\nTemplate.dashboard.events({                                                                                            // 186\n    'click .new-post': function (evt) {                                                                                // 187\n        var obj = $(evt.target).closest($('.new-post'));                                                               // 188\n        var id = obj.attr('id');                                                                                       // 189\n        Session.set('editingId', id);                                                                                  // 190\n        var info = Posts.findOne({                                                                                     // 191\n            _id: id                                                                                                    // 191\n        });                                                                                                            // 191\n        Session.set('dashEditorData', info);                                                                           // 192\n        if (!$(evt.target).attr('class').includes('btn-reject') && !$(evt.target).attr('class').includes('btn-approve')) Modal.show('dashPostEditor');\n    },                                                                                                                 // 196\n    'click .btn-approve': function (evt) {                                                                             // 197\n        var obj = $(evt.target).closest($('.new-post'));                                                               // 198\n        var id = obj.attr('id');                                                                                       // 199\n        Meteor.call('posts.approvePost', id, function (err) {                                                          // 200\n            if (err) {                                                                                                 // 201\n                alertError(\"Error Occurred When Approving Post\", err.message);                                         // 202\n            }                                                                                                          // 203\n        }); //Post on Facebook                                                                                         // 204\n        /*setupFacebook(function(err, response) {                                                                      // 206\n         if (err) {                                                                                                    //\n         console.log(err);                                                                                             //\n         } else {                                                                                                      //\n         let post = Session.get('dashEditorData');                                                                     //\n         let type = post.type;                                                                                         //\n         if (type === 'announcement') {                                                                                //\n         let subType = post.subType;                                                                                   //\n         if (subType === 'textOnly') {                                                                                 //\n         postTextFacebook(post);                                                                                       //\n         } else if (subType === 'imageOnly') {                                                                         //\n         postImageFacebook(post);                                                                                      //\n         } else {                                                                                                      //\n         postTextImageFacebook(post);                                                                                  //\n         }                                                                                                             //\n         }                                                                                                             //\n         }                                                                                                             //\n         });*/                                                                                                         //\n    },                                                                                                                 // 224\n    'click .btn-reject': function (evt) {                                                                              // 225\n        var obj = $(evt.target).closest($('.new-post'));                                                               // 226\n        var id = obj.attr('id');                                                                                       // 227\n        var reason = null;                                                                                             // 228\n        alertPrompt(\"Please give the reason of rejection\", function (result) {                                         // 229\n            if (result) {                                                                                              // 230\n                Meteor.call('posts.rejectPost', id, result, function (err) {                                           // 231\n                    if (err) {                                                                                         // 232\n                        alertError(\"Error Occurred When Removing Post\", err.message);                                  // 233\n                    }                                                                                                  // 234\n                });                                                                                                    // 235\n            }                                                                                                          // 236\n        });                                                                                                            // 237\n    }                                                                                                                  // 239\n});                                                                                                                    // 186\nTemplate.dashCategories.events({                                                                                       // 242\n    'click .btn-create-category': function (evt) {                                                                     // 243\n        if ($(evt.target).attr('data-category') === 'blog') {                                                          // 244\n            Session.set('editingBlogCategory', true);                                                                  // 245\n        } else Session.set('editingBlogCategory', false);                                                              // 246\n                                                                                                                       //\n        Modal.show('dashCategoryEditor');                                                                              // 247\n    },                                                                                                                 // 248\n    'click .btn-delete-category': function (evt) {                                                                     // 249\n        var obj = $(evt.target).closest($('.dash-category-container'));                                                // 250\n        var type = obj.attr('data-category');                                                                          // 251\n        var id = obj.attr('id');                                                                                       // 252\n                                                                                                                       //\n        if (type === 'blog') {                                                                                         // 253\n            Meteor.call('blogCategory.remove', id, function (err) {                                                    // 254\n                if (err) {                                                                                             // 255\n                    alertError('Something Terrible Happened...', err.message);                                         // 256\n                }                                                                                                      // 257\n            });                                                                                                        // 258\n        } else {                                                                                                       // 259\n            Meteor.call('category.remove', id, function (err) {                                                        // 260\n                if (err) {                                                                                             // 261\n                    alertError('Something Terrible Happened...', err.message);                                         // 262\n                }                                                                                                      // 263\n            });                                                                                                        // 264\n        }                                                                                                              // 265\n    }                                                                                                                  // 266\n});                                                                                                                    // 242\nTemplate.dashUsers.events({                                                                                            // 269\n    'click .btn-modify-roles': function (evt) {                                                                        // 270\n        var obj = $(evt.target).closest($('.dash-user-container'));                                                    // 271\n        var id = obj.attr('id');                                                                                       // 272\n        Session.set('editingUser', Meteor.users.findOne({                                                              // 273\n            _id: id                                                                                                    // 273\n        }));                                                                                                           // 273\n        Modal.show('dashRoleEditor');                                                                                  // 274\n    },                                                                                                                 // 275\n    'click .btn-ban-user': function (evt) {                                                                            // 276\n        var obj = $(evt.target).closest($('.dash-user-container'));                                                    // 277\n        var id = obj.attr('id');                                                                                       // 278\n        alertPrompt(\"This doesn't have to happen. Please give a reason for the banning.\", function (result) {          // 279\n            Meteor.call('accounts.ban', id, result, function (err) {                                                   // 280\n                if (err) {                                                                                             // 281\n                    alertError(\"Failed to ban user\", err.message);                                                     // 282\n                } else {                                                                                               // 283\n                    alertSuccess(\"User has been successfully banned\", \"\");                                             // 284\n                }                                                                                                      // 285\n            });                                                                                                        // 286\n        });                                                                                                            // 287\n    }                                                                                                                  // 288\n});                                                                                                                    // 269\nTemplate.dashOrganizations.events({                                                                                    // 291\n    'click #uploadCourses': function () {                                                                              // 292\n        var names = $('#courseNames').val();                                                                           // 293\n        var codes = $('#courseCodes').val();                                                                           // 294\n        Meteor.call('courses.addSeveral', names, codes, function (err) {                                               // 295\n            if (err) {                                                                                                 // 296\n                alertError(\"Failed\", err.message);                                                                     // 297\n            } else {                                                                                                   // 298\n                alertSuccess('yeah', 'it didnt fail.');                                                                // 299\n            }                                                                                                          // 300\n        });                                                                                                            // 301\n    },                                                                                                                 // 302\n    'click #coursesLoadMore': function () {                                                                            // 303\n        courseSub.loadNextPage();                                                                                      // 304\n        clubSub.loadNextPage();                                                                                        // 305\n    },                                                                                                                 // 306\n    'click #createNewClub': function () {                                                                              // 307\n        Modal.show('dashClubEditor');                                                                                  // 308\n    },                                                                                                                 // 309\n    'click .btn-delete': function (evt) {                                                                              // 310\n        var obj = $(evt.target).closest($('.editor-options'));                                                         // 311\n        var type = obj.attr('data-category');                                                                          // 312\n        var id = obj.attr('id');                                                                                       // 313\n                                                                                                                       //\n        if (type === 'club') {                                                                                         // 314\n            Meteor.call('clubs.remove', id, function (err) {                                                           // 315\n                if (err) {                                                                                             // 316\n                    alertError('Something Terrible Happened...', err.message);                                         // 317\n                }                                                                                                      // 318\n            });                                                                                                        // 319\n        } else {                                                                                                       // 320\n            Meteor.call('course.remove', id, function (err) {                                                          // 321\n                if (err) {                                                                                             // 322\n                    alertError('Something Terrible Happened...', err.message);                                         // 323\n                }                                                                                                      // 324\n            });                                                                                                        // 325\n        }                                                                                                              // 326\n    }                                                                                                                  // 327\n});                                                                                                                    // 291\nTemplate.dashRoleEditor.onRendered(function () {                                                                       // 330\n    var data = Session.get('editingUser');                                                                             // 331\n    console.log(data);                                                                                                 // 332\n    $(document).ready(function () {                                                                                    // 333\n        $('#newUserRoles').select2({                                                                                   // 334\n            placeholder: \"Click to select...\",                                                                         // 335\n            allowClear: false                                                                                          // 336\n        });                                                                                                            // 334\n        $(\"#newUserRoles\").val(data.roles).trigger(\"change\");                                                          // 338\n    });                                                                                                                // 339\n});                                                                                                                    // 340\nTemplate.dashRoleEditor.helpers({                                                                                      // 342\n    'name': function () {                                                                                              // 343\n        return Session.get('editingUser').services.google.name;                                                        // 344\n    }                                                                                                                  // 345\n});                                                                                                                    // 342\nTemplate.dashRoleEditor.events({                                                                                       // 348\n    'submit .dash-role-edit': function (evt) {                                                                         // 349\n        var data = Session.get('editingUser');                                                                         // 350\n        evt.preventDefault();                                                                                          // 351\n        console.log($('#newUserRoles').val());                                                                         // 352\n        Meteor.call('addUserToRole', data._id, $('#newUserRoles').val(), function (err) {                              // 353\n            if (err) {                                                                                                 // 354\n                alertError(\"Role Modification Failed!\", err.message);                                                  // 355\n            } else {                                                                                                   // 356\n                Modal.hide('dashRoleEditor');                                                                          // 357\n                alertSuccess(\"Success!\", \"User Role has been successfully modified!\");                                 // 358\n            }                                                                                                          // 359\n        });                                                                                                            // 360\n    }                                                                                                                  // 361\n});                                                                                                                    // 348\nTemplate.dashClubEditor.onRendered(function () {                                                                       // 364\n    var drop = initDropZone('newClubImage', {                                                                          // 365\n        number: 1,                                                                                                     // 366\n        size: 10,                                                                                                      // 367\n        message: \"Drop your image here or click to use the file browser\"                                               // 368\n    });                                                                                                                // 365\n});                                                                                                                    // 370\nTemplate.dashCategoryEditor.onRendered(function () {                                                                   // 372\n    var drop = initDropZone('newCategoryImage', {                                                                      // 373\n        number: 1,                                                                                                     // 374\n        size: 10,                                                                                                      // 375\n        message: \"Drop your image here or click to use the file browser\"                                               // 376\n    });                                                                                                                // 373\n});                                                                                                                    // 378\nTemplate.dashPostEditor.onRendered(function () {                                                                       // 380\n    var data = Session.get('dashEditorData');                                                                          // 381\n                                                                                                                       //\n    if (data.subType === 'imageOnly') {                                                                                // 382\n        $('#newPostBody').hide();                                                                                      // 383\n    } else {                                                                                                           // 384\n        $('#newPostBody').val(data.content);                                                                           // 385\n    }                                                                                                                  // 386\n                                                                                                                       //\n    $('#newPostHeadline').val(data.headline);                                                                          // 387\n    $(\"#newPostTags\").tagsinput('items');                                                                              // 388\n                                                                                                                       //\n    _.forEach(data.tags, function (item) {                                                                             // 389\n        $('#newPostTags').tagsinput('add', item);                                                                      // 390\n    });                                                                                                                // 391\n                                                                                                                       //\n    Tracker.autorun(function () {                                                                                      // 393\n        var categorySub = Meteor.subscribe('categories');                                                              // 394\n                                                                                                                       //\n        if (categorySub.ready()) {                                                                                     // 395\n            var categories = Categories.find({});                                                                      // 396\n            categories.observeChanges({                                                                                // 397\n                added: function (id, fields) {                                                                         // 398\n                    var newCat = new Option(fields.name, fields.name);                                                 // 399\n                    $('#newPostCategories').append(newCat);                                                            // 400\n                }                                                                                                      // 401\n            });                                                                                                        // 397\n            $(\"#newPostCategories\").val(data.categories).trigger(\"change\");                                            // 403\n        }                                                                                                              // 404\n    });                                                                                                                // 405\n    $(document).ready(function () {                                                                                    // 406\n        $('#newPostCategories').select2({                                                                              // 407\n            placeholder: \"Click to select matching categories\",                                                        // 408\n            allowClear: true                                                                                           // 409\n        });                                                                                                            // 407\n    });                                                                                                                // 411\n});                                                                                                                    // 412\nTemplate.dashCategoryEditor.events({                                                                                   // 414\n    'submit .dash-category-edit': function (evt) {                                                                     // 415\n        evt.preventDefault();                                                                                          // 416\n        var json = {                                                                                                   // 417\n            name: $('#newCategoryName').val(),                                                                         // 418\n            description: $('#newCategoryDescription').val(),                                                           // 419\n            imgId: Session.get('categoryImageId'),                                                                     // 420\n            featured: $('#newCategoryFeatured').is(':checked')                                                         // 421\n        }; //console.log(json);                                                                                        // 417\n                                                                                                                       //\n        if (!Session.get('editingBlogCategory')) {                                                                     // 424\n            Meteor.call('category.addNew', json, function (err) {                                                      // 425\n                Modal.hide('dashCategoryEditor');                                                                      // 426\n                                                                                                                       //\n                if (err) {                                                                                             // 427\n                    alertError('Something Wrong Happened...', err.message);                                            // 428\n                }                                                                                                      // 429\n            });                                                                                                        // 430\n        } else {                                                                                                       // 431\n            Meteor.call('blogCategory.addNew', json, function (err) {                                                  // 432\n                Modal.hide('dashCategoryEditor');                                                                      // 433\n                                                                                                                       //\n                if (err) {                                                                                             // 434\n                    alertError('Something Wrong Happened...', err.message);                                            // 435\n                }                                                                                                      // 436\n            });                                                                                                        // 437\n        }                                                                                                              // 438\n    }                                                                                                                  // 440\n});                                                                                                                    // 414\nTemplate.dashClubEditor.events({                                                                                       // 443\n    'submit .dash-club-edit': function (evt) {                                                                         // 444\n        evt.preventDefault();                                                                                          // 445\n        var json = {                                                                                                   // 446\n            name: $('#newClubName').val(),                                                                             // 447\n            description: $('#newClubDescription').val(),                                                               // 448\n            room: $('#newClubRoom').val(),                                                                             // 449\n            schedule: $('#newClubSchedule').val(),                                                                     // 450\n            imgId: Session.get('categoryImageId')                                                                      // 451\n        };                                                                                                             // 446\n        Meteor.call('clubs.add', json, function (err) {                                                                // 453\n            if (err) {                                                                                                 // 454\n                alertError(\"Error Creating Club\", err.message);                                                        // 455\n            } else {                                                                                                   // 456\n                Modal.hide('dashClubEditor');                                                                          // 457\n                alertSuccess(\"Yah!\", \"Club successfully created!\");                                                    // 458\n            }                                                                                                          // 459\n        });                                                                                                            // 460\n    }                                                                                                                  // 461\n});                                                                                                                    // 443\nTemplate.dashPostEditor.events({                                                                                       // 464\n    'submit .dash-announcement-edit': function (evt) {                                                                 // 465\n        evt.preventDefault();                                                                                          // 466\n        var separators = [' , ', ', ', ',', ' ,'];                                                                     // 467\n        var tags = $('#newPostTags').val().split(new RegExp(separators.join('|'), 'g'));                               // 468\n        var json = {                                                                                                   // 469\n            headline: $('#newPostHeadline').val(),                                                                     // 470\n            content: $('#newPostBody').val(),                                                                          // 471\n            tags: tags                                                                                                 // 472\n        };                                                                                                             // 469\n        Posts.update({                                                                                                 // 474\n            _id: Session.get('editingId')                                                                              // 474\n        }, {                                                                                                           // 474\n            $set: json                                                                                                 // 474\n        });                                                                                                            // 474\n        Modal.hide();                                                                                                  // 475\n    }                                                                                                                  // 476\n});                                                                                                                    // 464\n                                                                                                                       //\nfunction initDropZone(id, info) {                                                                                      // 480\n    return new Dropzone(\"form#\" + id, {                                                                                // 481\n        maxFiles: info.number || 1,                                                                                    // 482\n        maxFilesize: info.size || 8,                                                                                   // 483\n        thumbnailWidth: 400,                                                                                           // 484\n        addRemoveLinks: true,                                                                                          // 485\n        dictDefaultMessage: info.message || \"Drop your image here, or click to select an image using the browser.\",    // 486\n        accept: function (file, done) {                                                                                // 487\n            var FSFile = new FS.File(file);                                                                            // 488\n            Images.insert(FSFile, function (err, fileObj) {                                                            // 490\n                if (err) {                                                                                             // 491\n                    console.log(err);                                                                                  // 492\n                } else {                                                                                               // 493\n                    //remove the currently uploaded image                                                              // 494\n                    //if there is none, this will not do anything                                                      // 495\n                    Images.remove({                                                                                    // 496\n                        _id: Session.get('newImageId')                                                                 // 496\n                    }, function (err) {                                                                                // 496\n                        if (err) {                                                                                     // 497\n                            console.log(\"error removing image:\\n\" + err);                                              // 498\n                        }                                                                                              // 499\n                    }); //retreive file extension                                                                      // 500\n                                                                                                                       //\n                    hasUnsplash = false;                                                                               // 502\n                    Session.set('newFileType', fileObj.extension()); //update the file type                            // 503\n                                                                                                                       //\n                    Session.set('categoryImageId', fileObj._id); //update the image id to current image                // 504\n                                                                                                                       //\n                    done();                                                                                            // 505\n                }                                                                                                      // 506\n            });                                                                                                        // 507\n        }                                                                                                              // 508\n    });                                                                                                                // 481\n}                                                                                                                      // 510\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"details.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/details.js                                                                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar Images = void 0;                                                                                                   // 1\nmodule.watch(require(\"../../api/images/images.js\"), {                                                                  // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nmodule.watch(require(\"./details.html\"));                                                                               // 1\nTemplate.details.onCreated(function () {                                                                               // 4\n    var data = Session.get('post_data');                                                                               // 5\n    Session.set('navTitle', data.title);                                                                               // 6\n});                                                                                                                    // 7\nTemplate.details.onRendered(function () {});                                                                           // 9\nTemplate.details.helpers({                                                                                             // 12\n    'name': function () {                                                                                              // 13\n        return Session.get('name');                                                                                    // 14\n    },                                                                                                                 // 15\n    'picture': function () {                                                                                           // 16\n        return Session.get('user_img');                                                                                // 17\n    },                                                                                                                 // 18\n    'postSubtitle': function () {                                                                                      // 19\n        var data = Session.get('post_data');                                                                           // 20\n        return data.subtitle;                                                                                          // 21\n    },                                                                                                                 // 22\n    'postBody': function () {                                                                                          // 23\n        var data = Session.get('post_data');                                                                           // 24\n        return data.content;                                                                                           // 25\n    },                                                                                                                 // 26\n    'postTags': function () {                                                                                          // 27\n        var data = Session.get('post_data');                                                                           // 28\n        return data.tags;                                                                                              // 29\n    },                                                                                                                 // 30\n    'postSplash': function () {                                                                                        // 31\n        var data = Session.get('post_data');                                                                           // 32\n                                                                                                                       //\n        if (data.meta.hasUnsplash) {                                                                                   // 33\n            Meteor.call('setupUnsplash', function (err) {                                                              // 34\n                if (err) {                                                                                             // 35\n                    console.log(err);                                                                                  // 36\n                } else {                                                                                               // 37\n                    Meteor.call('getPhoto', data.imgId, function (err, data) {                                         // 38\n                        if (err) {                                                                                     // 39\n                            console.log(err);                                                                          // 40\n                        } else {                                                                                       // 41\n                            console.log(data.urls.full);                                                               // 42\n                            $('.post-header').css('background-image', \"url(\" + data.urls.full + \")\");                  // 43\n                            return data.urls.full;                                                                     // 44\n                        }                                                                                              // 45\n                    });                                                                                                // 46\n                }                                                                                                      // 47\n            });                                                                                                        // 48\n        } else {                                                                                                       // 49\n            Tracker.autorun(function () {                                                                              // 50\n                var image = Images.findOne({                                                                           // 51\n                    _id: data.imgId                                                                                    // 51\n                });                                                                                                    // 51\n                                                                                                                       //\n                if (image) {                                                                                           // 52\n                    var url = image.url();                                                                             // 53\n                    $('.post-header').css('background-image', \"url(\" + url + \")\");                                     // 54\n                    return true;                                                                                       // 55\n                }                                                                                                      // 56\n            });                                                                                                        // 57\n        }                                                                                                              // 58\n    }                                                                                                                  // 59\n});                                                                                                                    // 12\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"firstTime.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/firstTime.js                                                                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./firstTime.html\"));                                                                             // 1\nTemplate.firstTime.onRendered(function () {                                                                            // 6\n    Tracker.autorun(function () {                                                                                      // 7\n        var courseSub = Meteor.subscribe('allCourses', 1000);                                                          // 8\n        var clubSub = Meteor.subscribe('allClubs', 1000);                                                              // 9\n                                                                                                                       //\n        if (courseSub.ready() && clubSub.ready()) {                                                                    // 10\n            var courses = Courses.find({});                                                                            // 11\n            var clubs = Clubs.find({});                                                                                // 12\n            courses.observeChanges({                                                                                   // 13\n                added: function (id, fields) {                                                                         // 14\n                    var newCat = new Option(fields.name + \" - \" + fields.code, fields.code);                           // 15\n                    $('#firstCourseSelect').append(newCat);                                                            // 16\n                }                                                                                                      // 17\n            });                                                                                                        // 13\n            clubs.observeChanges({                                                                                     // 19\n                added: function (id, fields) {                                                                         // 20\n                    var newCat = new Option(fields.name, fields.code);                                                 // 21\n                    $('#firstClubSelect').append(newCat);                                                              // 22\n                }                                                                                                      // 23\n            });                                                                                                        // 19\n        }                                                                                                              // 25\n    });                                                                                                                // 26\n    $('#firstCourseSelect').select2({                                                                                  // 27\n        placeholder: \"Click to select matching categories\",                                                            // 28\n        allowClear: true                                                                                               // 29\n    });                                                                                                                // 27\n    $('#firstClubSelect').select2({                                                                                    // 31\n        placeholder: \"Click to select matching categories\",                                                            // 32\n        allowClear: true                                                                                               // 33\n    });                                                                                                                // 31\n});                                                                                                                    // 35\nTemplate.firstTime.events({                                                                                            // 37\n    'click #startFirst': function (evt, template) {                                                                    // 38\n        evt.preventDefault();                                                                                          // 39\n        swapElements('#firstIntro', '#teachIntro');                                                                    // 40\n        swapElements('#beginIntro', '#teachAssistInfo');                                                               // 41\n    },                                                                                                                 // 42\n    'click #skipNext': function (evt, template) {                                                                      // 43\n        evt.preventDefault();                                                                                          // 44\n        swapElements('#teachIntro', '#emailIntro');                                                                    // 45\n        swapElements('#teachAssistInfo', '#subscriptionEmail');                                                        // 46\n    },                                                                                                                 // 47\n    'click #skipEmail': function (evt, template) {                                                                     // 48\n        evt.preventDefault();                                                                                          // 49\n        var user = Meteor.user();                                                                                      // 50\n        $('#introName').val(user.services.google.name);                                                                // 51\n        $('#introStudentNum').val(user.profile.student_number);                                                        // 52\n        $('#introSubEmail').val(user.profile.email);                                                                   // 53\n        swapElements('#emailIntro', '#confirmIntro');                                                                  // 54\n        swapElements('#subscriptionEmail', '#confirmDetails');                                                         // 55\n    },                                                                                                                 // 56\n    'submit #teachAssistForm': function (evt) {                                                                        // 57\n        evt.preventDefault();                                                                                          // 58\n        var user = $('#teachUser').val();                                                                              // 59\n        var pass = $('#teachPass').val();                                                                              // 60\n        $('.teach-assist-login').fadeOut('fast', function () {                                                         // 61\n            $('.teachLoader').fadeIn('slow');                                                                          // 62\n        });                                                                                                            // 63\n        Meteor.call('getTeachAssistTokens', {                                                                          // 64\n            student_number: user,                                                                                      // 64\n            password: pass                                                                                             // 64\n        }, function (err, data) {                                                                                      // 64\n            if (err) {                                                                                                 // 65\n                alertError(\"Failed to connect with teach assist\", err.message);                                        // 66\n                $('.teachLoader').fadeOut('fast', function () {                                                        // 67\n                    $('.teach-assist-login').fadeIn('slow');                                                           // 68\n                });                                                                                                    // 69\n            } else {                                                                                                   // 70\n                Meteor.users.update({                                                                                  // 71\n                    _id: Meteor.userId()                                                                               // 71\n                }, {                                                                                                   // 71\n                    $set: {                                                                                            // 71\n                        \"private.token\": data,                                                                         // 71\n                        \"private.tokenDate\": new Date()                                                                // 71\n                    }                                                                                                  // 71\n                }, function (err) {                                                                                    // 71\n                    if (err) {                                                                                         // 72\n                        alertError(\"Something went wrong\", \"You can connect your account anytime later\");              // 73\n                        swapElements('#teachIntro', '#emailIntro');                                                    // 74\n                        swapElements('#teachAssistInfo', '#subscriptionEmail');                                        // 75\n                    } else {                                                                                           // 76\n                        Meteor.users.update({                                                                          // 77\n                            _id: Meteor.userId()                                                                       // 77\n                        }, {                                                                                           // 77\n                            $set: {                                                                                    // 77\n                                \"profile.student_number\": user                                                         // 77\n                            }                                                                                          // 77\n                        });                                                                                            // 77\n                        Meteor.call('getTeachAssistCourses', data, function (err, data) {                              // 78\n                            if (err) {                                                                                 // 79\n                                alertError(\"Something went wrong\", \"You can connect your account anytime later\");      // 80\n                                swapElements('#teachIntro', '#emailIntro');                                            // 81\n                                swapElements('#teachAssistInfo', '#subscriptionEmail');                                // 82\n                            } else {                                                                                   // 83\n                                Meteor.users.update({                                                                  // 84\n                                    _id: Meteor.userId()                                                               // 84\n                                }, {                                                                                   // 84\n                                    $set: {                                                                            // 84\n                                        \"private.courses\": data                                                        // 84\n                                    }                                                                                  // 84\n                                });                                                                                    // 84\n                                alertSuccess(\"Yeah!\", 'We have successfully connected you and teach assist, however further login will be required since token may expire.');\n                                swapElements('#teachIntro', '#emailIntro');                                            // 86\n                                swapElements('#teachAssistInfo', '#subscriptionEmail');                                // 87\n                            }                                                                                          // 88\n                        });                                                                                            // 89\n                    }                                                                                                  // 90\n                });                                                                                                    // 91\n            }                                                                                                          // 92\n        });                                                                                                            // 93\n    },                                                                                                                 // 94\n    'submit #organizationsForm': function (evt) {                                                                      // 95\n        evt.preventDefault();                                                                                          // 96\n        var courses = $('#firstCourseSelect').val();                                                                   // 97\n        var clubs = $('#firstClubSelect').val();                                                                       // 98\n        Meteor.users.update({                                                                                          // 99\n            _id: Meteor.userId()                                                                                       // 99\n        }, {                                                                                                           // 99\n            $set: {                                                                                                    // 99\n                \"profile.courses\": courses,                                                                            // 99\n                \"profile.clubs\": clubs                                                                                 // 99\n            }                                                                                                          // 99\n        }, function (err) {                                                                                            // 99\n            if (err) {                                                                                                 // 100\n                alertError(\"Error Occurred when updating your profile\", err.message);                                  // 101\n            } else {                                                                                                   // 102\n                alertSuccess(\"Thank you!\", \"We have recorded the information you provided\");                           // 103\n            }                                                                                                          // 104\n        });                                                                                                            // 105\n    },                                                                                                                 // 106\n    'submit #newsletterEmailForm': function (evt) {                                                                    // 107\n        evt.preventDefault();                                                                                          // 108\n        var email = $('#personalEmail').val();                                                                         // 109\n        var userInfo = Meteor.user().services.google;                                                                  // 110\n                                                                                                                       //\n        if (!validateEmail(email)) {                                                                                   // 111\n            alertError(\"Sorry...\", \"The email you entered is unacceptable.\");                                          // 112\n        } else {                                                                                                       // 113\n            Meteor.call('news.addSubscriber', email, userInfo.given_name, userInfo.family_name, function (err) {       // 114\n                if (err) {                                                                                             // 115\n                    alertError(\"Something went wrong\", err.message + \"\\nYou can subscribe to the newsletter anytime later.\");\n                } else {                                                                                               // 117\n                    Session.set('personalEmail', email);                                                               // 118\n                    alertSuccess(\"Great!\", \"We have signed you up for newsletters!\");                                  // 119\n                    swapElements('#emailIntro', '#confirmIntro');                                                      // 120\n                    swapElements('#subscriptionEmail', '#confirmDetails');                                             // 121\n                }                                                                                                      // 122\n            });                                                                                                        // 123\n        }                                                                                                              // 124\n    },                                                                                                                 // 125\n    'submit #finalForm': function (evt, template) {                                                                    // 126\n        evt.preventDefault();                                                                                          // 127\n                                                                                                                       //\n        if (document.getElementById('checkboxTerms').checked) {                                                        // 128\n            var id = Meteor.userId();                                                                                  // 129\n            Meteor.call('initUserProfile', id, function (err) {                                                        // 130\n                if (err) {                                                                                             // 131\n                    alertError('Error Initiating Your Account', err.message);                                          // 132\n                } else {                                                                                               // 133\n                    swapElements('.wizard-container', '.final-message');                                               // 134\n                    setTimeout(function () {                                                                           // 135\n                        FlowRouter.go('/');                                                                            // 136\n                    }, 3000);                                                                                          // 137\n                }                                                                                                      // 138\n            });                                                                                                        // 139\n        } else {                                                                                                       // 140\n            alertError(\"Oops.\", \"Please agree to the terms of service.\");                                              // 141\n        }                                                                                                              // 142\n    }                                                                                                                  // 144\n});                                                                                                                    // 37\n                                                                                                                       //\nfunction swapElements(a, b) {                                                                                          // 147\n    $(a).fadeOut('fast', function () {                                                                                 // 148\n        $(this).replaceWith($(b));                                                                                     // 149\n        $(b).fadeIn(\"slow\");                                                                                           // 150\n    });                                                                                                                // 151\n}                                                                                                                      // 152\n                                                                                                                       //\nfunction validateEmail(email) {                                                                                        // 153\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);                                                                                             // 155\n}                                                                                                                      // 156\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"login.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/login.js                                                                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./login.html\"));                                                                                 // 1\nTemplate.login.onRendered(function () {                                                                                // 6\n    //disable register and hid all error prompts when the page initializes                                             // 7\n    $('.email-warning').hide();                                                                                        // 8\n    $('#registerSubmit').prop('disabled', true);                                                                       // 9\n}); /**                                                                                                                // 10\n     * This function defines all the events on the login page.*/                                                       //\nTemplate.login.events({                                                                                                // 15\n    //toggle between register and login form                                                                           // 16\n    'click .operation': function () {                                                                                  // 17\n        $('form').animate({                                                                                            // 18\n            height: \"toggle\",                                                                                          // 18\n            opacity: \"toggle\"                                                                                          // 18\n        }, \"slow\");                                                                                                    // 18\n    },                                                                                                                 // 19\n    'submit .login-form': function (evt) {                                                                             // 20\n        evt.preventDefault();                                                                                          // 21\n        var email = evt.target.email.value;                                                                            // 22\n        var pass = evt.target.password.value;                                                                          // 23\n        Meteor.loginWithPassword(email, pass, function (err) {                                                         // 24\n            if (err) {                                                                                                 // 25\n                console.log(err);                                                                                      // 26\n            } else {}                                                                                                  // 27\n        });                                                                                                            // 30\n    },                                                                                                                 // 32\n    'submit .register-form': function (evt) {                                                                          // 33\n        var email = evt.target.registerEmail.value;                                                                    // 34\n        var firstName = evt.target.firstName.value;                                                                    // 35\n        var lastName = evt.target.lastName.value;                                                                      // 36\n        var pass = evt.target.registerPassword.value;                                                                  // 37\n        Accounts.createUser({                                                                                          // 38\n            username: firstName + lastName,                                                                            // 39\n            email: email,                                                                                              // 40\n            password: pass,                                                                                            // 41\n            profile: {                                                                                                 // 42\n                firstName: firstName,                                                                                  // 43\n                lastName: lastName,                                                                                    // 44\n                fullName: firstName + \" \" + lastName,                                                                  // 45\n                homeRoom: 0,                                                                                           // 46\n                picture: null                                                                                          // 47\n            }                                                                                                          // 42\n        }, function (err) {                                                                                            // 38\n            if (err) {                                                                                                 // 50\n                alert(\"error\");                                                                                        // 51\n                console.log(err);                                                                                      // 52\n            } else {                                                                                                   // 53\n                console.log(\"Success\");                                                                                // 54\n            }                                                                                                          // 55\n        });                                                                                                            // 56\n    },                                                                                                                 // 57\n    'click #googleLogin': function () {                                                                                // 58\n        Meteor.loginWithGoogle({                                                                                       // 59\n            loginStyle: \"redirect\",                                                                                    // 60\n            requestPermissions: ['profile', 'email']                                                                   // 61\n        }, function (err) {                                                                                            // 59\n            if (err) {                                                                                                 // 63\n                alertError(\"Sorry...\", err.message);                                                                   // 64\n            }                                                                                                          // 65\n        });                                                                                                            // 66\n    },                                                                                                                 // 67\n    'keyup #registerEmail': function (evt) {                                                                           // 68\n        evt.preventDefault();                                                                                          // 69\n        var email = evt.target.value;                                                                                  // 70\n                                                                                                                       //\n        if (validateEmail(email)) {                                                                                    // 71\n            $('.email-warning').hide();                                                                                // 72\n            $('#registerSubmit').prop('disabled', false);                                                              // 73\n        } else {                                                                                                       // 74\n            $('.email-warning').show();                                                                                // 75\n            $('#registerSubmit').prop('disabled', true);                                                               // 76\n        }                                                                                                              // 77\n    }                                                                                                                  // 78\n}); /**                                                                                                                // 15\n     * This local method validates the state of a String to see if it is a proper email                                //\n     * **/                                                                                                             //\n                                                                                                                       //\nfunction validateEmail(email) {                                                                                        // 83\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);                                                                                             // 85\n}                                                                                                                      // 86\n                                                                                                                       //\nAccounts.onLogin(function () {                                                                                         // 88\n    var redirect = Session.get('redirectAfterLogin');                                                                  // 89\n                                                                                                                       //\n    if (redirect) {                                                                                                    // 90\n        if (redirect !== '/login') {                                                                                   // 91\n            FlowRouter.go(redirect);                                                                                   // 92\n        }                                                                                                              // 93\n    } else {//FlowRouter.go('/');                                                                                      // 94\n    }                                                                                                                  // 96\n});                                                                                                                    // 97\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"stream.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/stream.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar imagesLoaded = void 0;                                                                                             // 1\nmodule.watch(require(\"imagesloaded\"), {                                                                                // 1\n    \"default\": function (v) {                                                                                          // 1\n        imagesLoaded = v;                                                                                              // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\nmodule.watch(require(\"./stream.html\"));                                                                                // 1\nvar Images = void 0;                                                                                                   // 1\nmodule.watch(require(\"../../api/images/images.js\"), {                                                                  // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 1);                                                                                                                 // 1\nvar isotopeSettings = {                                                                                                // 7\n    itemSelector: '.grid-item',                                                                                        // 8\n    percentPosition: true,                                                                                             // 9\n    masonry: {                                                                                                         // 10\n        columnWidth: '.grid-sizer',                                                                                    // 11\n        gutter: '.gutter-sizer'                                                                                        // 12\n    }                                                                                                                  // 10\n};                                                                                                                     // 7\nTemplate.stream.onRendered(function () {                                                                               // 15\n    var $grid = $('.grid');                                                                                            // 16\n    Tracker.autorun(function () {                                                                                      // 17\n        var postSub = Meteor.subscribe('announcements', 10, Meteor.userId());                                          // 18\n        var categorySub = Meteor.subscribe('categories');                                                              // 19\n        var imageSub = Meteor.subscribe('images');                                                                     // 20\n                                                                                                                       //\n        if (postSub.ready()) {                                                                                         // 21\n            $('.grid').isotope(isotopeSettings);                                                                       // 22\n            $('.grid').imagesLoaded().progress(function () {                                                           // 23\n                $('.grid').isotope(isotopeSettings);                                                                   // 24\n            });                                                                                                        // 25\n        }                                                                                                              // 26\n    });                                                                                                                // 27\n    setTitle('Stream');                                                                                                // 28\n});                                                                                                                    // 29\nTemplate.stream.helpers({                                                                                              // 31\n    'category': function () {                                                                                          // 32\n        return Categories.find({});                                                                                    // 33\n    },                                                                                                                 // 34\n    'allPosts': function () {                                                                                          // 35\n        var query = Posts.find({                                                                                       // 36\n            'meta.approved': true,                                                                                     // 37\n            'type': 'announcement'                                                                                     // 38\n        });                                                                                                            // 36\n        query.observeChanges({                                                                                         // 40\n            added: function (id, fields) {                                                                             // 41\n                setTimeout(function () {                                                                               // 42\n                    $('.grid').isotope('reloadItems');                                                                 // 43\n                    $('.grid').isotope();                                                                              // 44\n                }, 500);                                                                                               // 45\n            },                                                                                                         // 46\n            changed: function (id, fields) {                                                                           // 47\n                setTimeout(function () {                                                                               // 48\n                    $('.grid').isotope('reloadItems');                                                                 // 49\n                    $('.grid').isotope();                                                                              // 50\n                }, 500);                                                                                               // 51\n            },                                                                                                         // 52\n            removed: function () {                                                                                     // 53\n                setTimeout(function () {                                                                               // 54\n                    $('.grid').isotope('reloadItems');                                                                 // 55\n                    $('.grid').isotope();                                                                              // 56\n                }, 500);                                                                                               // 57\n            }                                                                                                          // 58\n        });                                                                                                            // 40\n        return query.fetch().reverse();                                                                                // 60\n    },                                                                                                                 // 61\n    'effectiveDate': function () {                                                                                     // 62\n        return this.startDate === this.endDate ? moment(this.startDate).format(\"MMMM Do YYYY\") : moment(this.startDate).format(\"MMMM Do YYYY\") + \" - \" + moment(this.endDate).format(\"MMMM Do YYYY\");\n    },                                                                                                                 // 64\n    'isImageOnly': function () {                                                                                       // 65\n        return this.subType === 'imageOnly' && this.type === 'announcement';                                           // 66\n    },                                                                                                                 // 67\n    'isTextOnly': function () {                                                                                        // 68\n        return this.subType === 'textOnly' && this.type === 'announcement';                                            // 69\n    },                                                                                                                 // 70\n    'isImageText': function () {                                                                                       // 71\n        return this.subType === 'imageText' && this.type === 'announcement';                                           // 72\n    },                                                                                                                 // 73\n    'isBlog': function () {                                                                                            // 74\n        return this.type === 'blog';                                                                                   // 75\n    },                                                                                                                 // 76\n    'categories': function () {                                                                                        // 77\n        var list = this.categories;                                                                                    // 78\n        var text = \"\";                                                                                                 // 79\n                                                                                                                       //\n        _.forEach(list, function (item) {                                                                              // 80\n            text += item + \" \";                                                                                        // 81\n        });                                                                                                            // 82\n                                                                                                                       //\n        return text;                                                                                                   // 83\n    },                                                                                                                 // 84\n    'textOverImage': function () {                                                                                     // 85\n        return this.subType === 'imageText' && this.type === 'announcement' && this.meta.priority === 'text';          // 86\n    },                                                                                                                 // 87\n    'imageOverText': function () {                                                                                     // 88\n        return this.subType === 'imageText' && this.type === 'announcement' && this.meta.priority === 'image';         // 89\n    },                                                                                                                 // 90\n    'writer': function () {                                                                                            // 91\n        return Meteor.users.findOne({                                                                                  // 92\n            _id: this.author                                                                                           // 92\n        }).services.google.name;                                                                                       // 92\n    },                                                                                                                 // 93\n    'imageLink': function () {                                                                                         // 94\n        if (this.unsplash) {                                                                                           // 95\n            return this.unsplash.urls.full;                                                                            // 96\n        } else if (this.imgId) {                                                                                       // 97\n            try {                                                                                                      // 98\n                return Images.findOne({                                                                                // 99\n                    _id: this.imgId                                                                                    // 99\n                }).url();                                                                                              // 99\n            } catch (e) {//console.log('error getting photo')                                                          // 100\n            }                                                                                                          // 102\n        }                                                                                                              // 103\n    }                                                                                                                  // 104\n});                                                                                                                    // 31\nTemplate.stream.events({                                                                                               // 108\n    'click .filter-btn': function (evt) {                                                                              // 109\n        var filterValue = $(evt.target).attr('data-filter');                                                           // 110\n        $('.is-checked').removeClass('is-checked');                                                                    // 111\n        $(evt.target).addClass('is-checked');                                                                          // 112\n        $('.grid').isotope({                                                                                           // 113\n            filter: filterValue                                                                                        // 113\n        });                                                                                                            // 113\n    },                                                                                                                 // 114\n    'click .blog-item': function (evt, template) {                                                                     // 115\n        var obj = $(evt.target).closest($('.blog-item'));                                                              // 116\n        var id = obj.attr('id');                                                                                       // 117\n        FlowRouter.go('/blog/' + id);                                                                                  // 118\n    }                                                                                                                  // 119\n});                                                                                                                    // 108\n                                                                                                                       //\ngetUnsplashLink = function (id) {                                                                                      // 121\n    Meteor.call('setupUnsplash', function (err) {                                                                      // 122\n        if (err) {                                                                                                     // 123\n            console.log(err);                                                                                          // 124\n        } else {                                                                                                       // 125\n            console.log(id);                                                                                           // 126\n            Meteor.call('getPhoto', id, function (err, data) {                                                         // 127\n                if (err) {                                                                                             // 128\n                    console.log(err);                                                                                  // 129\n                } else {                                                                                               // 130\n                    Session.set('unsplashFeatured', data.urls.full);                                                   // 131\n                    $('.grid').isotope();                                                                              // 132\n                }                                                                                                      // 133\n            });                                                                                                        // 134\n        }                                                                                                              // 135\n    });                                                                                                                // 136\n};                                                                                                                     // 137\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"alert.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/lib/alert.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n//This file provides a library of dialogs that are used in uhs.life                                                    // 1\nalertError = function (title, body) {                                                                                  // 3\n    bootbox.alert({                                                                                                    // 4\n        title: \"<i class='fa fa-5x fa-times-circle-o'></i>\",                                                           // 5\n        message: \"<h3>\" + title + \"</h3><p>\" + body + \"</p>\",                                                          // 6\n        buttons: {                                                                                                     // 7\n            ok: {                                                                                                      // 8\n                label: \"Got it\",                                                                                       // 9\n                className: 'btn-confirm'                                                                               // 10\n            }                                                                                                          // 8\n        }                                                                                                              // 7\n    });                                                                                                                // 4\n};                                                                                                                     // 14\n                                                                                                                       //\nalertSuccess = function (title, body) {                                                                                // 16\n    bootbox.alert({                                                                                                    // 17\n        title: \"<i class='fa fa-5x fa-check-circle-o'></i>\",                                                           // 18\n        message: \"<h3>\" + title + \"</h3><p>\" + body + \"</p>\",                                                          // 19\n        buttons: {                                                                                                     // 20\n            ok: {                                                                                                      // 21\n                label: \"Got it\",                                                                                       // 22\n                className: 'btn-confirm'                                                                               // 23\n            }                                                                                                          // 21\n        }                                                                                                              // 20\n    });                                                                                                                // 17\n    $(\".modal-header\").css('background', '#4caf50');                                                                   // 27\n    $(\".btn-confirm\").css('background', '#4caf50');                                                                    // 28\n};                                                                                                                     // 29\n                                                                                                                       //\nalertConfirm = function (title, body, callback) {                                                                      // 31\n    bootbox.confirm({                                                                                                  // 32\n        title: \"<i class='fa fa-5x fa-question-circle-o'></i>\",                                                        // 33\n        message: \"<h3>\" + title + \"</h3><p>\" + body + \"</p>\",                                                          // 34\n        buttons: {                                                                                                     // 35\n            confirm: {                                                                                                 // 36\n                label: 'Yes I am Sure',                                                                                // 37\n                className: 'btn-success'                                                                               // 38\n            },                                                                                                         // 36\n            cancel: {                                                                                                  // 40\n                label: 'No, I am Not',                                                                                 // 41\n                className: 'btn-grey'                                                                                  // 42\n            }                                                                                                          // 40\n        },                                                                                                             // 35\n        callback: function (result) {                                                                                  // 45\n            callback(result);                                                                                          // 46\n        }                                                                                                              // 47\n    });                                                                                                                // 32\n    $(\".modal-header\").css('background', '#2196F3');                                                                   // 49\n};                                                                                                                     // 50\n                                                                                                                       //\nalertPrompt = function (title, callback) {                                                                             // 52\n    bootbox.prompt({                                                                                                   // 53\n        title: title,                                                                                                  // 54\n        inputType: 'textarea',                                                                                         // 55\n        callback: function (result) {                                                                                  // 56\n            callback(result);                                                                                          // 57\n        }                                                                                                              // 58\n    });                                                                                                                // 53\n};                                                                                                                     // 60\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"charting.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/lib/charting.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar chart = void 0;                                                                                                    // 1\nmodule.watch(require(\"chart.js\"), {                                                                                    // 1\n    \"default\": function (v) {                                                                                          // 1\n        chart = v;                                                                                                     // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\n// Chart options                                                                                                       // 3\nChart.defaults.global.legend.display = false;                                                                          // 4\nChart.defaults.global.tooltips.enabled = true;                                                                         // 5\n                                                                                                                       //\ndrawChart = function (chartId, mark) {                                                                                 // 6\n    //$( \"canvas#\"+chartId ).replaceWith( \"<canvas id='\" + chartId + \"'></canvas>\" );                                  // 7\n    var color = void 0;                                                                                                // 8\n                                                                                                                       //\n    if (mark >= 95) {                                                                                                  // 9\n        color = \"#009688\";                                                                                             // 10\n    } else if (mark >= 90) {                                                                                           // 11\n        color = \"#4caf50\";                                                                                             // 12\n    } else if (mark >= 85) {                                                                                           // 13\n        color = \"#8bc34a\";                                                                                             // 14\n    } else if (mark >= 80) {                                                                                           // 15\n        color = \"#cddc39\";                                                                                             // 16\n    } else if (mark >= 75) {                                                                                           // 17\n        color = \"#ffeb3b\";                                                                                             // 18\n    } else if (mark >= 70) {                                                                                           // 19\n        color = \"#ffc107\";                                                                                             // 20\n    } else if (mark >= 60) {                                                                                           // 21\n        color = \"#ff9800\";                                                                                             // 22\n    } else if (mark >= 55) {                                                                                           // 23\n        color = \"#ff5722\";                                                                                             // 24\n    } else if (mark < 55) {                                                                                            // 25\n        color = \"#f44336\";                                                                                             // 26\n    }                                                                                                                  // 27\n                                                                                                                       //\n    var ctx = document.getElementById(chartId).getContext(\"2d\"); //This will get the first returned node in the jQuery collection.\n                                                                                                                       //\n    return new Chart(ctx, {                                                                                            // 30\n        type: 'doughnut',                                                                                              // 31\n        data: {                                                                                                        // 32\n            labels: [\"Achievements\", \"Losts\"],                                                                         // 33\n            datasets: [{                                                                                               // 37\n                data: [mark, (100 - mark).toFixed(1)],                                                                 // 39\n                backgroundColor: [color, \"#A9A9A9\"],                                                                   // 40\n                hoverBackgroundColor: [color, \"#A9A9A9\"]                                                               // 44\n            }]                                                                                                         // 38\n        }                                                                                                              // 32\n    });                                                                                                                // 30\n};                                                                                                                     // 51\n                                                                                                                       //\ndrawSmallChartSide = function (chartId, mark, color) {                                                                 // 53\n    $(\"canvas#\" + chartId).replaceWith(\"<canvas id=\" + chartId + \" width='20' height='20'></canvas>\"); //Get context with jQuery - using jQuery's .get() method.\n                                                                                                                       //\n    var ctx = document.getElementById(chartId).getContext(\"2d\"); //This will get the first returned node in the jQuery collection.\n                                                                                                                       //\n    myNewChart = new Chart(ctx, {                                                                                      // 58\n        type: 'doughnut',                                                                                              // 59\n        data: {                                                                                                        // 60\n            labels: [\"Achievements\", \"Losts\"],                                                                         // 61\n            datasets: [{                                                                                               // 65\n                data: [mark, (100 - mark).toFixed(1)],                                                                 // 67\n                backgroundColor: [color, \"#A9A9A9\"],                                                                   // 68\n                hoverBackgroundColor: [color, \"#A9A9A9\"]                                                               // 72\n            }]                                                                                                         // 66\n        },                                                                                                             // 60\n        options: {                                                                                                     // 78\n            animation: false                                                                                           // 79\n        }                                                                                                              // 78\n    });                                                                                                                // 58\n};                                                                                                                     // 82\n                                                                                                                       //\ndrawSmallChart = function (chartId, mark, color) {                                                                     // 84\n    $(\"canvas#\" + chartId).replaceWith(\"<canvas id=\" + chartId + \"></canvas>\"); //Get context with jQuery - using jQuery's .get() method.\n                                                                                                                       //\n    var ctx = document.getElementById(chartId).getContext(\"2d\"); //This will get the first returned node in the jQuery collection.\n                                                                                                                       //\n    var myNewChart = new Chart(ctx, {                                                                                  // 89\n        type: 'doughnut',                                                                                              // 90\n        data: {                                                                                                        // 91\n            labels: [\"Achievements\", \"Losts\"],                                                                         // 92\n            datasets: [{                                                                                               // 96\n                data: [mark, (100 - mark).toFixed(1)],                                                                 // 98\n                backgroundColor: [color, \"#A9A9A9\"],                                                                   // 99\n                hoverBackgroundColor: [color, \"#A9A9A9\"]                                                               // 103\n            }]                                                                                                         // 97\n        },                                                                                                             // 91\n        options: {                                                                                                     // 109\n            animation: false                                                                                           // 110\n        }                                                                                                              // 109\n    });                                                                                                                // 89\n};                                                                                                                     // 113\n                                                                                                                       //\ndrawPolyChart = function (chartId, assignments, marks) {                                                               // 115\n    //Get context with jQuery - using jQuery's .get() method.                                                          // 117\n    var ctx = document.getElementById(chartId).getContext(\"2d\");                                                       // 118\n    var data = {                                                                                                       // 120\n        labels: assignments,                                                                                           // 121\n        datasets: [{                                                                                                   // 122\n            label: \"M.A.T.A.\",                                                                                         // 124\n            fill: true,                                                                                                // 125\n            lineTension: 0.1,                                                                                          // 126\n            backgroundColor: \"rgba(75,192,192,0.4)\",                                                                   // 127\n            borderColor: \"rgba(75,192,192,1)\",                                                                         // 128\n            borderCapStyle: 'butt',                                                                                    // 129\n            borderDash: [],                                                                                            // 130\n            borderDashOffset: 0.0,                                                                                     // 131\n            borderJoinStyle: 'miter',                                                                                  // 132\n            pointBorderColor: \"rgba(75,192,192,1)\",                                                                    // 133\n            pointBackgroundColor: \"#fff\",                                                                              // 134\n            pointBorderWidth: 1,                                                                                       // 135\n            pointHoverRadius: 5,                                                                                       // 136\n            pointHoverBackgroundColor: \"rgba(75,192,192,1)\",                                                           // 137\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",                                                              // 138\n            pointHoverBorderWidth: 2,                                                                                  // 139\n            pointRadius: 5,                                                                                            // 140\n            pointHitRadius: 10,                                                                                        // 141\n            data: marks,                                                                                               // 142\n            spanGaps: false                                                                                            // 143\n        }]                                                                                                             // 123\n    }; //This will get the first returned node in the jQuery collection.                                               // 120\n                                                                                                                       //\n    var myChart = new Chart(ctx, {                                                                                     // 148\n        type: 'line',                                                                                                  // 149\n        data: data,                                                                                                    // 150\n        options: {                                                                                                     // 151\n            scales: {                                                                                                  // 152\n                xAxes: [{                                                                                              // 153\n                    ticks: {                                                                                           // 154\n                        display: false                                                                                 // 155\n                    }                                                                                                  // 154\n                }],                                                                                                    // 153\n                yAxes: [{                                                                                              // 158\n                    ticks: {                                                                                           // 159\n                        display: true                                                                                  // 160\n                    }                                                                                                  // 159\n                }]                                                                                                     // 158\n            }                                                                                                          // 152\n        }                                                                                                              // 151\n    });                                                                                                                // 148\n};                                                                                                                     // 166\n                                                                                                                       //\ndrawPerformChart = function (chartId, assignments, k, t, c, a) {                                                       // 168\n    //Get context with jQuery - using jQuery's .get() method.                                                          // 170\n    var ctx = document.getElementById(chartId).getContext(\"2d\");                                                       // 171\n    var data = {                                                                                                       // 173\n        labels: assignments,                                                                                           // 174\n        datasets: [{                                                                                                   // 175\n            label: \"Knowledge\",                                                                                        // 177\n            fill: false,                                                                                               // 178\n            lineTension: 0.1,                                                                                          // 179\n            backgroundColor: \"rgba(255,193,7,0.4)\",                                                                    // 180\n            borderColor: \"rgba(255,193,7,1)\",                                                                          // 181\n            borderCapStyle: 'butt',                                                                                    // 182\n            borderDash: [],                                                                                            // 183\n            borderDashOffset: 0.0,                                                                                     // 184\n            borderJoinStyle: 'miter',                                                                                  // 185\n            pointBorderColor: \"rgba(255,193,7,1)\",                                                                     // 186\n            pointBackgroundColor: \"#fff\",                                                                              // 187\n            pointBorderWidth: 1,                                                                                       // 188\n            pointHoverRadius: 5,                                                                                       // 189\n            pointHoverBackgroundColor: \"rgba(255,193,7,1)\",                                                            // 190\n            pointHoverBorderColor: \"rgba(255,193,7,1)\",                                                                // 191\n            pointHoverBorderWidth: 2,                                                                                  // 192\n            pointRadius: 5,                                                                                            // 193\n            pointHitRadius: 10,                                                                                        // 194\n            data: k,                                                                                                   // 195\n            spanGaps: true                                                                                             // 196\n        }, {                                                                                                           // 176\n            label: \"Thinking\",                                                                                         // 199\n            fill: false,                                                                                               // 200\n            lineTension: 0.1,                                                                                          // 201\n            backgroundColor: \"rgba(76,175,80,0.4)\",                                                                    // 202\n            borderColor: \"rgba(76,175,80,1)\",                                                                          // 203\n            borderCapStyle: 'butt',                                                                                    // 204\n            borderDash: [],                                                                                            // 205\n            borderDashOffset: 0.0,                                                                                     // 206\n            borderJoinStyle: 'miter',                                                                                  // 207\n            pointBorderColor: \"rgba(76,175,80,1)\",                                                                     // 208\n            pointBackgroundColor: \"#fff\",                                                                              // 209\n            pointBorderWidth: 1,                                                                                       // 210\n            pointHoverRadius: 5,                                                                                       // 211\n            pointHoverBackgroundColor: \"rgba(76,175,80,1)\",                                                            // 212\n            pointHoverBorderColor: \"rgba(76,175,80,1)\",                                                                // 213\n            pointHoverBorderWidth: 2,                                                                                  // 214\n            pointRadius: 5,                                                                                            // 215\n            pointHitRadius: 10,                                                                                        // 216\n            data: t,                                                                                                   // 217\n            spanGaps: true                                                                                             // 218\n        }, {                                                                                                           // 198\n            label: \"Communication\",                                                                                    // 221\n            fill: false,                                                                                               // 222\n            lineTension: 0.1,                                                                                          // 223\n            backgroundColor: \"rgba(103,58,183,0.4)\",                                                                   // 224\n            borderColor: \"rgba(103,58,183,1)\",                                                                         // 225\n            borderCapStyle: 'butt',                                                                                    // 226\n            borderDash: [],                                                                                            // 227\n            borderDashOffset: 0.0,                                                                                     // 228\n            borderJoinStyle: 'miter',                                                                                  // 229\n            pointBorderColor: \"rgba(103,58,183,1)\",                                                                    // 230\n            pointBackgroundColor: \"#fff\",                                                                              // 231\n            pointBorderWidth: 1,                                                                                       // 232\n            pointHoverRadius: 5,                                                                                       // 233\n            pointHoverBackgroundColor: \"rgba(103,58,183,1)\",                                                           // 234\n            pointHoverBorderColor: \"rgba(103,58,183,1)\",                                                               // 235\n            pointHoverBorderWidth: 2,                                                                                  // 236\n            pointRadius: 5,                                                                                            // 237\n            pointHitRadius: 10,                                                                                        // 238\n            data: c,                                                                                                   // 239\n            spanGaps: true                                                                                             // 240\n        }, {                                                                                                           // 220\n            label: \"Application\",                                                                                      // 243\n            fill: false,                                                                                               // 244\n            lineTension: 0.1,                                                                                          // 245\n            backgroundColor: \"rgba(255,87,34,0.4)\",                                                                    // 246\n            borderColor: \"rgba(255,87,34,1)\",                                                                          // 247\n            borderCapStyle: 'butt',                                                                                    // 248\n            borderDash: [],                                                                                            // 249\n            borderDashOffset: 0.0,                                                                                     // 250\n            borderJoinStyle: 'miter',                                                                                  // 251\n            pointBorderColor: \"rgba(255,87,34,1)\",                                                                     // 252\n            pointBackgroundColor: \"#fff\",                                                                              // 253\n            pointBorderWidth: 1,                                                                                       // 254\n            pointHoverRadius: 5,                                                                                       // 255\n            pointHoverBackgroundColor: \"rgba(255,87,34,1)\",                                                            // 256\n            pointHoverBorderColor: \"rgba(255,87,34,1)\",                                                                // 257\n            pointHoverBorderWidth: 2,                                                                                  // 258\n            pointRadius: 5,                                                                                            // 259\n            pointHitRadius: 10,                                                                                        // 260\n            data: a,                                                                                                   // 261\n            spanGaps: true                                                                                             // 262\n        }]                                                                                                             // 242\n    }; //This will get the first returned node in the jQuery collection.                                               // 173\n                                                                                                                       //\n    var myChart = new Chart(ctx, {                                                                                     // 267\n        type: 'line',                                                                                                  // 268\n        data: data,                                                                                                    // 269\n        options: {                                                                                                     // 270\n            scales: {                                                                                                  // 271\n                xAxes: [{                                                                                              // 272\n                    ticks: {                                                                                           // 273\n                        display: false                                                                                 // 274\n                    }                                                                                                  // 273\n                }],                                                                                                    // 272\n                yAxes: [{                                                                                              // 277\n                    ticks: {                                                                                           // 278\n                        display: true                                                                                  // 279\n                    }                                                                                                  // 278\n                }]                                                                                                     // 277\n            }                                                                                                          // 271\n        }                                                                                                              // 270\n    });                                                                                                                // 267\n};                                                                                                                     // 285\n                                                                                                                       //\ndrawHalfChart = function (chartId, mark, total, color) {                                                               // 288\n    var data = {                                                                                                       // 289\n        labels: [\"Achievements\", \"Losts\"],                                                                             // 290\n        datasets: [{                                                                                                   // 294\n            data: [mark, total - mark],                                                                                // 295\n            backgroundColor: [color, \"#A9A9A9\"],                                                                       // 296\n            hoverBackgroundColor: [color, \"#A9A9A9\"]                                                                   // 300\n        }]                                                                                                             // 294\n    };                                                                                                                 // 289\n    var ctx = document.getElementById(chartId).getContext(\"2d\"); // And for a doughnut chart                           // 308\n                                                                                                                       //\n    var myDoughnutChart = new Chart(ctx, {                                                                             // 311\n        type: 'doughnut',                                                                                              // 312\n        data: data,                                                                                                    // 313\n        options: {                                                                                                     // 314\n            cutoutPercentage: 70,                                                                                      // 315\n            rotation: 1 * Math.PI,                                                                                     // 316\n            circumference: 1 * Math.PI,                                                                                // 317\n            animation: false                                                                                           // 318\n        }                                                                                                              // 314\n    });                                                                                                                // 311\n};                                                                                                                     // 321\n                                                                                                                       //\ndrawHalfChartSide = function (chartId, mark, total, color) {                                                           // 323\n    $(\"canvas#\" + chartId).replaceWith(\"<canvas id=\" + chartId + \"></canvas>\");                                        // 324\n    var data = {                                                                                                       // 325\n        labels: [\"Achievements\", \"Losts\"],                                                                             // 326\n        datasets: [{                                                                                                   // 330\n            data: [mark, total - mark],                                                                                // 331\n            backgroundColor: [color, \"#A9A9A9\"],                                                                       // 332\n            hoverBackgroundColor: [color, \"#A9A9A9\"]                                                                   // 336\n        }]                                                                                                             // 330\n    };                                                                                                                 // 325\n    var ctx = document.getElementById(chartId).getContext(\"2d\"); // And for a doughnut chart                           // 343\n                                                                                                                       //\n    var myDoughnutChart = new Chart(ctx, {                                                                             // 346\n        type: 'doughnut',                                                                                              // 347\n        data: data,                                                                                                    // 348\n        options: {                                                                                                     // 349\n            cutoutPercentage: 70,                                                                                      // 350\n            rotation: 1 * Math.PI,                                                                                     // 351\n            circumference: 1 * Math.PI,                                                                                // 352\n            animation: false                                                                                           // 353\n        }                                                                                                              // 349\n    });                                                                                                                // 346\n};                                                                                                                     // 356\n                                                                                                                       //\ndrawPolyChartSide = function (chartId, assignments, marks) {                                                           // 358\n    $(\"canvas#\" + chartId).replaceWith(\"<canvas id=\" + chartId + \"></canvas>\"); //Get context with jQuery - using jQuery's .get() method.\n                                                                                                                       //\n    var ctx = document.getElementById(chartId).getContext(\"2d\");                                                       // 361\n    var data = {                                                                                                       // 363\n        labels: assignments,                                                                                           // 364\n        datasets: [{                                                                                                   // 365\n            label: \"M.A.T.A.\",                                                                                         // 367\n            fill: false,                                                                                               // 368\n            lineTension: 0.1,                                                                                          // 369\n            backgroundColor: \"rgba(75,192,192,0.4)\",                                                                   // 370\n            borderColor: \"rgba(75,192,192,1)\",                                                                         // 371\n            borderCapStyle: 'butt',                                                                                    // 372\n            borderDash: [],                                                                                            // 373\n            borderDashOffset: 0.0,                                                                                     // 374\n            borderJoinStyle: 'miter',                                                                                  // 375\n            pointBorderColor: \"rgba(75,192,192,1)\",                                                                    // 376\n            pointBackgroundColor: \"#fff\",                                                                              // 377\n            pointBorderWidth: 1,                                                                                       // 378\n            pointHoverRadius: 5,                                                                                       // 379\n            pointHoverBackgroundColor: \"rgba(75,192,192,1)\",                                                           // 380\n            pointHoverBorderColor: \"rgba(220,220,220,1)\",                                                              // 381\n            pointHoverBorderWidth: 2,                                                                                  // 382\n            pointRadius: 5,                                                                                            // 383\n            pointHitRadius: 10,                                                                                        // 384\n            data: marks,                                                                                               // 385\n            spanGaps: false                                                                                            // 386\n        }]                                                                                                             // 366\n    }; //This will get the first returned node in the jQuery collection.                                               // 363\n                                                                                                                       //\n    var myChart = new Chart(ctx, {                                                                                     // 391\n        type: 'line',                                                                                                  // 392\n        data: data,                                                                                                    // 393\n        options: {                                                                                                     // 394\n            scales: {                                                                                                  // 395\n                xAxes: [{                                                                                              // 396\n                    ticks: {                                                                                           // 397\n                        display: false                                                                                 // 398\n                    }                                                                                                  // 397\n                }],                                                                                                    // 396\n                yAxes: [{                                                                                              // 401\n                    ticks: {                                                                                           // 402\n                        display: false                                                                                 // 403\n                    }                                                                                                  // 402\n                }]                                                                                                     // 401\n            }                                                                                                          // 395\n        }                                                                                                              // 394\n    });                                                                                                                // 391\n};                                                                                                                     // 409\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"morphext.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/lib/morphext.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/*!                                                                                                                    // 1\n * Morphext - Text Rotating Plugin for jQuery                                                                          //\n * https://github.com/MrSaints/Morphext                                                                                //\n *                                                                                                                     //\n * Built on jQuery Boilerplate                                                                                         //\n * http://jqueryboilerplate.com/                                                                                       //\n *                                                                                                                     //\n * Copyright 2014 Ian Lai and other contributors                                                                       //\n * Released under the MIT license                                                                                      //\n * http://ian.mit-license.org/                                                                                         //\n */ /*eslint-env browser */ /*global jQuery:false */ /*eslint-disable no-underscore-dangle */(function ($) {           //\n    \"use strict\";                                                                                                      // 18\n                                                                                                                       //\n    var pluginName = \"Morphext\",                                                                                       // 20\n        defaults = {                                                                                                   // 20\n        animation: \"bounceIn\",                                                                                         // 22\n        separator: \",\",                                                                                                // 23\n        speed: 2000,                                                                                                   // 24\n        complete: $.noop                                                                                               // 25\n    };                                                                                                                 // 21\n                                                                                                                       //\n    function Plugin(element, options) {                                                                                // 28\n        this.element = $(element);                                                                                     // 29\n        this.settings = $.extend({}, defaults, options);                                                               // 31\n        this._defaults = defaults;                                                                                     // 32\n                                                                                                                       //\n        this._init();                                                                                                  // 33\n    }                                                                                                                  // 34\n                                                                                                                       //\n    Plugin.prototype = {                                                                                               // 36\n        _init: function () {                                                                                           // 37\n            var $that = this;                                                                                          // 38\n            this.phrases = [];                                                                                         // 39\n            this.element.addClass(\"morphext\");                                                                         // 41\n            $.each(this.element.text().split(this.settings.separator), function (key, value) {                         // 43\n                $that.phrases.push($.trim(value));                                                                     // 44\n            });                                                                                                        // 45\n            this.index = -1;                                                                                           // 47\n            this.animate();                                                                                            // 48\n            this.start();                                                                                              // 49\n        },                                                                                                             // 50\n        animate: function () {                                                                                         // 51\n            this.index = ++this.index % this.phrases.length;                                                           // 52\n            this.element[0].innerHTML = \"<span class=\\\"animated \" + this.settings.animation + \"\\\">\" + this.phrases[this.index] + \"</span>\";\n                                                                                                                       //\n            if ($.isFunction(this.settings.complete)) {                                                                // 55\n                this.settings.complete.call(this);                                                                     // 56\n            }                                                                                                          // 57\n        },                                                                                                             // 58\n        start: function () {                                                                                           // 59\n            var $that = this;                                                                                          // 60\n            this._interval = setInterval(function () {                                                                 // 61\n                $that.animate();                                                                                       // 62\n            }, this.settings.speed);                                                                                   // 63\n        },                                                                                                             // 64\n        stop: function () {                                                                                            // 65\n            this._interval = clearInterval(this._interval);                                                            // 66\n        }                                                                                                              // 67\n    };                                                                                                                 // 36\n                                                                                                                       //\n    $.fn[pluginName] = function (options) {                                                                            // 70\n        return this.each(function () {                                                                                 // 71\n            if (!$.data(this, \"plugin_\" + pluginName)) {                                                               // 72\n                $.data(this, \"plugin_\" + pluginName, new Plugin(this, options));                                       // 73\n            }                                                                                                          // 74\n        });                                                                                                            // 75\n    };                                                                                                                 // 76\n})(jQuery);                                                                                                            // 77\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"api\":{\"images\":{\"images.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/api/images/images.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({                                                                                                        // 1\n   Images: function () {                                                                                               // 1\n      return Images;                                                                                                   // 1\n   }                                                                                                                   // 1\n});                                                                                                                    // 1\nvar imageStore = new FS.Store.GridFS(\"images\");                                                                        // 1\nvar Images = new FS.Collection(\"images\", {                                                                             // 3\n   stores: [imageStore]                                                                                                // 4\n});                                                                                                                    // 3\n//Set the permissions for Images collection                                                                            // 7\nImages.allow({                                                                                                         // 8\n   insert: function () {                                                                                               // 9\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);                                                    // 10\n   },                                                                                                                  // 11\n   update: function () {                                                                                               // 12\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);                                                    // 13\n   },                                                                                                                  // 14\n   remove: function () {                                                                                               // 15\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);                                                    // 16\n   },                                                                                                                  // 17\n   download: function () {                                                                                             // 18\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);                                                    // 19\n   }                                                                                                                   // 20\n});                                                                                                                    // 8\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"startup\":{\"client\":{\"algoliaAll.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/algoliaAll.js                                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n//setup for use of retreiving ALL results in algolia database                                                          // 1\n// api key that connects the client side to Algolia's server                                                           // 3\nvar client = AlgoliaSearch(\"GJDCY9DKEW\", \"1881fcb5fac28b033952f92b1bc33430\"); // select indice (collection) of data to be accesed. In this case it would be the announcements\n                                                                                                                       //\nvar index = client.initIndex('announcement'); //function to search for announcements with a keyword                    // 7\n                                                                                                                       //\nsearchAll = function (keyword) {                                                                                       // 10\n    //performs the search in algolia database in indice announcement                                                   // 12\n    index.search(keyword, function () {                                                                                // 13\n        function searchDone(err, content) {                                                                            // 13\n            //error catch (server down, or algolia issue)                                                              // 15\n            if (err) {                                                                                                 // 16\n                console.error('Algolia returned an error', err);                                                       // 17\n            } else {                                                                                                   // 18\n                //retrieves number of results in content.nbHits                                                        // 20\n                console.log('Received ' + content.nbHits + ' results.'); //Spits out list of announcements with the keyword\n                                                                                                                       //\n                Session.set('results', content);                                                                       // 24\n            }                                                                                                          // 25\n        }                                                                                                              // 26\n                                                                                                                       //\n        return searchDone;                                                                                             // 13\n    }());                                                                                                              // 13\n};                                                                                                                     // 27\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"algoliaSearch.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/algoliaSearch.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n//setup for use of search in algolia database                                                                          // 1\n// api key that connects the client side to Algolia's server                                                           // 3\nvar client = AlgoliaSearch(\"GJDCY9DKEW\", \"1881fcb5fac28b033952f92b1bc33430\"); // select indice (collection) of data to be accesed. In this case it would be the announcements\n                                                                                                                       //\nvar index = client.initIndex('announcement'); //function to search for announcements with a keyword                    // 7\n                                                                                                                       //\nsearchPost = function (keyword) {                                                                                      // 10\n    //performs the search in algolia database in indice announcement                                                   // 12\n    index.search(keyword, function () {                                                                                // 13\n        function searchDone(err, content) {                                                                            // 13\n            //error catch (server down, or algolia issue)                                                              // 15\n            if (err) {                                                                                                 // 16\n                console.error('Algolia returned an error', err);                                                       // 17\n            } else {                                                                                                   // 18\n                //retrieves number of results in content.nbHits                                                        // 20\n                console.log('Received ' + content.nbHits + ' results.'); //Spits out list of announcements with the keyword\n                                                                                                                       //\n                Session.set('searchContent', content);                                                                 // 24\n            }                                                                                                          // 25\n        }                                                                                                              // 26\n                                                                                                                       //\n        return searchDone;                                                                                             // 13\n    }());                                                                                                              // 13\n};                                                                                                                     // 27\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"facebook.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/facebook.js                                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar module1 = module;                                                                                                  // 1\nvar Images = void 0;                                                                                                   // 1\nmodule1.watch(require(\"../../api/images/images.js\"), {                                                                 // 1\n    Images: function (v) {                                                                                             // 1\n        Images = v;                                                                                                    // 1\n    }                                                                                                                  // 1\n}, 0);                                                                                                                 // 1\n                                                                                                                       //\n//function to setup the facebook API                                                                                   // 3\nsetupFacebook = function (callback) {                                                                                  // 4\n    Meteor.call('getFBAppId', function (err, result) {                                                                 // 5\n        //get the app id from server                                                                                   // 5\n        if (err) {                                                                                                     // 6\n            console.log(\"error retreiving FB App ID\");                                                                 // 7\n            callback(err, null);                                                                                       // 8\n        } else {                                                                                                       // 9\n            //Initialize the facebook SDK                                                                              // 10\n            FB.init({                                                                                                  // 12\n                appId: result,                                                                                         // 13\n                status: true,                                                                                          // 14\n                xfbml: true,                                                                                           // 15\n                version: 'v2.9'                                                                                        // 16\n            }, function (err, response) {                                                                              // 12\n                if (err) {                                                                                             // 18\n                    console.log(err);                                                                                  // 19\n                } else {                                                                                               // 20\n                    console.log(response);                                                                             // 21\n                }                                                                                                      // 22\n            });                                                                                                        // 23\n            callback(null, 1);                                                                                         // 24\n        }                                                                                                              // 25\n    });                                                                                                                // 26\n};                                                                                                                     // 27\n                                                                                                                       //\nextendToken = function (accessToken) {                                                                                 // 29\n    var appId = void 0,                                                                                                // 30\n        appSec = void 0;                                                                                               // 30\n    Meteor.call('getFBAppId', function (err, response) {                                                               // 31\n        appId = response;                                                                                              // 32\n        Meteor.call('getFBSecret', function (err, response2) {                                                         // 33\n            appSec = response2;                                                                                        // 34\n            console.log(appId);                                                                                        // 35\n            console.log(appSec);                                                                                       // 36\n            console.log(accessToken);                                                                                  // 37\n            $.get(\"https://graph.facebook.com/oauth/access_token\", {                                                   // 38\n                grant_type: 'fb_exchange_token',                                                                       // 39\n                client_id: appId,                                                                                      // 40\n                client_secret: appSec,                                                                                 // 41\n                fb_exchange_token: accessToken                                                                         // 42\n            }, function (data) {                                                                                       // 38\n                console.log(data);                                                                                     // 44\n            });                                                                                                        // 45\n        });                                                                                                            // 46\n    });                                                                                                                // 47\n}; //function to post a message to facebook                                                                            // 49\n                                                                                                                       //\n                                                                                                                       //\npostTextFacebook = function (obj) {                                                                                    // 52\n    //console.log(\"attempting to log in\");                                                                             // 53\n    /*FB.api('/1152573311514394/feed', 'post', {access_token: 'EAAGTzYuTCloBAFMDsZBc4ZB8Vle8L7Scrm07kYvDRc0SvaOYLwbOCQBtinhUQ4OSlRQOdNY7qgIGBDrVK60ckPdcNHZC6mZC8rANyjZCtH4XcE5qexIZCSHFDniuMyGBAcm3eZCpRDmhZA3NrNUyKa63ymrX7kQ4UKA4ThYD7CJffivm32CPIJ7i5sPcQ9X7KTGk5PgGXXpwiQZDZD',\n         message: obj.headline + '\\n' + obj.content},                                                                  //\n         function (response) {                                                                                         //\n             console.log(response);                                                                                    //\n    });*/FB.login(function (response) {                                                                                //\n        //use this to get access token for user                                                                        // 60\n        //var token = response.authResponse.accessToken;                                                               // 61\n        var pageToken, pageId;                                                                                         // 62\n        console.log(response); //make the API call to access pages                                                     // 63\n                                                                                                                       //\n        FB.api('/me/accounts', function (response) {                                                                   // 65\n            //console.log(response);                                                                                   // 66\n            //store the pageToken and pageId for the first entry.                                                      // 68\n            //This account is intended to only have one page as admin                                                  // 69\n            pageToken = response.data[0].access_token;                                                                 // 70\n            pageId = response.data[0].id; //extendToken(pageToken);                                                    // 71\n            //make the API call to post as page                                                                        // 74\n                                                                                                                       //\n            FB.api('/' + pageId + '/feed', 'post', {                                                                   // 75\n                access_token: pageToken,                                                                               // 75\n                message: obj.headline + '\\n' + obj.content                                                             // 75\n            }, function (response) {                                                                                   // 75\n                console.log(response);                                                                                 // 76\n            });                                                                                                        // 77\n        });                                                                                                            // 79\n    }, {                                                                                                               // 80\n        scope: 'publish_actions,manage_pages,publish_pages'                                                            // 80\n    }); //permissions listed here                                                                                      // 80\n}; //test function to post with an image                                                                               // 81\n                                                                                                                       //\n                                                                                                                       //\npostImageFacebook = function (obj) {                                                                                   // 84\n    console.log(\"posting to facebook\"); /*FB.api('/1152573311514394/feed', 'post', {access_token: 'EAAGTzYuTCloBAFMDsZBc4ZB8Vle8L7Scrm07kYvDRc0SvaOYLwbOCQBtinhUQ4OSlRQOdNY7qgIGBDrVK60ckPdcNHZC6mZC8rANyjZCtH4XcE5qexIZCSHFDniuMyGBAcm3eZCpRDmhZA3NrNUyKa63ymrX7kQ4UKA4ThYD7CJffivm32CPIJ7i5sPcQ9X7KTGk5PgGXXpwiQZDZD',\n                                            message: obj.headline,                                                     //\n                                            picture: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg',\n                                            link: 'https://www.nytimes.com/2017/09/08/us/hurricane-irma-miami-florida.html?hp&action=click&pgtype=Homepage&clickSource=story-heading&module=span-ab-top-region&region=top-news&WT.nav=top-news'},  //'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'Images.findOne({'_id':obj.imgId}).url()\n                                            function (response) {                                                      //\n                                                console.log(response);                                                 //\n                                          });*/                                                                        //\n    FB.login(function (response) {                                                                                     // 94\n        //use this to get access token for user                                                                        // 95\n        //var token = response.authResponse.accessToken;                                                               // 96\n        var pageToken, pageId; //make the API call to access pages                                                     // 97\n                                                                                                                       //\n        FB.api('/me/accounts', function (response) {                                                                   // 100\n            console.log(response); //store the pageToken and pageId for the first entry.                               // 101\n            //This account is intended to only have one page as admin                                                  // 104\n                                                                                                                       //\n            pageToken = response.data[0].access_token;                                                                 // 105\n            pageId = response.data[0].id; //make the API call to post as page                                          // 106\n                                                                                                                       //\n            FB.api('/' + pageId + '/photos', 'post', {                                                                 // 109\n                access_token: pageToken,                                                                               // 110\n                message: obj.headline,                                                                                 // 111\n                picture: Images.findOne({                                                                              // 112\n                    '_id': obj.imgId                                                                                   // 112\n                }).url() //'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'          // 112\n                //link: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'             // 113\n                //url: 'https://ak.picdn.net/assets/cms/97e1dd3f8a3ecb81356fe754a1a113f31b6dbfd4-stock-photo-photo-of-a-common-kingfisher-alcedo-atthis-adult-male-perched-on-a-lichen-covered-branch-107647640.jpg'\n                                                                                                                       //\n            }, function (response) {                                                                                   // 109\n                console.log(response);                                                                                 // 116\n            });                                                                                                        // 117\n        });                                                                                                            // 118\n    }, {                                                                                                               // 119\n        scope: 'publish_actions,manage_pages,publish_pages'                                                            // 119\n    }); //permissions listed here                                                                                      // 119\n}; //test function to post with an image                                                                               // 120\n                                                                                                                       //\n                                                                                                                       //\npostTextImageFacebook = function (obj) {                                                                               // 123\n    /*FB.api('/1152573311514394/feed', 'post', {access_token: 'EAAGTzYuTCloBALbOyEn5bDSAOVexEfStqMoHHhgXdZAeaPtUZCDduZAOjEggM89N8CdpfslUkG0OVxVzZBva4gRwla4oiySttyqjpjP92ALvYGean0aG2QdooSmQGhil9fOuarbssvgrnBXy0B8lJL2nZBj9EH83oQEtrnVj7wcIW3LkV8uBS',\n        message: obj.headline + '\\n' + obj.content,                                                                    //\n        picture: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg',                   //\n        link: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'},  //'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'Images.findOne({'_id':obj.imgId}).url()\n        function (response) {                                                                                          //\n            console.log(response);                                                                                     //\n    });*/FB.login(function (response) {                                                                                //\n        //use this to get access token for user                                                                        // 132\n        //var token = response.authResponse.accessToken;                                                               // 133\n        var pageToken, pageId; //make the API call to access pages                                                     // 134\n                                                                                                                       //\n        FB.api('/me/accounts', function (response) {                                                                   // 137\n            console.log(response); //store the pageToken and pageId for the first entry.                               // 138\n            //This account is intended to only have one page as admin                                                  // 141\n                                                                                                                       //\n            pageToken = response.data[0].access_token;                                                                 // 142\n            pageId = response.data[0].id; //make the API call to post as page                                          // 143\n                                                                                                                       //\n            FB.api('/' + pageId + '/photos', 'post', {                                                                 // 146\n                access_token: pageToken,                                                                               // 147\n                message: obj.headline + '\\n' + obj.content,                                                            // 148\n                picture: Images.findOne({                                                                              // 149\n                    '_id': obj.imgId                                                                                   // 149\n                }).url() //link: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'    // 149\n                // url: 'https://ak.picdn.net/assets/cms/97e1dd3f8a3ecb81356fe754a1a113f31b6dbfd4-stock-photo-photo-of-a-common-kingfisher-alcedo-atthis-adult-male-perched-on-a-lichen-covered-branch-107647640.jpg'\n                                                                                                                       //\n            }, function (response) {                                                                                   // 146\n                console.log(response);                                                                                 // 153\n            });                                                                                                        // 154\n        });                                                                                                            // 155\n    }, {                                                                                                               // 156\n        scope: 'publish_actions,manage_pages,publish_pages'                                                            // 156\n    }); //permissions listed here                                                                                      // 156\n};                                                                                                                     // 157\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"imports.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/imports.js                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"../../ui/layouts/applicationLayout.js\"));                                                        // 1\nmodule.watch(require(\"../../ui/components/navigation.js\"));                                                            // 1\nmodule.watch(require(\"../../ui/pages/login.js\"));                                                                      // 1\nmodule.watch(require(\"../../ui/pages/stream.js\"));                                                                     // 1\nmodule.watch(require(\"../../ui/pages/firstTime.js\"));                                                                  // 1\nmodule.watch(require(\"../../ui/pages/details.js\"));                                                                    // 1\nmodule.watch(require(\"../../ui/components/editor.js\"));                                                                // 1\nmodule.watch(require(\"../../ui/pages/course.js\"));                                                                     // 1\nmodule.watch(require(\"../../ui/pages/dashboard.js\"));                                                                  // 1\nmodule.watch(require(\"../../ui/pages/blogs.js\"));                                                                      // 1\nmodule.watch(require(\"../../ui/pages/bigPicture.js\"));                                                                 // 1\nmodule.watch(require(\"./facebook.js\"));                                                                                // 1\nmodule.watch(require(\"./algoliaSearch.js\"));                                                                           // 1\nmodule.watch(require(\"./algoliaAll.js\"));                                                                              // 1\nDrafts = new Mongo.Collection('drafts');                                                                               // 28\nClubs = new Mongo.Collection('clubs');                                                                                 // 29\nPosts = new Mongo.Collection('posts');                                                                                 // 30\nCourses = new Mongo.Collection('courses');                                                                             // 31\nCategories = new Mongo.Collection('categories');                                                                       // 32\nBlogCategories = new Mongo.Collection('blogcategories');                                                               // 33\nSuggestions = new Mongo.Collection('suggestions');                                                                     // 34\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/index.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/**                                                                                                                    // 1\n * This file defines the entry point of the client application, all initialization                                     //\n * behaviors are defined here.*/'use strict';                                                                          //\n                                                                                                                       //\nmodule.watch(require(\"./imports.js\"));                                                                                 // 1\nmodule.watch(require(\"./routes.js\"));                                                                                  // 1\nDeps.autorun(function () {                                                                                             // 8\n    Session.setDefault('searchContent', {                                                                              // 9\n        hits: []                                                                                                       // 9\n    });                                                                                                                // 9\n    document.title = Session.get(\"DocumentTitle\");                                                                     // 10\n});                                                                                                                    // 11\n                                                                                                                       //\nfunction getUserLanguage() {                                                                                           // 13\n    return \"en\";                                                                                                       // 14\n}                                                                                                                      // 15\n                                                                                                                       //\nif (Meteor.isClient) {                                                                                                 // 17\n    Meteor.startup(function () {                                                                                       // 18\n        TAPi18n.setLanguage('en').done(function () {}).fail(function (error_message) {                                 // 19\n            // Handle the situation                                                                                    // 23\n            console.log(error_message);                                                                                // 24\n        });                                                                                                            // 25\n    });                                                                                                                // 26\n}                                                                                                                      // 27\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"routes.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/routes.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/**                                                                                                                    // 1\n * This file defines all the routing that takes place                                                                  //\n *                                                                                                                     //\n * */var loggedIn = FlowRouter.group({                                                                                 //\n    triggersEnter: [function () {                                                                                      // 7\n        var route = void 0;                                                                                            // 9\n        Session.set(\"DocumentTitle\", \"UHS Life - Crafted By Students, For Everyone\");                                  // 10\n                                                                                                                       //\n        if (!(Meteor.loggingIn() || Meteor.userId())) {                                                                // 11\n            route = FlowRouter.current();                                                                              // 12\n            Session.set('redirectAfterLogin', route.path);                                                             // 13\n            console.log(Session.get('redirectAfterLogin'));                                                            // 14\n            FlowRouter.go('/login');                                                                                   // 15\n        } else {                                                                                                       // 16\n            Tracker.autorun(function () {                                                                              // 17\n                var userSub = Meteor.subscribe('allUsers');                                                            // 18\n                var user = Meteor.user();                                                                              // 19\n                                                                                                                       //\n                if (user && userSub.ready()) {                                                                         // 20\n                    Session.setPersistent('inDash', false);                                                            // 21\n                                                                                                                       //\n                    if (!user.profile.init) {                                                                          // 22\n                        Meteor.call('accounts.initRoles');                                                             // 23\n                        FlowRouter.go('/first');                                                                       // 24\n                    } else {                                                                                           // 25\n                        Session.setPersistent('name', user.services.google.name);                                      // 26\n                                                                                                                       //\n                        if (Roles.userIsInRole(Meteor.userId(), 'student')) {                                          // 27\n                            Session.setPersistent('courses', user.private.courses);                                    // 28\n                            Session.setPersistent('token', user.private.token);                                        // 29\n                            Session.setPersistent('tokenExpiry', user.private.tokenDate);                              // 30\n                        }                                                                                              // 31\n                                                                                                                       //\n                        Session.set('user_img', user.services.google.picture);                                         // 32\n                    }                                                                                                  // 33\n                }                                                                                                      // 34\n            });                                                                                                        // 35\n        }                                                                                                              // 36\n    }]                                                                                                                 // 37\n});                                                                                                                    // 6\nvar admin = FlowRouter.group({                                                                                         // 41\n    triggersEnter: [function () {                                                                                      // 42\n        var route = void 0;                                                                                            // 44\n                                                                                                                       //\n        if (!(Meteor.loggingIn() || Meteor.userId())) {                                                                // 45\n            route = FlowRouter.current();                                                                              // 46\n            Session.set('redirectAfterLogin', route.path);                                                             // 47\n            console.log(Session.get('redirectAfterLogin'));                                                            // 48\n            FlowRouter.go('/login');                                                                                   // 49\n        } else {                                                                                                       // 50\n            Session.setPersistent('inDash', true);                                                                     // 51\n            Tracker.autorun(function () {                                                                              // 52\n                var userSub = Meteor.subscribe('allUsers');                                                            // 53\n                var user = Meteor.user();                                                                              // 54\n                                                                                                                       //\n                if (user && userSub.ready()) {                                                                         // 55\n                    if (!user.profile.init) {                                                                          // 56\n                        Meteor.call('accounts.initRoles');                                                             // 57\n                        FlowRouter.go('/first');                                                                       // 58\n                    } else {                                                                                           // 59\n                        Session.set('name', user.services.google.name);                                                // 60\n                        Session.set('id', user.profile.id);                                                            // 61\n                        Session.set('courses', user.private.courses);                                                  // 62\n                        Session.set('tokenExpiry', user.private.tokenDate);                                            // 63\n                        Session.set('token', user.private.token);                                                      // 64\n                        Session.set('user_img', user.services.google.picture);                                         // 65\n                    } /*else if(!Roles.userIsInRole(user._id, 'admin')){                                               // 66\n                       alertError('Sorry', \"You do not have access to this area.\");                                    //\n                       FlowRouter.go('/')                                                                              //\n                       }*/                                                                                             //\n                }                                                                                                      // 71\n            });                                                                                                        // 72\n        }                                                                                                              // 73\n    }]                                                                                                                 // 74\n});                                                                                                                    // 41\nadmin.route('/dashboard/users', {                                                                                      // 78\n    action: function () {                                                                                              // 79\n        Session.set(\"DocumentTitle\", \"Users - Administrative Dashboard | uhs.life\");                                   // 80\n        BlazeLayout.render('dashboard', {                                                                              // 81\n            dash: 'dashUsers'                                                                                          // 81\n        });                                                                                                            // 81\n    }                                                                                                                  // 82\n});                                                                                                                    // 78\nadmin.route('/dashboard/announcements', {                                                                              // 85\n    action: function () {                                                                                              // 86\n        Session.set(\"DocumentTitle\", \"All Announcements - Administrative Dashboard | uhs.life\");                       // 87\n        BlazeLayout.render('dashboard', {                                                                              // 88\n            dash: 'dashAnnouncements'                                                                                  // 88\n        });                                                                                                            // 88\n    }                                                                                                                  // 89\n});                                                                                                                    // 85\nadmin.route('/dashboard/categories', {                                                                                 // 92\n    action: function () {                                                                                              // 93\n        Session.set(\"DocumentTitle\", \"Categories - Administrative Dashboard | uhs.life\");                              // 94\n        BlazeLayout.render('dashboard', {                                                                              // 95\n            dash: 'dashCategories'                                                                                     // 95\n        });                                                                                                            // 95\n    }                                                                                                                  // 96\n});                                                                                                                    // 92\nadmin.route('/dashboard/organizations', {                                                                              // 99\n    action: function () {                                                                                              // 100\n        Session.set(\"DocumentTitle\", \"Organizations - Administrative Dashboard | uhs.life\");                           // 101\n        BlazeLayout.render('dashboard', {                                                                              // 102\n            dash: 'dashOrganizations'                                                                                  // 102\n        });                                                                                                            // 102\n    }                                                                                                                  // 103\n});                                                                                                                    // 99\nadmin.route('/dashboard/suggestions', {                                                                                // 106\n    action: function () {                                                                                              // 107\n        Session.set(\"DocumentTitle\", \"Suggestions - Administrative Dashboard | uhs.life\");                             // 108\n        BlazeLayout.render('dashboard', {                                                                              // 109\n            dash: 'dashSuggestions'                                                                                    // 109\n        });                                                                                                            // 109\n    }                                                                                                                  // 110\n});                                                                                                                    // 106\nFlowRouter.route('/login', {                                                                                           // 113\n    waitOn: function () {                                                                                              // 114\n        setTimeout(function () {                                                                                       // 115\n            Accounts.loginServicesConfigured();                                                                        // 116\n        }, 500);                                                                                                       // 117\n    },                                                                                                                 // 118\n    action: function () {                                                                                              // 119\n        if (!Meteor.userId()) {                                                                                        // 120\n            Session.set('redirectAfterLogin', '/');                                                                    // 121\n            Session.set(\"DocumentTitle\", \"Please Login | uhs.life\");                                                   // 122\n            BlazeLayout.render('applicationLayout', {                                                                  // 123\n                main: 'login'                                                                                          // 123\n            });                                                                                                        // 123\n        } else {                                                                                                       // 124\n            FlowRouter.go('/');                                                                                        // 125\n        }                                                                                                              // 126\n    },                                                                                                                 // 127\n    name: 'login'                                                                                                      // 128\n});                                                                                                                    // 113\nloggedIn.route('/stories', {                                                                                           // 131\n    action: function () {                                                                                              // 132\n        BlazeLayout.render('applicationLayout', {                                                                      // 133\n            main: 'blogs'                                                                                              // 133\n        });                                                                                                            // 133\n    }                                                                                                                  // 134\n});                                                                                                                    // 131\nloggedIn.route('/blog/:postId', {                                                                                      // 137\n    action: function (params) {                                                                                        // 138\n        if (params.postId === 'preview') {                                                                             // 139\n            Session.setPersistent('post_data', Session.get('preview_json'));                                           // 140\n        } else {                                                                                                       // 141\n            Tracker.autorun(function () {                                                                              // 142\n                var post = Posts.findOne({                                                                             // 143\n                    _id: params.postId                                                                                 // 143\n                });                                                                                                    // 143\n                                                                                                                       //\n                if (post) {                                                                                            // 144\n                    Session.set(\"DocumentTitle\", post.title + \" | uhs.life\");                                          // 145\n                    Session.setPersistent('post_data', post);                                                          // 146\n                }                                                                                                      // 147\n            });                                                                                                        // 148\n        }                                                                                                              // 149\n                                                                                                                       //\n        window.scrollTo(0, 0);                                                                                         // 150\n        BlazeLayout.render('applicationLayout', {                                                                      // 151\n            main: 'details'                                                                                            // 151\n        });                                                                                                            // 151\n    }                                                                                                                  // 152\n});                                                                                                                    // 137\nadmin.route('/dashboard', {                                                                                            // 155\n    action: function () {                                                                                              // 156\n        Session.set(\"DocumentTitle\", \"Administrative Dashboard | uhs.life\");                                           // 157\n        BlazeLayout.render('dashboard', {                                                                              // 158\n            dash: 'dashHome'                                                                                           // 158\n        });                                                                                                            // 158\n    }                                                                                                                  // 159\n});                                                                                                                    // 155\nloggedIn.route('/course/:courseId', {                                                                                  // 162\n    action: function (params) {                                                                                        // 163\n        var tokenJson = Session.get('token');                                                                          // 164\n        console.log(tokenJson);                                                                                        // 165\n        tokenJson.subject_id = params.courseId;                                                                        // 166\n        Meteor.call('getTeachAssistCourseDetails', tokenJson, function (err, data) {                                   // 167\n            if (err || data.ERROR) {                                                                                   // 168\n                if (err.error === 400) {                                                                               // 169\n                    Modal.show('teachAssistPass');                                                                     // 170\n                } else {                                                                                               // 171\n                    alertError('Something went wrong', 'We are having problems talking to teach assist. You can visit ta.yrdsb.ca for more details on your mark.');\n                }                                                                                                      // 173\n            } else {                                                                                                   // 174\n                console.log(data);                                                                                     // 175\n                var a = Meteor.user().private.courses;                                                                 // 176\n                console.log(a);                                                                                        // 177\n                var found = void 0;                                                                                    // 178\n                var entry = void 0;                                                                                    // 179\n                                                                                                                       //\n                for (var index = 0; index < a.length; ++index) {                                                       // 180\n                    entry = a[index];                                                                                  // 181\n                                                                                                                       //\n                    if (entry.subject_id === params.courseId) {                                                        // 182\n                        found = entry;                                                                                 // 183\n                        break;                                                                                         // 184\n                    }                                                                                                  // 185\n                }                                                                                                      // 186\n                                                                                                                       //\n                Session.setPersistent('displayMark', found.mark);                                                      // 187\n                Session.setPersistent('courseData', data);                                                             // 188\n                window.scrollTo(0, 0);                                                                                 // 189\n                BlazeLayout.render('applicationLayout', {                                                              // 190\n                    main: 'course'                                                                                     // 190\n                });                                                                                                    // 190\n            }                                                                                                          // 191\n        });                                                                                                            // 192\n    },                                                                                                                 // 193\n    name: 'course'                                                                                                     // 194\n});                                                                                                                    // 162\nloggedIn.route('/big-picture', {                                                                                       // 197\n    action: function () {                                                                                              // 198\n        BlazeLayout.render('applicationLayout', {                                                                      // 199\n            main: 'bigPicture'                                                                                         // 199\n        });                                                                                                            // 199\n    },                                                                                                                 // 200\n    name: 'bigPicture' // Optional route name.                                                                         // 201\n                                                                                                                       //\n});                                                                                                                    // 197\nloggedIn.route('/', {                                                                                                  // 204\n    action: function () {                                                                                              // 205\n        Session.set(\"DocumentTitle\", \"Stream | uhs.life\");                                                             // 206\n        BlazeLayout.render('applicationLayout', {                                                                      // 207\n            main: 'stream'                                                                                             // 207\n        });                                                                                                            // 207\n    },                                                                                                                 // 208\n    name: 'root' // Optional route name.                                                                               // 209\n                                                                                                                       //\n});                                                                                                                    // 204\nloggedIn.route('/stream', {                                                                                            // 212\n    action: function () {                                                                                              // 213\n        BlazeLayout.render('applicationLayout', {                                                                      // 214\n            main: 'stream'                                                                                             // 214\n        });                                                                                                            // 214\n    },                                                                                                                 // 215\n    name: 'stream' // Optional route name.                                                                             // 216\n                                                                                                                       //\n});                                                                                                                    // 212\nloggedIn.route('/logout', {                                                                                            // 219\n    action: function () {                                                                                              // 220\n        Session.set(\"DocumentTitle\", \"Logging out...\");                                                                // 221\n        Meteor.logout(function () {                                                                                    // 222\n            Session.clear();                                                                                           // 223\n            FlowRouter.go('/');                                                                                        // 224\n        });                                                                                                            // 225\n    },                                                                                                                 // 226\n    name: 'logout'                                                                                                     // 227\n});                                                                                                                    // 219\nloggedIn.route('/first', {                                                                                             // 230\n    action: function () {                                                                                              // 231\n        Session.set(\"DocumentTitle\", \"Welcome to uhs.life!\");                                                          // 232\n        BlazeLayout.render('applicationLayout', {                                                                      // 233\n            main: 'firstTime'                                                                                          // 233\n        }); /*Tracker.autorun(function () {                                                                            // 233\n                let user = Meteor.user();                                                                              //\n                if(user){                                                                                              //\n                    if(user.profile.init){                                                                             //\n                        FlowRouter.go('/')                                                                             //\n                    }else{                                                                                             //\n                        BlazeLayout.render('applicationLayout',{main: 'firstTime'});                                   //\n                    }                                                                                                  //\n                }                                                                                                      //\n            });*/                                                                                                      //\n    },                                                                                                                 // 244\n    name: 'first'                                                                                                      // 245\n});                                                                                                                    // 230\n                                                                                                                       //\ncheckTokenExpiry = function () {                                                                                       // 248\n    var now = new Date();                                                                                              // 249\n    var diff = Math.abs(now - Session.get('tokenExpiry'));                                                             // 250\n    var minutes = Math.floor(diff / 1000 / 60);                                                                        // 251\n    return minutes < 15;                                                                                               // 252\n};                                                                                                                     // 253\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},\"client\":{\"template.main.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/template.main.js                                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n                                                                                                                       // 1\nTemplate.body.addContent((function() {                                                                                 // 2\n  var view = this;                                                                                                     // 3\n  return Spacebars.include(view.lookupTemplate(\"applicationLayout\"));                                                  // 4\n}));                                                                                                                   // 5\nMeteor.startup(Template.body.renderToDocument);                                                                        // 6\n                                                                                                                       // 7\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"/imports/startup/client\"));                                                                      // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"i18n\":{\"en.i18n.json\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// i18n/en.i18n.json                                                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _ = Package.underscore._,                                                                                          // 1\n    package_name = \"project\",                                                                                          // 2\n    namespace = \"project\";                                                                                             // 3\n                                                                                                                       // 4\nif (package_name != \"project\") {                                                                                       // 5\n    namespace = TAPi18n.packages[package_name].namespace;                                                              // 6\n}                                                                                                                      // 7\nTAPi18n._enable({\"helper_name\":\"_\",\"supported_languages\":null,\"i18n_files_route\":\"/tap-i18n\",\"preloaded_langs\":[],\"cdn_path\":null});\nTAPi18n.languages_names[\"en\"] = [\"English\",\"English\"];                                                                 // 9\n// integrate the fallback language translations                                                                        // 10\ntranslations = {};                                                                                                     // 11\ntranslations[namespace] = {\"branding\":\"uhs.life\",\"tagline\":\"Built by students, for everyone.\",\"loading\":\"Loading...\",\"login\":{\"title\":\"Login\",\"main_btn\":\"Login With Gapps\",\"about\":\"About\",\"branding\":\"uhs.life\",\"help\":\"Help Center\",\"legal\":\"Legal Stuff\",\"read_more\":\"Read More\",\"welcome\":\"Welcome\"},\"nav\":{\"left\":\"MENU\",\"right\":\"SEARCH\",\"close\":\"CLOSE\",\"search_prompt\":{\"init\":\"Type something in the box above to search\"},\"logout\":\"LOGOUT\",\"side_items\":{\"stream\":\"Stream\",\"stories\":\"Stories\",\"marks\":\"Academics\",\"suggest\":\"Suggestions to Admin\",\"admin\":\"Dashboard\"},\"teach\":{\"login\":\"Please Login to\",\"submit_login\":\"Login\",\"connect\":\"Connect your Teach Assist Account\"}},\"stream\":{\"all\":\"All\",\"time_range\":\"Effective\",\"read_more\":\"Read More\",\"no\":\"There are no announcements today! 😅\"},\"details\":{\"scroll\":\"Scroll Down\",\"posted_date\":\"Posted\",\"course\":{\"knowledge\":\"Knowledge\",\"thinking\":\"Thinking\",\"communication\":\"Communication\",\"application\":\"Application\",\"culminating\":\"Culminating\",\"other\":\"Other\",\"menu\":{\"assess\":\"Assessments\",\"insights\":\"Insights\",\"resources\":\"Resources\"},\"expand_a\":\"You got\",\"expand_b\":\"out of\",\"no\":\"No Marks Available\",\"weight\":\"Weight\",\"timeline_graph\":\"Timeline of Your Mark\",\"assignments_graph\":\"Section Marks by Assignment\"}},\"first\":{\"greet\":\"Hello There!\",\"greet_more\":\"Thank you for signing up for uhs.life! Since it's your first time here, we would like to know some things about you, it's really short\",\"teach\":\"Connect Your Teach Assist Account\",\"teach_more\":\"Connecting your teach assist enables you to view your marks, assignments, academic progress and find resources written by UHS teachers on your subject. You do not have to opt-in for this service, and you can opt-out any time. (You can opt-in later)\",\"teach_skip\":\"No, I do not want to connect my Teach Assist, please\",\"teach_t\":\"Do you teach any courses or supervise any clubs?\",\"teach_t_more\":\"Selecting these will help us build your profile, if you don't have any or prefer not to tell simply click skip.\",\"teach_t_skip\":\"This section does not apply to me, I want to\",\"news\":\"Sign Up For Newsletter Subscription\",\"news_more\":\"We offer weekly briefings on everything that happened in our school and tips and tricks on studying at Unionville Highs School, why not subscribe to learn more about your school? You can opt-out and opt-in at any time. We'll never share your email with anyone else or spam you. Read more in our privacy policy.\",\"news_inst\":\"If you would like the news to be on your gapps account, simply click sign up, if you would like to use a personal email, change the email in the box below, then hit sign up. If you do not want to subscribe, click skip.\",\"news_skip\":\"No, I do not want weekly briefing, please\",\"confirm\":\"We are almost there...\",\"confirm_more\":\"We are almost done here, confirm the information bellow and agree to the Terms of Service of uhs.life.\",\"confirm_t_more\":\"We are almost done here, why not give yourself a tag line, this will appear under your name in a story post. Then confirm the information bellow, and agree to the Terms of Service of uhs.life.\",\"done\":\"Thank You!\",\"done_more\":\"Welcome to uhs.life\",\"btn\":{\"intro\":\"Let's go!\",\"authorize\":\"AUTHORIZE\",\"skip\":\"skip\",\"signup\":\"Sign Up\",\"done\":\"We are Done!\"},\"input\":{\"sNum\":\"Teach Assist Login\",\"sPass\":\"Teach Assist Password\",\"cName\":\"Your Name\",\"cNum\":\"Your Student Number\",\"cMail\":\"The email that we will be sending news letters to\",\"cTerms\":\"I have read and agreed with the Terms of Service\",\"tCourse\":\"What Courses do you teach? Select all that applies\",\"tClub\":\"What Clubs do you supervise? Select all that applies\"}}};\nTAPi18n._loadLangFileObject(\"en\", translations);                                                                       // 13\n                                                                                                                       // 14\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\",\n    \".less\"\n  ]\n});\nrequire(\"./client/template.main.js\");\nrequire(\"./i18n/en.i18n.json\");\nrequire(\"./client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["imports/ui/components/editor.js","imports/ui/components/navigation.js","imports/ui/layouts/applicationLayout.js","imports/ui/pages/bigPicture.js","imports/ui/pages/blogs.js","imports/ui/pages/course.js","imports/ui/pages/dashboard.js","imports/ui/pages/details.js","imports/ui/pages/firstTime.js","imports/ui/pages/login.js","imports/ui/pages/stream.js","imports/ui/lib/alert.js","imports/ui/lib/charting.js","imports/ui/lib/morphext.js","imports/api/images/images.js","imports/startup/client/algoliaAll.js","imports/startup/client/algoliaSearch.js","imports/startup/client/facebook.js","imports/startup/client/imports.js","imports/startup/client/index.js","imports/startup/client/routes.js","client/main.js"],"names":["Images","module","watch","require","v","operationStack","hasUnsplash","originalTitle","allPosts","Template","onRendered","Tracker","autorun","Meteor","subscribeWithPagination","subscribe","blogDraft","blogEditor","categorySub","courseSub","clubSub","ready","categories","BlogCategories","find","observeChanges","added","id","fields","newCat","Option","name","$","append","courses","Courses","clubs","Clubs","code","document","select2","placeholder","allowClear","datepicker","startDate","$editor","froalaEditor","scaytAutoload","scaytOptions","enableOnTouchDevices","localization","extraModules","DefaultSelection","spellcheckLang","contextMenuSections","serviceProtocol","servicePort","serviceHost","servicePath","contextMenuForMisspelledOnly","scriptPath","toolbarButtons","toolbarButtonsSM","placeholderText","tableStyles","class1","paragraphFormat","N","H2","PRE","fileAllowedTypes","on","e","editor","images","self","insert","err","fileObj","c","findOne","_id","url","imgList","length","remove","link","isClient","Dropzone","autoDiscover","tagsinput","blogDrop","initDropZone","number","size","message","announcementEditor","Categories","arrayOfImageIds","announcementDrop","announcementImageTwo","suggestionEditor","suggestionDrop","announcementOptions","helpers","Roles","userIsInRole","userId","Drafts","moment","draftedDate","format","unsplash","urls","full","imgId","type","Posts","meta","screeningStage","text","events","Session","get","set","swapElements","push","css","overflow","pop","evt","maxlength","target","attr","val","console","log","priority","removeClass","addClass","preventDefault","loadNextPage","hasClass","obj","closest","setEditorContent","alertConfirm","accepted","alertError","alertSuccess","event","template","json","constructBlogJson","call","wipeEditor","update","html","list","getKeyWord","agent","getImg","data","results","replaceWith","regular","user","links","location","num","getRandomInt","imageID","previewPost","title","subtitle","content","tags","setPersistent","window","open","constructAnnouncementJson","subType","headline","value","authorId","Date","author","info","maxFiles","maxFilesize","thumbnailWidth","addRemoveLinks","dictDefaultMessage","accept","file","done","FSFile","FS","File","extension","a","b","fadeOut","fadeIn","min","max","Math","floor","random","_","forEach","item","visibility","trigger","organizationsValues","releaseDate","endDate","str","separators","split","RegExp","join","options","i","opt","selected","orgOptions","getElementById","orgNames","orgVal","imageFirst","organizationsNames","clubList","keyword_extractor","keywords","extraction_result","extract","language","remove_digits","return_changed_case","remove_duplicates","remove_max_ngrams","Typed","navigation","hide","hits","now","diff","abs","minutes","mark","sideNav","sideNavPrompt","toggleClass","searchBox","searchContent","prompt","is","show","typed","strings","typeSpeed","loop","shuffle","showCursor","cursorChar","Modal","icon","searchPrompt","searchPost","teachAssistPass","profile","student_number","teachAssistConnect","pass","password","users","$set","FlowRouter","reload","setTitle","setProgressBar","percentage","animate","width","flickity","imagesLoaded","morphSettings","animation","separator","speed","complete","bigPicture","newsSub","imageSub","cellAlign","contain","lazyLoad","autoPlay","pageDots","prevNextButtons","pauseAutoPlayOnHover","selectedAttraction","friction","bigPictureItem","bottomBar","displayTime","Morphext","time","setTimeout","blogs","onCreated","blogCategory","limit","blogItem","services","google","releasedDate","string","substring","go","course","sub","indexOf","k","t","marks","categoryMarks","datasets","drawChart","scroll","each","arr","assessment","newArr","splice","round","outOf","O","choice","object","section","achieved","weight","background","K","T","C","A","slideDown","slideUp","filterValue","currentValue","names","timeline","drawPolyChart","drawPerformChart","dashboard","dashCategories","dashHome","dashSuggestions","dashOrganizations","dashUsers","dashAnnouncements","Suggestions","featured","createdDate","picture","includes","reason","alertPrompt","result","codes","dashRoleEditor","roles","dashClubEditor","drop","dashCategoryEditor","dashPostEditor","description","room","schedule","details","image","firstTime","email","userInfo","validateEmail","given_name","family_name","checked","re","test","login","prop","height","opacity","loginWithPassword","registerEmail","firstName","lastName","registerPassword","Accounts","createUser","username","fullName","homeRoom","alert","loginWithGoogle","loginStyle","requestPermissions","onLogin","redirect","isotopeSettings","itemSelector","percentPosition","masonry","columnWidth","gutter","stream","$grid","postSub","isotope","progress","query","changed","removed","fetch","reverse","filter","getUnsplashLink","body","bootbox","buttons","ok","label","className","callback","confirm","cancel","inputType","chart","Chart","defaults","global","legend","display","tooltips","enabled","chartId","color","ctx","getContext","labels","toFixed","backgroundColor","hoverBackgroundColor","drawSmallChartSide","myNewChart","drawSmallChart","assignments","fill","lineTension","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","spanGaps","myChart","scales","xAxes","ticks","yAxes","drawHalfChart","total","myDoughnutChart","cutoutPercentage","rotation","PI","circumference","drawHalfChartSide","drawPolyChartSide","pluginName","noop","Plugin","element","settings","extend","_defaults","_init","prototype","$that","phrases","key","trim","index","start","innerHTML","isFunction","_interval","setInterval","stop","clearInterval","fn","jQuery","export","imageStore","Store","GridFS","Collection","stores","allow","download","client","AlgoliaSearch","initIndex","searchAll","keyword","search","searchDone","error","nbHits","module1","setupFacebook","FB","init","appId","status","xfbml","version","response","extendToken","accessToken","appSec","response2","grant_type","client_id","client_secret","fb_exchange_token","postTextFacebook","pageToken","pageId","api","access_token","scope","postImageFacebook","postTextImageFacebook","Mongo","Deps","setDefault","getUserLanguage","startup","TAPi18n","setLanguage","fail","error_message","loggedIn","group","triggersEnter","route","loggingIn","current","path","userSub","private","token","tokenDate","admin","action","BlazeLayout","render","dash","waitOn","loginServicesConfigured","main","params","postId","post","scrollTo","tokenJson","subject_id","courseId","ERROR","found","entry","logout","clear","checkTokenExpiry"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,eAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,4BAAR,CAAb,EAAmD;AAACH,UAAD,YAAQI,CAAR,EAAU;AAACJ,iBAAOI,CAAP;AAAS;AAApB,CAAnD,EAAyE,CAAzE;AAA4EH,OAAOC,KAAP,CAAaC,QAAQ,eAAR,CAAb;AAMvF,IAAIE,iBAAiB,CAAC,cAAD,CAArB;AACA,IAAIC,cAAc,KAAlB;AACA,IAAIC,gBAAgB,EAApB;AACA,IAAIC,WAAW,IAAf;AACAC,SAASD,QAAT,CAAkBE,UAAlB,CAA6B,YAAY;AACrCC,YAAQC,OAAR,CAAgB,YAAY;AACxBJ,mBAAWK,OAAOC,uBAAP,CAA+B,aAA/B,EAA8C,EAA9C,CAAX;AACAD,eAAOE,SAAP,CAAiB,QAAjB;AACH,KAHD;AAIH,CALD;AAOAN,SAASO,SAAT,CAAmBN,UAAnB,CAA8B,YAAY;AACtCC,YAAQC,OAAR,CAAgB,YAAY;AACxBC,eAAOC,uBAAP,CAA+B,QAA/B,EAAyC,EAAzC;AACAD,eAAOE,SAAP,CAAiB,QAAjB;AACH,KAHD;AAIH,CALD;AAOAN,SAASQ,UAAT,CAAoBP,UAApB,CAA+B,YAAY;AACvCC,YAAQC,OAAR,CAAgB,YAAY;AACxB,YAAIM,cAAcL,OAAOE,SAAP,CAAiB,gBAAjB,CAAlB;AACA,YAAII,YAAYN,OAAOE,SAAP,CAAiB,YAAjB,EAA8B,IAA9B,CAAhB;AACA,YAAIK,UAAUP,OAAOE,SAAP,CAAiB,UAAjB,EAA4B,IAA5B,CAAd;;AACA,YAAGG,YAAYG,KAAZ,EAAH,EAAuB;AACnB,gBAAIC,aAAaC,eAAeC,IAAf,CAAoB,EAApB,CAAjB;AACAF,uBAAWG,cAAX,CAA0B;AACtBC,uBAAO,UAASC,EAAT,EAAaC,MAAb,EAAqB;AACxB,wBAAIC,SAAS,IAAIC,MAAJ,CAAWF,OAAOG,IAAlB,EAAwBH,OAAOG,IAA/B,CAAb;AACAC,sBAAE,qBAAF,EAAyBC,MAAzB,CAAgCJ,MAAhC;AACH;AAJqB,aAA1B;AAMH;;AACD,YAAGV,UAAUE,KAAV,MAAqBD,QAAQC,KAAR,EAAxB,EAAwC;AACpC,gBAAIa,UAAUC,QAAQX,IAAR,CAAa,EAAb,CAAd;AACA,gBAAIY,QAAQC,MAAMb,IAAN,CAAW,EAAX,CAAZ;AACAU,oBAAQT,cAAR,CAAuB;AACnBC,uBAAO,UAAUC,EAAV,EAAcC,MAAd,EAAsB;AACzB,wBAAIC,SAAS,IAAIC,MAAJ,CAAWF,OAAOG,IAAP,GAAc,KAAd,GAAsBH,OAAOU,IAAxC,EAA8CV,OAAOU,IAArD,CAAb;AACAN,sBAAE,yBAAF,EAA6BC,MAA7B,CAAoCJ,MAApC;AACH;AAJkB,aAAvB;AAMAO,kBAAMX,cAAN,CAAqB;AACjBC,uBAAO,UAAUC,EAAV,EAAcC,MAAd,EAAsB;AACzB,wBAAIC,SAAS,IAAIC,MAAJ,CAAWF,OAAOG,IAAlB,EAAwBH,OAAOU,IAA/B,CAAb;AACAN,sBAAE,yBAAF,EAA6BC,MAA7B,CAAoCJ,MAApC;AACH;AAJgB,aAArB;AAMH;AACJ,KA7BD;AA8BAG,MAAEO,QAAF,EAAYlB,KAAZ,CAAkB,YAAY;AAC1BW,UAAE,qBAAF,EAAyBQ,OAAzB,CAAiC;AAC7BC,yBAAa,qCADgB;AAE7BC,wBAAY;AAFiB,SAAjC;AAIAV,UAAE,yBAAF,EAA6BQ,OAA7B,CAAqC;AACjCC,yBAAa,qCADoB;AAEjCC,wBAAY;AAFqB,SAArC,EAL0B,CAS1B;;AACAV,UAAE,oBAAF,EAAwBQ,OAAxB,CAAgC;AAC5BC,yBAAa;AADe,SAAhC;AAGAT,UAAE,aAAF,EAAiBW,UAAjB,CAA4B;AACxBC,uBAAW;AADa,SAA5B;AAGA,YAAIC,UAAUb,EAAE,WAAF,CAAd;AACAa,gBAAQC,YAAR,CAAqB;AACjBC,2BAAe,KADE;AAEjB;AACAC,0BAAc;AACVC,sCAAsB,KADZ;AAEVC,8BAAc,IAFJ;AAGVC,8BAAc,IAHJ;AAIVC,kCAAkB,kBAJR;AAKVC,gCAAgB,OALN;AAMVC,qCAAqB,qBANX;AAOVC,iCAAiB,OAPP;AAQVC,6BAAa,IARH;AASVC,6BAAa,yBATH;AAUVC,6BAAa,4BAVH;AAWVC,8CAA8B,IAXpB;AAYVC,4BAAY;AAZF,aAHG;AAiBjB;AACAC,4BAAgB,CAAC,YAAD,EAAe,GAAf,EAAoB,iBAApB,EAAuC,MAAvC,EAA+C,QAA/C,EAAyD,WAAzD,EAAsE,eAAtE,EAAuF,WAAvF,EAAoG,aAApG,EAAmH,GAAnH,EAAwH,OAAxH,EAAiI,UAAjI,EAA6I,UAA7I,EAAyJ,SAAzJ,EAAoK,QAApK,EAA8K,OAA9K,EAAuL,GAAvL,EAA4L,YAA5L,EAA0M,aAA1M,EAAyN,YAAzN,EAAuO,aAAvO,EAAsP,aAAtP,EAAqQ,GAArQ,EAA0Q,WAA1Q,EAAuR,mBAAvR,EAA4S,UAA5S,EAAwT,GAAxT,EAA6T,OAA7T,EAAsU,MAAtU,EAA8U,GAA9U,EAAmV,MAAnV,EAA2V,MAA3V,CAlBC;AAmBjBC,8BAAkB,CAAC,YAAD,EAAe,GAAf,EAAoB,MAApB,EAA4B,QAA5B,EAAsC,WAAtC,EAAmD,GAAnD,EAAwD,iBAAxD,EAA2E,OAA3E,EAAoF,UAApF,EAAgG,UAAhG,EAA4G,SAA5G,EAAuH,QAAvH,EAAiI,OAAjI,EAA0I,GAA1I,EAA+I,YAA/I,EAA6J,aAA7J,EAA4K,YAA5K,EAA0L,aAA1L,EAAyM,aAAzM,EAAwN,GAAxN,EAA6N,mBAA7N,EAAkP,UAAlP,EAA8P,WAA9P,EAA2Q,iBAA3Q,EAA8R,GAA9R,EAAmS,OAAnS,EAA4S,MAA5S,EAAoT,GAApT,EAAyT,MAAzT,EAAiU,MAAjU,CAnBD;AAoBjBC,6BAAiB,yBApBA;AAqBjBC,yBAAa;AACTC,wBAAQ;AADC,aArBI;AAwBjBC,6BAAiB;AACbC,mBAAG,QADU;AAEbC,oBAAI,OAFS;AAGbC,qBAAK;AAHQ,aAxBA;AA6BjBC,8BAAkB,CAAC,iBAAD,EAAoB,oBAApB;AA7BD,SAArB;AA+BAzB,gBAAQ0B,EAAR,CAAW,iCAAX,EAA8C,UAAUC,CAAV,EAAaC,MAAb,EAAqBC,MAArB,EAA6B;AACvE,gBAAIC,OAAO3C,EAAE,IAAF,CAAX;AAEAhC,mBAAO4E,MAAP,CAAcF,OAAO,CAAP,CAAd,EAAyB,UAAUG,GAAV,EAAeC,OAAf,EAAwB;AAC7C;AACA;AACAnE,wBAAQC,OAAR,CAAgB,UAAUmE,CAAV,EAAa;AACzBD,8BAAU9E,OAAOgF,OAAP,CAAeF,QAAQG,GAAvB,CAAV;AACA,wBAAIC,MAAMJ,QAAQI,GAAR,EAAV;;AACA,wBAAIA,GAAJ,EAAS;AACL,4BAAIC,UAAUnD,EAAE,YAAF,CAAd;AACA2C,6BAAK7B,YAAL,CAAkB,cAAlB,EAAkCoC,GAAlC,EAAuC,IAAvC;AACAC,gCAAQA,QAAQC,MAAR,GAAiB,CAAzB,EAA4BC,MAA5B;AACA,+BAAO;AACHC,kCAAMJ;AADH,yBAAP;AAGH;AACJ,iBAXD;AAYH,aAfD;AAgBH,SAnBD;;AAoBA,YAAIrE,OAAO0E,QAAX,EAAqB;AACjBC,qBAASC,YAAT,GAAwB,KAAxB;AACAzD,cAAE,OAAF,EAAW0D,SAAX,CAAqB,OAArB;AACA,gBAAIC,WAAWC,aAAa,UAAb,EAAyB;AACpCC,wBAAQ,CAD4B;AAEpCC,sBAAM,CAF8B;AAGpCC,yBAAS;AAH2B,aAAzB,CAAf;AAKH;AACJ,KA7ED;AA8EH,CA7GD;AA+GAtF,SAASuF,kBAAT,CAA4BtF,UAA5B,CAAuC,YAAY;AAC/CC,YAAQC,OAAR,CAAgB,YAAY;AACxB,YAAIM,cAAcL,OAAOE,SAAP,CAAiB,YAAjB,CAAlB;AACA,YAAIK,UAAUP,OAAOE,SAAP,CAAiB,UAAjB,EAA4B,GAA5B,CAAd;;AACA,YAAGG,YAAYG,KAAZ,EAAH,EAAuB;AACnB,gBAAIC,aAAa2E,WAAWzE,IAAX,CAAgB,EAAhB,CAAjB;AACAF,uBAAWG,cAAX,CAA0B;AACtBC,uBAAO,UAASC,EAAT,EAAaC,MAAb,EAAqB;AACxB,wBAAIC,SAAS,IAAIC,MAAJ,CAAWF,OAAOG,IAAlB,EAAwBH,OAAOG,IAA/B,CAAb;AACAC,sBAAE,wBAAF,EAA4BC,MAA5B,CAAmCJ,MAAnC;AACH;AAJqB,aAA1B;AAMH;;AACD,YAAGT,QAAQC,KAAR,EAAH,EAAmB;AACf,gBAAIe,QAAQC,MAAMb,IAAN,CAAW,EAAX,CAAZ;AACAY,kBAAMX,cAAN,CAAqB;AACjBC,uBAAO,UAASC,EAAT,EAAaC,MAAb,EAAqB;AACxB,wBAAIC,SAAS,IAAIC,MAAJ,CAAWF,OAAOG,IAAlB,EAAwBH,OAAOG,IAA/B,CAAb;AACAC,sBAAE,iBAAF,EAAqBC,MAArB,CAA4BJ,MAA5B;AACH;AAJgB,aAArB;AAMH;AACJ,KArBD;AAsBAG,MAAEO,QAAF,EAAYlB,KAAZ,CAAkB,YAAY;AAC1BW,UAAE,kBAAF,EAAsBQ,OAAtB,CAA8B;AAC1BC,yBAAa,qCADa;AAE1BC,wBAAY;AAFc,SAA9B;AAIAV,UAAE,kBAAF,EAAsBW,UAAtB,CAAiC;AAC7BC,uBAAW;AADkB,SAAjC;;AAGA,YAAI/B,OAAO0E,QAAX,EAAqB;AACjB,gBAAIW,kBAAkB,EAAtB;AACAV,qBAASC,YAAT,GAAwB,KAAxB;AACAzD,cAAE,OAAF,EAAW0D,SAAX,CAAqB,OAArB;AACA,gBAAIS,mBAAmBP,aAAa,mBAAb,EAAkC;AACrDC,wBAAQ,CAD6C;AAErDC,sBAAM,CAF+C;AAGrDC,yBAAS;AAH4C,aAAlC,CAAvB;AAKA,gBAAIK,uBAAuBR,aAAa,sBAAb,EAAqC;AAC5DC,wBAAQ,CADoD;AAE5DC,sBAAM,CAFsD;AAG5DC,yBAAS;AAHmD,aAArC,CAA3B;AAKH;AAEJ,KAxBD;AAyBH,CAhDD;AAkDAtF,SAAS4F,gBAAT,CAA0B3F,UAA1B,CAAqC,YAAY;AAC7C,QAAI4F,iBAAiBV,aAAa,iBAAb,EAAgC;AACjDC,gBAAQ,CADyC;AAEjDC,cAAM;AAF2C,KAAhC,CAArB;AAIH,CALD;AAOArF,SAAS8F,mBAAT,CAA6B7F,UAA7B,CAAwC,YAAY;AAChD,SAAKsB,CAAL,CAAO,gBAAP,EAAyB0D,SAAzB,CAAmC,OAAnC;AACH,CAFD;AAIAjF,SAASgE,MAAT,CAAgB+B,OAAhB,CAAwB;AACpB,eAAW,YAAY;AACnB,eAAOC,MAAMC,YAAN,CAAmB7F,OAAO8F,MAAP,EAAnB,EAAmC,CAAC,SAAD,EAAW,YAAX,EAAwB,oBAAxB,EAA6C,OAA7C,CAAnC,CAAP;AACH,KAHmB;AAIpB,wBAAoB,YAAY;AAC5B,eAAOF,MAAMC,YAAN,CAAmB7F,OAAO8F,MAAP,EAAnB,EAAmC,CAAC,SAAD,EAAW,OAAX,EAAmB,oBAAnB,CAAnC,CAAP;AACH,KANmB;AAOpB,oBAAgB,YAAY;AACxB,eAAOF,MAAMC,YAAN,CAAmB7F,OAAO8F,MAAP,EAAnB,EAAmC,CAAC,SAAD,EAAW,OAAX,EAAmB,YAAnB,CAAnC,CAAP;AACH;AATmB,CAAxB;AAYAlG,SAASO,SAAT,CAAmBwF,OAAnB,CAA2B;AACvB,cAAU,YAAY;AAClB,eAAOI,OAAOpF,IAAP,CAAY,EAAZ,CAAP;AACH,KAHsB;AAIvB,mBAAe,YAAY;AACvB,eAAOqF,OAAO,KAAKC,WAAZ,EAAyBC,MAAzB,CAAgC,cAAhC,CAAP;AACH,KANsB;AAOvB,iBAAa,YAAY;AACrB,YAAG,KAAKC,QAAR,EAAiB;AACb,mBAAO,KAAKA,QAAL,CAAcC,IAAd,CAAmBC,IAA1B;AACH,SAFD,MAEK;AACD,gBAAG;AACC,uBAAOlH,OAAOgF,OAAP,CAAe;AAACC,yBAAK,KAAKkC;AAAX,iBAAf,EAAkCjC,GAAlC,EAAP;AACH,aAFD,CAEC,OAAMV,CAAN,EAAQ,CACL;AACH;AACJ;AACJ,KAjBsB;AAkBvB,cAAU,YAAY;AAClB,eAAO,KAAK4C,IAAL,KAAc,MAArB;AACH;AApBsB,CAA3B;AAuBA3G,SAASD,QAAT,CAAkBgG,OAAlB,CAA0B;AACtB,YAAQ,YAAY;AAChB,eAAOa,MAAM7F,IAAN,CAAW;AACd,sBAAUX,OAAO8F,MAAP;AADI,SAAX,CAAP;AAGH,KALqB;AAMtB,mBAAe,YAAY;AACvB,eAAOE,OAAO,KAAKC,WAAZ,EAAyBC,MAAzB,CAAgC,cAAhC,CAAP;AACH,KARqB;AAStB,iBAAa,YAAY;AACrB,YAAG,KAAKC,QAAR,EAAiB;AACb,mBAAO,KAAKA,QAAL,CAAcC,IAAd,CAAmBC,IAA1B;AACH,SAFD,MAEK;AACD,gBAAG;AACC,uBAAOlH,OAAOgF,OAAP,CAAe;AAACC,yBAAK,KAAKkC;AAAX,iBAAf,EAAkCjC,GAAlC,EAAP;AACH,aAFD,CAEC,OAAMV,CAAN,EAAQ,CACL;AACH;AACJ;AACJ,KAnBqB;AAoBtB,cAAU,YAAY;AAClB,eAAO,KAAK4C,IAAL,KAAc,MAArB;AACH,KAtBqB;AAuBtB,aAAS,YAAY;AACjB,eAAO,KAAKE,IAAL,CAAUC,cAAjB;AACH,KAzBqB;AA0BtB,oBAAgB,YAAY;AACxB,YAAIC,OAAO,gBAAX;;AACA,YAAG,KAAKF,IAAL,CAAUC,cAAV,KAA6B,CAAhC,EAAkC;AAC9BC,mBAAO,eAAP;AACH,SAFD,MAEM,IAAG,KAAKF,IAAL,CAAUC,cAAV,KAA6B,CAAC,CAAjC,EAAmC;AACrCC,mBAAO,eAAP;AACH;;AACD,eAAOA,IAAP;AACH;AAlCqB,CAA1B,E,CAsCA;AACA/G,SAASgE,MAAT,CAAgBgD,MAAhB,CAAuB;AACnB,yBAAqB,YAAY;AAC7BlH,wBAAgBmH,QAAQC,GAAR,CAAY,eAAZ,CAAhB;AACAD,gBAAQE,GAAR,CAAY,eAAZ,EAA6B,qBAA7B;AAEAC,qBAAa,cAAb,EAA6B,cAA7B;;AACA,YAAIxH,eAAe+E,MAAf,KAA0B,CAA9B,EAAiC;AAC7B/E,2BAAeyH,IAAf,CAAoB,aAApB;AACH;;AACD9F,UAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,sBAAU;AADM,SAApB,EAR6B,CAUzB;AACP,KAZkB;AAanB,4BAAwB,YAAY;AAChCH,qBAAa,aAAb,EAA4B,YAA5B;AACAxH,uBAAeyH,IAAf,CAAoB,YAApB;AACH,KAhBkB;AAiBnB,0BAAsB,YAAY;AAC9BD,qBAAa,aAAb,EAA4B,cAA5B;AACAxH,uBAAeyH,IAAf,CAAoB,cAApB;AACH,KApBkB;AAqBnB,uBAAmB,YAAY;AAC3BD,qBAAa,aAAb,EAA4B,YAA5B;AACAxH,uBAAeyH,IAAf,CAAoB,YAApB;AACH,KAxBkB;AAyBnB,wBAAoB,YAAY;AAC5BD,qBAAa,YAAb,EAA2B,cAA3B;AACAxH,uBAAeyH,IAAf,CAAoB,cAApB;AACAJ,gBAAQE,GAAR,CAAY,kBAAZ,EAAgC,MAAhC;AACH,KA7BkB;AA8BnB,gCAA4B,YAAY;AACpCC,qBAAa,YAAb,EAA2B,oBAA3B;AACAxH,uBAAeyH,IAAf,CAAoB,oBAApB;AACH,KAjCkB;AAkCnB,8BAA0B,YAAY;AAClCD,qBAAa,YAAb,EAA2B,cAA3B;AACAxH,uBAAeyH,IAAf,CAAoB,cAApB;AACAJ,gBAAQE,GAAR,CAAY,kBAAZ,EAAgC,YAAhC;AACH,KAtCkB;AAuCnB,2BAAuB,YAAY;AAC/BF,gBAAQE,GAAR,CAAY,eAAZ,EAA6BrH,aAA7B;AACAsH,qBAAa,cAAb,EAA6B,cAA7B;AACA7F,UAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,sBAAU;AADM,SAApB,EAH+B,CAK3B;AACP,KA7CkB;AA8CnB,0BAAsB,YAAY;AAC9B,YAAI3H,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCsC,oBAAQE,GAAR,CAAY,eAAZ,EAA6BrH,aAA7B;AACAsH,yBAAa,cAAb,EAA6B,cAA7B;AACA7F,cAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,0BAAU;AADM,aAApB,EAHiC,CAK7B;AACP,SAND,MAMO;AACHH,yBAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,uBAAe4H,GAAf;AACH,KAzDkB;AA0DnB,wBAAoB,YAAY;AAC5BJ,qBAAa,oBAAb,EAAmC,aAAnC;AACAxH,uBAAeyH,IAAf,CAAoB,aAApB;AACAJ,gBAAQE,GAAR,CAAY,kBAAZ,EAAgC,WAAhC;AACH,KA9DkB;AA+DnB,uBAAmB,YAAY;AAC3BC,qBAAa,oBAAb,EAAmC,YAAnC;AACAxH,uBAAeyH,IAAf,CAAoB,YAApB;AACAJ,gBAAQE,GAAR,CAAY,kBAAZ,EAAgC,UAAhC;AACH,KAnEkB;AAoEnB,2BAAuB,YAAY;AAC/BC,qBAAa,oBAAb,EAAmC,iBAAnC;AACAxH,uBAAeyH,IAAf,CAAoB,iBAApB;AACAJ,gBAAQE,GAAR,CAAY,kBAAZ,EAAgC,cAAhC;AACH,KAxEkB;AAyEnB,gCAA4B,UAAUM,GAAV,EAAe;AACvC,YAAIC,YAAYnG,EAAEkG,IAAIE,MAAN,EAAcC,IAAd,CAAmB,WAAnB,CAAhB;AACA,YAAIjD,SAASpD,EAAEkG,IAAIE,MAAN,EAAcE,GAAd,GAAoBlD,MAAjC;;AAEA,YAAIA,UAAU+C,SAAd,EAAyB;AACrBI,oBAAQC,GAAR,CAAY,oDAAZ;AACAxG,cAAE,uBAAF,EAA2BwF,IAA3B,CAAgC,CAAhC;AACH,SAHD,MAGO;AACHxF,cAAE,uBAAF,EAA2BwF,IAA3B,CAAgCW,YAAY/C,MAA5C;AACH;AACJ,KAnFkB;AAoFnB,8BAA0B,UAAU8C,GAAV,EAAe;AACrC,YAAIO,WAAWzG,EAAEkG,IAAIE,MAAN,EAAcC,IAAd,CAAmB,eAAnB,CAAf;AACArG,UAAE,aAAF,EAAiB0G,WAAjB,CAA6B,YAA7B;AACA1G,UAAEkG,IAAIE,MAAN,EAAcO,QAAd,CAAuB,YAAvB;AACAjB,gBAAQE,GAAR,CAAY,UAAZ,EAAwBa,QAAxB;AACH;AAzFkB,CAAvB;AA2FAhI,SAASD,QAAT,CAAkBiH,MAAlB,CAAyB;AACrB,8BAA0B,UAAUS,GAAV,EAAe;AACrCA,YAAIU,cAAJ;AACApI,iBAASqI,YAAT;AACH,KAJoB;AAKrB,yBAAqB,UAAUX,GAAV,EAAe;AAChC,YAAG,CAAClG,EAAEkG,IAAIE,MAAN,EAAcU,QAAd,CAAuB,iBAAvB,CAAD,IAA8C,CAAC9G,EAAEkG,IAAIE,MAAN,EAAcU,QAAd,CAAuB,oBAAvB,CAAlD,EAA+F;AAC3F,gBAAIC,MAAM/G,EAAEkG,IAAIE,MAAN,EAAcY,OAAd,CAAsBhH,EAAE,aAAF,CAAtB,CAAV;AACA,gBAAIL,KAAKoH,IAAIV,IAAJ,CAAS,IAAT,CAAT;AACAY,6BAAiB5B,MAAMrC,OAAN,CAAc;AAACC,qBAAKtD;AAAN,aAAd,CAAjB;AACH;AACJ,KAXoB;AAYrB,8BAA0B,UAAUuG,GAAV,EAAe;AACrCA,YAAIU,cAAJ;AACA,YAAIG,MAAM/G,EAAEkG,IAAIE,MAAN,EAAcY,OAAd,CAAsBhH,EAAE,aAAF,CAAtB,CAAV;AACA,YAAIL,KAAKoH,IAAIV,IAAJ,CAAS,IAAT,CAAT;AACAa,qBAAa,cAAb,EAA4B,mHAA5B,EAAiJ,UAAUC,QAAV,EAAoB;AACjK,gBAAGA,QAAH,EAAY;AACR9B,sBAAMhC,MAAN,CAAa;AAACJ,yBAAKtD;AAAN,iBAAb,EAAwB,UAAUkD,GAAV,EAAe;AACnC,wBAAGA,GAAH,EAAO;AACHuE,mCAAW,qBAAX,EAAkC,8BAA6BvE,IAAIkB,OAAnE;AACH,qBAFD,MAEK;AACDsD,qCAAa,2BAAb,EAA0C,EAA1C;AACH;AACJ,iBAND;AAOH;AACJ,SAVD;AAWH;AA3BoB,CAAzB;AA6BA5I,SAASQ,UAAT,CAAoBwG,MAApB,CAA2B;AACvB,sBAAkB,UAAU6B,KAAV,EAAiBC,QAAjB,EAA2B;AACzC,YAAIC,OAAOC,mBAAX;AAEA5I,eAAO6I,IAAP,CAAY,gBAAZ,EAA8BF,IAA9B,EAAoC,UAAU3E,GAAV,EAAe;AAC/C,gBAAIA,GAAJ,EAAS;AACLuE,2BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,aAFD,MAEO;AACHsD,6BAAa,UAAb,EAAyB,8BAAzB;AACAzC,uBAAOvB,MAAP,CAAc;AAACJ,yBAAKyC,QAAQC,GAAR,CAAY,eAAZ;AAAN,iBAAd;AACAD,wBAAQE,GAAR,CAAY,eAAZ,EAA6B,IAA7B;AACA+B,2BAAW,MAAX,EAJG,CAKH;;AACA,oBAAItJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,iCAAa,cAAb,EAA6B,cAA7B;AACA7F,sBAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,kCAAU;AADM,qBAApB,EAFiC,CAI7B;AACP,iBALD,MAKO;AACHH,iCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,+BAAe4H,GAAf;AACH;AACJ,SAnBD;AAoBH,KAxBsB;AAyBvB,yBAAsB,YAAW;AAC7B,YAAIuB,OAAOC,mBAAX;;AACA,YAAG/B,QAAQC,GAAR,CAAY,eAAZ,CAAH,EAAgC;AAC5Bf,mBAAOgD,MAAP,CAAc;AAAC3E,qBAAKyC,QAAQC,GAAR,CAAY,eAAZ;AAAN,aAAd,EAAmD6B,IAAnD,EAAyD,UAAU3E,GAAV,EAAe;AACpE,oBAAGA,GAAH,EAAO;AACHuE,+BAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,iBAFD,MAEK;AACDsD,iCAAa,QAAb,EAAsB,EAAtB;AACH;AACJ,aAND;AAOH,SARD,MAQK;AACDxI,mBAAO6I,IAAP,CAAY,sBAAZ,EAAoCF,IAApC,EAA0C,UAAU3E,GAAV,EAAe;AACrD,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,2BAAzB;AACH;AACJ,aAND;AAOH;AACJ,KA5CsB;AA6CvB,kCAA8B,UAAUnB,GAAV,EAAeqB,QAAf,EAAyB;AACnDvH,UAAE,iBAAF,EAAqB6H,IAArB,CAA0B,6DAA1B;AACAhJ,eAAO6I,IAAP,CAAY,eAAZ,EAA6B,UAAU7E,GAAV,EAAe;AACxC,gBAAIA,GAAJ,EAAS;AACL0D,wBAAQC,GAAR,CAAY3D,GAAZ;AACAvE,8BAAc,KAAd;AACH,aAHD,MAGO;AACH,oBAAIwJ,OAAOC,WAAW/H,EAAE,WAAF,EAAec,YAAf,CAA4B,UAA5B,CAAX,CAAX;AACA,oBAAIkH,QAAQ,CAAZ;;AACA,oBAAIC,SAAS,YAAU;AACnBpJ,2BAAO6I,IAAP,CAAY,eAAZ,EAA6BI,KAAKE,KAAL,CAA7B,EAA0C,UAAUnF,GAAV,EAAeqF,IAAf,EAAqB;AAC3D,4BAAIrF,GAAJ,EAAS;AACL0D,oCAAQC,GAAR,CAAY3D,GAAZ;AACA7C,8BAAE,iBAAF,EAAqB6H,IAArB,CAA0B,iEAA1B;AACAvJ,0CAAc,KAAd;AACH,yBAJD,MAIO;AACHiI,oCAAQC,GAAR,CAAY0B,IAAZ;;AACA,gCAAGA,KAAKC,OAAL,CAAa/E,MAAb,IAAuB,CAA1B,EAA4B;AACxB4E;;AACA,oCAAGA,SAASF,KAAK1E,MAAjB,EAAwB;AACpBmD,4CAAQC,GAAR,CAAY,gBAAZ;AACAyB;AACH,iCAHD,MAGK;AACDjI,sCAAE,iBAAF,EAAqB6H,IAArB,CAA0B,6DAA1B;AACAhJ,2CAAO6I,IAAP,CAAY,gBAAZ,EAA8B,UAAU7E,GAAV,EAAeqF,IAAf,EAAqB;AAC/C,4CAAIrF,GAAJ,EAAS;AACL0D,oDAAQC,GAAR,CAAY3D,GAAZ;AACA7C,8CAAE,qBAAF,EAAyBoI,WAAzB,CAAqC,oEAArC;AACA,gDAAIzE,WAAWC,aAAa,UAAb,EAAyB;AACpCC,wDAAQ,CAD4B;AAEpCC,sDAAM,CAF8B;AAGpCC,yDAAS;AAH2B,6CAAzB,CAAf;AAKA/D,8CAAE,iBAAF,EAAqB6H,IAArB,CAA0B,yEAA1B;AACAvJ,0DAAc,KAAd;AACH,yCAVD,MAUO;AACHiI,oDAAQC,GAAR,CAAY0B,IAAZ;AACAxC,oDAAQE,GAAR,CAAY,cAAZ,EAA4BsC,KAAKvI,EAAjC;AACA+F,oDAAQE,GAAR,CAAY,cAAZ,EAA2BsC,IAA3B;AACAlI,8CAAE,WAAF,EAAeoI,WAAf,CAA2B,eAAeF,KAAKjD,IAAL,CAAUoD,OAAzB,GAAmC,+CAA9D;AACArI,8CAAE,iBAAF,EAAqB6H,IAArB,CAA0B,4CAA2CK,KAAKI,IAAL,CAAUC,KAAV,CAAgBV,IAA3D,GAAiE,oEAAjE,GAAuIK,KAAKI,IAAL,CAAUvI,IAAjJ,GAAuJ,YAAvJ,GAAqKmI,KAAKI,IAAL,CAAUE,QAA/K,GAAyL,mLAAnN;AACH;AACJ,qCAlBD;AAmBH;AACJ,6BA3BD,MA2BK;AACD,oCAAIC,MAAMC,aAAa,CAAb,EAAgBR,KAAKC,OAAL,CAAa/E,MAAb,GAAoB,CAApC,CAAV;AACAsC,wCAAQE,GAAR,CAAY,cAAZ,EAA4BsC,KAAKC,OAAL,CAAaM,GAAb,EAAkB9I,EAA9C;AACA+F,wCAAQE,GAAR,CAAY,cAAZ,EAA2BsC,KAAKC,OAAL,CAAaM,GAAb,CAA3B;AACAnK,8CAAc,IAAd;AACA0B,kCAAE,WAAF,EAAeoI,WAAf,CAA2B,eAAeF,KAAKC,OAAL,CAAaM,GAAb,EAAkBxD,IAAlB,CAAuBoD,OAAtC,GAAgD,+CAA3E;AACArI,kCAAE,iBAAF,EAAqB6H,IAArB,CAA0B,4CAA2CK,KAAKC,OAAL,CAAaM,GAAb,EAAkBH,IAAlB,CAAuBC,KAAvB,CAA6BV,IAAxE,GAA8E,oEAA9E,GAAoJK,KAAKC,OAAL,CAAaM,GAAb,EAAkBH,IAAlB,CAAuBvI,IAA3K,GAAiL,YAAjL,GAA+LmI,KAAKC,OAAL,CAAaM,GAAb,EAAkBH,IAAlB,CAAuBE,QAAtN,GAAgO,uNAA1P;AACH;AAEJ;AACJ,qBA5CD;AA6CH,iBA9CD;;AA+CAP;AACH;AACJ,SAxDD;AAyDH,KAxGsB;AAyGvB,0BAAsB,YAAY;AAC9BjI,UAAE,iBAAF,EAAqB6H,IAArB,CAA0B,6DAA1B;AACAhJ,eAAO6I,IAAP,CAAY,gBAAZ,EAA8B,UAAU7E,GAAV,EAAeqF,IAAf,EAAqB;AAC/C,gBAAIrF,GAAJ,EAAS;AACL0D,wBAAQC,GAAR,CAAY3D,GAAZ;AACA7C,kBAAE,qBAAF,EAAyBoI,WAAzB,CAAqC,oEAArC;AACA,oBAAIzE,WAAWC,aAAa,UAAb,EAAyB;AACpCC,4BAAQ,CAD4B;AAEpCC,0BAAM,CAF8B;AAGpCC,6BAAS;AAH2B,iBAAzB,CAAf;AAKA/D,kBAAE,iBAAF,EAAqB6H,IAArB,CAA0B,yEAA1B;AACAvJ,8BAAc,KAAd;AACH,aAVD,MAUO;AACHiI,wBAAQC,GAAR,CAAY0B,IAAZ;AACAxC,wBAAQE,GAAR,CAAY,cAAZ,EAA4BsC,KAAKvI,EAAjC;AACA+F,wBAAQE,GAAR,CAAY,cAAZ,EAA2BsC,IAA3B;AACAlI,kBAAE,qBAAF,EAAyBoI,WAAzB,CAAqC,eAAeF,KAAKjD,IAAL,CAAUoD,OAAzB,GAAmC,+CAAxE;AACArI,kBAAE,iBAAF,EAAqB6H,IAArB,CAA0B,4CAA2CK,KAAKI,IAAL,CAAUC,KAAV,CAAgBV,IAA3D,GAAiE,oEAAjE,GAAuIK,KAAKI,IAAL,CAAUvI,IAAjJ,GAAuJ,YAAvJ,GAAqKmI,KAAKI,IAAL,CAAUE,QAA/K,GAAyL,mLAAnN;AACH;AACJ,SAlBD;AAmBH,KA9HsB;AA+HvB,wBAAoB,YAAY;AAC5BxI,UAAE,qBAAF,EAAyBoI,WAAzB,CAAqC,oEAArC;AACA,YAAIzE,WAAWC,aAAa,UAAb,EAAyB;AACpCC,oBAAQ,CAD4B;AAEpCC,kBAAM,CAF8B;AAGpCC,qBAAS;AAH2B,SAAzB,CAAf;AAKA/D,UAAE,iBAAF,EAAqB6H,IAArB,CAA0B,iHAA1B;AACH,KAvIsB;AAwIvB,0BAAsB,YAAY;AAC9B,YAAIc,UAAWrK,WAAD,GAAgBoH,QAAQC,GAAR,CAAY,cAAZ,CAAhB,GAA8CD,QAAQC,GAAR,CAAY,YAAZ,CAA5D;AACA,YAAIiD,cAAc;AACdC,mBAAO7I,EAAE,YAAF,EAAgBsG,GAAhB,KAAwB,sBADjB;AAEdwC,sBAAU9I,EAAE,eAAF,EAAmBsG,GAAnB,EAFI;AAGdyC,qBAAS/I,EAAE,WAAF,EAAec,YAAf,CAA4B,UAA5B,CAHK;AAIdkI,kBAAMhJ,EAAE,OAAF,EAAWsG,GAAX,EAJQ;AAKdtB,sBAAUU,QAAQC,GAAR,CAAY,cAAZ,CALI;AAMdR,mBAAOwD,OANO;AAOdrD,kBAAM;AACFhH,6BAAaA;AADX;AAPQ,SAAlB;AAWAoH,gBAAQuD,aAAR,CAAsB,cAAtB,EAAsCL,WAAtC;AACA5I,UAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,sBAAU;AADM,SAApB,EAd8B,CAgB1B;;AACJkD,eAAOC,IAAP,CAAY,eAAZ,EAA6B,QAA7B;AACH;AA1JsB,CAA3B;AA4JA1K,SAAS8F,mBAAT,CAA6BkB,MAA7B,CAAoC;AAChC,uBAAmB,UAAU6B,KAAV,EAAiBC,QAAjB,EAA2B;AAC1C,YAAInC,OAAOM,QAAQC,GAAR,CAAY,kBAAZ,CAAX;AACA,YAAI6B,OAAO4B,0BAA0BhE,IAA1B,CAAX;;AACA,YAAIA,SAAS,WAAb,EAA0B;AACtBvG,mBAAO6I,IAAP,CAAY,iBAAZ,EAA+BF,IAA/B,EAAqC,UAAU3E,GAAV,EAAe;AAChD,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,iBAAX,EAA8BvE,IAAIkB,OAAlC;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKyC,QAAQC,GAAR,CAAY,eAAZ;AAAN,qBAAd;AACAD,4BAAQE,GAAR,CAAY,eAAZ,EAA6B,IAA7B;AACA+B,+BAAW,cAAX,EAA0B,WAA1B;;AACA,wBAAItJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,qCAAa,cAAb,EAA6B,cAA7B;AACA7F,0BAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,sCAAU;AADM,yBAApB,EAFiC,CAI7B;AACP,qBALD,MAKO;AACHH,qCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,mCAAe4H,GAAf;AACH;AACJ,aAlBD;AAoBH,SArBD,MAqBO,IAAIb,SAAS,UAAb,EAAyB;AAC5BvG,mBAAO6I,IAAP,CAAY,gBAAZ,EAA8BF,IAA9B,EAAoC,UAAU3E,GAAV,EAAe;AAC/C,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKyC,QAAQC,GAAR,CAAY,eAAZ;AAAN,qBAAd;AACAD,4BAAQE,GAAR,CAAY,eAAZ,EAA6B,IAA7B;AACA+B,+BAAW,cAAX,EAA0B,UAA1B;;AACA,wBAAItJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,qCAAa,cAAb,EAA6B,cAA7B;AACA7F,0BAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,sCAAU;AADM,yBAApB,EAFiC,CAI7B;AACP,qBALD,MAKO;AACHH,qCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,mCAAe4H,GAAf;AACH;AACJ,aAlBD;AAmBH,SApBM,MAoBA,IAAIb,SAAS,cAAb,EAA6B;AAChCvG,mBAAO6I,IAAP,CAAY,qBAAZ,EAAmCF,IAAnC,EAAyC,UAAU3E,GAAV,EAAe;AACpD,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKyC,QAAQC,GAAR,CAAY,eAAZ;AAAN,qBAAd;AACAD,4BAAQE,GAAR,CAAY,eAAZ,EAA6B,IAA7B;AACA+B,+BAAW,cAAX,EAA0B,WAA1B;;AACA,wBAAItJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,qCAAa,cAAb,EAA6B,cAA7B;AACA7F,0BAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,sCAAU;AADM,yBAApB,EAFiC,CAI7B;AACP,qBALD,MAKO;AACHH,qCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,mCAAe4H,GAAf;AACH;AACJ,aAlBD;AAmBH;AAEJ,KAnE+B;AAoEhC,uBAAmB,YAAW;AAC1B,YAAIb,OAAOM,QAAQC,GAAR,CAAY,kBAAZ,CAAX;AACA,YAAI6B,OAAO4B,0BAA0BhE,IAA1B,CAAX;;AAEA,YAAGM,QAAQC,GAAR,CAAY,eAAZ,CAAH,EAAgC;AAC5Bf,mBAAOgD,MAAP,CAAc;AAAC3E,qBAAKyC,QAAQC,GAAR,CAAY,eAAZ;AAAN,aAAd,EAAmD6B,IAAnD,EAAyD,UAAU3E,GAAV,EAAe;AACpE,oBAAGA,GAAH,EAAO;AACHuE,+BAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,iBAFD,MAEK;AACDsD,iCAAa,QAAb,EAAsB,EAAtB;;AACA,wBAAIhJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,qCAAa,cAAb,EAA6B,cAA7B;AACA7F,0BAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,sCAAU;AADM,yBAApB,EAFiC,CAI7B;AACP,qBALD,MAKO;AACHH,qCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,mCAAe4H,GAAf;AACH;AACJ,aAfD;AAgBH,SAjBD,MAiBK;AACD,gBAAIb,SAAS,WAAb,EAA0B;AAEtBvG,uBAAO6I,IAAP,CAAY,uBAAZ,EAAqCF,IAArC,EAA2C,UAAU3E,GAAV,EAAe;AACtD,wBAAIA,GAAJ,EAAS;AACLuE,mCAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,qBAFD,MAEO;AACHsD,qCAAa,UAAb,EAAyB,2BAAzB;AACAM,mCAAW,cAAX,EAA0B,WAA1B;;AACA,4BAAItJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,yCAAa,cAAb,EAA6B,cAA7B;AACA7F,8BAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,0CAAU;AADM,6BAApB,EAFiC,CAI7B;AACP,yBALD,MAKO;AACHH,yCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,uCAAe4H,GAAf;AACH;AACJ,iBAhBD;AAkBH,aApBD,MAoBO,IAAIb,SAAS,UAAb,EAAyB;AAE5BvG,uBAAO6I,IAAP,CAAY,sBAAZ,EAAoCF,IAApC,EAA0C,UAAU3E,GAAV,EAAe;AACrD,wBAAIA,GAAJ,EAAS;AACLuE,mCAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,qBAFD,MAEO;AACHsD,qCAAa,UAAb,EAAyB,2BAAzB;AACAM,mCAAW,cAAX,EAA0B,UAA1B;;AACA,4BAAItJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,yCAAa,cAAb,EAA6B,cAA7B;AACA7F,8BAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,0CAAU;AADM,6BAApB,EAFiC,CAI7B;AACP,yBALD,MAKO;AACHH,yCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,uCAAe4H,GAAf;AACH;AACJ,iBAhBD;AAiBH,aAnBM,MAmBA,IAAIb,SAAS,cAAb,EAA6B;AAChCvG,uBAAO6I,IAAP,CAAY,2BAAZ,EAAyCF,IAAzC,EAA+C,UAAU3E,GAAV,EAAe;AAC1D,wBAAIA,GAAJ,EAAS;AACLuE,mCAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,qBAFD,MAEO;AACHsD,qCAAa,UAAb,EAAyB,2BAAzB;AACAM,mCAAW,cAAX,EAA0B,WAA1B;;AACA,4BAAItJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,yCAAa,cAAb,EAA6B,cAA7B;AACA7F,8BAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,0CAAU;AADM,6BAApB,EAFiC,CAI7B;AACP,yBALD,MAKO;AACHH,yCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,uCAAe4H,GAAf;AACH;AACJ,iBAhBD;AAiBH;AACJ;AAGJ;AAvJ+B,CAApC;AAyJAxH,SAASO,SAAT,CAAmByG,MAAnB,CAA0B;AACtB,+BAA2B,UAAUS,GAAV,EAAe;AACtCA,YAAIU,cAAJ;AACA,YAAIG,MAAM/G,EAAEkG,IAAIE,MAAN,EAAcY,OAAd,CAAsBhH,EAAE,aAAF,CAAtB,CAAV;AACA,YAAIL,KAAKoH,IAAIV,IAAJ,CAAS,IAAT,CAAT;AACAxH,eAAO6I,IAAP,CAAY,eAAZ,EAA6B/H,EAA7B,EAAiC,UAAUkD,GAAV,EAAe;AAC5C,gBAAGA,GAAH,EAAO;AACHuE,2BAAW,8CAAX,EAA2DvE,IAAIkB,OAA/D;AACH;AACJ,SAJD;AAKH,KAVqB;AAWtB,6BAAyB,UAAUmC,GAAV,EAAe;AACpCA,YAAIU,cAAJ;AACA,YAAIG,MAAM/G,EAAEkG,IAAIE,MAAN,EAAcY,OAAd,CAAsBhH,EAAE,aAAF,CAAtB,CAAV;AACA,YAAIL,KAAKoH,IAAIV,IAAJ,CAAS,IAAT,CAAT;AACA,YAAMmB,OAAO5C,OAAO5B,OAAP,CAAe;AAACC,iBAAKtD;AAAN,SAAf,CAAb;AACA,YAAIyF,OAAOoC,KAAKpC,IAAhB;;AACA,YAAIA,SAAS,WAAb,EAA0B;AACtBvG,mBAAO6I,IAAP,CAAY,iBAAZ,EAA+BF,IAA/B,EAAqC,UAAU3E,GAAV,EAAe;AAChD,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,iBAAX,EAA8BvE,IAAIkB,OAAlC;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKtD;AAAN,qBAAd;AACH;AACJ,aAPD;AASH,SAVD,MAUO,IAAIyF,SAAS,UAAb,EAAyB;AAC5BvG,mBAAO6I,IAAP,CAAY,gBAAZ,EAA8BF,IAA9B,EAAoC,UAAU3E,GAAV,EAAe;AAC/C,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKtD;AAAN,qBAAd;AACH;AACJ,aAPD;AAQH,SATM,MASA,IAAIyF,SAAS,cAAb,EAA6B;AAChCvG,mBAAO6I,IAAP,CAAY,qBAAZ,EAAmCF,IAAnC,EAAyC,UAAU3E,GAAV,EAAe;AACpD,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKtD;AAAN,qBAAd;AACH;AACJ,aAPD;AAQH,SATM,MASA,IAAIyF,SAAS,MAAb,EAAoB;AACvBvG,mBAAO6I,IAAP,CAAY,gBAAZ,EAA8BF,IAA9B,EAAoC,UAAU3E,GAAV,EAAe;AAC/C,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKtD;AAAN,qBAAd;AACH;AACJ,aAPD;AAQH;AACJ,KAvDqB;AAwDtB,gCAA4B,UAAUuG,GAAV,EAAe;AACvC,YAAIa,MAAM/G,EAAEkG,IAAIE,MAAN,EAAcY,OAAd,CAAsBhH,EAAE,aAAF,CAAtB,CAAV;AACA,YAAIL,KAAKoH,IAAIV,IAAJ,CAAS,IAAT,CAAT;AACA,YAAImB,OAAO5C,OAAO5B,OAAP,CAAe;AAACC,iBAAKtD;AAAN,SAAf,CAAX;AACA,YAAIyF,OAAOoC,KAAK6B,OAAhB;;AACA,YAAG7B,KAAKpC,IAAL,KAAc,MAAjB,EAAwB;AACpBvG,mBAAO6I,IAAP,CAAY,gBAAZ,EAA8BF,IAA9B,EAAoC,UAAU3E,GAAV,EAAe;AAC/C,oBAAIA,GAAJ,EAAS;AACLuE,+BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,iBAFD,MAEO;AACHsD,iCAAa,UAAb,EAAyB,8BAAzB;AACAzC,2BAAOvB,MAAP,CAAc;AAACJ,6BAAKtD;AAAN,qBAAd;AACH;AACJ,aAPD;AAQH,SATD,MASK;AACD,gBAAIyF,SAAS,WAAb,EAA0B;AACtBvG,uBAAO6I,IAAP,CAAY,iBAAZ,EAA+BF,IAA/B,EAAqC,UAAU3E,GAAV,EAAe;AAChD,wBAAIA,GAAJ,EAAS;AACLuE,mCAAW,iBAAX,EAA8BvE,IAAIkB,OAAlC;AACH,qBAFD,MAEO;AACHsD,qCAAa,UAAb,EAAyB,8BAAzB;AACAzC,+BAAOvB,MAAP,CAAc;AAACJ,iCAAKtD;AAAN,yBAAd;AACH;AACJ,iBAPD;AASH,aAVD,MAUO,IAAIyF,SAAS,UAAb,EAAyB;AAC5BvG,uBAAO6I,IAAP,CAAY,gBAAZ,EAA8BF,IAA9B,EAAoC,UAAU3E,GAAV,EAAe;AAC/C,wBAAIA,GAAJ,EAAS;AACLuE,mCAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,qBAFD,MAEO;AACHsD,qCAAa,UAAb,EAAyB,8BAAzB;AACAzC,+BAAOvB,MAAP,CAAc;AAACJ,iCAAKtD;AAAN,yBAAd;AACH;AACJ,iBAPD;AAQH,aATM,MASA,IAAIyF,SAAS,cAAb,EAA6B;AAChCvG,uBAAO6I,IAAP,CAAY,qBAAZ,EAAmCF,IAAnC,EAAyC,UAAU3E,GAAV,EAAe;AACpD,wBAAIA,GAAJ,EAAS;AACLuE,mCAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,qBAFD,MAEO;AACHsD,qCAAa,UAAb,EAAyB,8BAAzB;AACAzC,+BAAOvB,MAAP,CAAc;AAACJ,iCAAKtD;AAAN,yBAAd;AACH;AACJ,iBAPD;AAQH;AACJ;AACJ,KArGqB;AAsGtB,yBAAqB,UAAUuG,GAAV,EAAe;AAChC,YAAG,CAAClG,EAAEkG,IAAIE,MAAN,EAAcU,QAAd,CAAuB,kBAAvB,CAAD,IAA+C,CAAC9G,EAAEkG,IAAIE,MAAN,EAAcU,QAAd,CAAuB,mBAAvB,CAAnD,EAA+F;AAC3F,gBAAIC,MAAM/G,EAAEkG,IAAIE,MAAN,EAAcY,OAAd,CAAsBhH,EAAE,aAAF,CAAtB,CAAV;AACA,gBAAIL,KAAKoH,IAAIV,IAAJ,CAAS,IAAT,CAAT;AACAX,oBAAQE,GAAR,CAAY,eAAZ,EAA6BjG,EAA7B;AACAsH,6BAAiBrC,OAAO5B,OAAP,CAAe;AAACC,qBAAKtD;AAAN,aAAf,CAAjB;AACA4G,oBAAQC,GAAR,CAAYd,QAAQC,GAAR,CAAY,eAAZ,CAAZ;AACH;AACJ;AA9GqB,CAA1B;AAgHAlH,SAAS4F,gBAAT,CAA0BoB,MAA1B,CAAiC;AAC7B,uBAAmB,YAAY;AAC3B,YAAI6D,WAAWtJ,EAAE,qBAAF,EAAyBsG,GAAzB,EAAf;AACA,YAAIyC,UAAU/I,EAAE,oBAAF,EAAwB,CAAxB,EAA2BuJ,KAAzC;AACA,YAAIpE,QAAQO,QAAQC,GAAR,CAAY,YAAZ,CAAZ;AAEA,YAAI6D,WAAW3K,OAAO8F,MAAP,EAAf;AACA,YAAIG,cAAc,IAAI2E,IAAJ,EAAlB;;AAEA,YAAI,CAACtE,KAAL,EAAY;AACR;AACAoB,oBAAQC,GAAR,CAAY,mBAAZ;AACH;;AACD,YAAI,CAAC8C,QAAL,EAAe;AACX;AACA/C,oBAAQC,GAAR,CAAY,qBAAZ;AACH;;AACD,YAAI,CAACuC,OAAL,EAAc;AACV;AACAxC,oBAAQC,GAAR,CAAY,oBAAZ;AACH;;AAED,YAAIgB,OAAO;AACPkC,oBAAQF,QADD;AAEPpE,kBAAM,YAFC;AAGPkE,sBAAUA,QAHH;AAIPP,qBAASA,OAJF;AAKPjE,yBAAaA,WALN;AAMPK,mBAAOA;AANA,SAAX;AAQAoB,gBAAQC,GAAR,CAAYgB,IAAZ;AAEA3I,eAAO6I,IAAP,CAAY,4BAAZ,EAA0CF,IAA1C,EAAgD,UAAU3E,GAAV,EAAe;AAC3D0D,oBAAQC,GAAR,CAAY,QAAZ;;AACA,gBAAI3D,GAAJ,EAAS;AACLuE,2BAAW,cAAX,EAA2BvE,IAAIkB,OAA/B;AACH,aAFD,MAEO;AACHsD,6BAAa,UAAb,EAAyB,8BAAzB;;AACA,oBAAIhJ,eAAe+E,MAAf,GAAwB,CAAxB,KAA8B,CAAlC,EAAqC;AACjCyC,iCAAa,cAAb,EAA6B,cAA7B;AACA7F,sBAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,kCAAU;AADM,qBAApB,EAFiC,CAI7B;AACP,iBALD,MAKO;AACHH,iCAAaxH,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAb,EAAwD/E,eAAeA,eAAe+E,MAAf,GAAwB,CAAvC,CAAxD;AACH;;AACD/E,+BAAe4H,GAAf;AACH;AACJ,SAhBD;AAiBH;AAjD4B,CAAjC;;AAoDA,SAASrC,YAAT,CAAsBjE,EAAtB,EAA0BgK,IAA1B,EAAgC;AAC5B,WAAO,IAAInG,QAAJ,CAAa,UAAU7D,EAAvB,EAA2B;AAC9BiK,kBAAUD,KAAK9F,MAAL,IAAe,CADK;AAE9BgG,qBAAaF,KAAK7F,IAAL,IAAa,CAFI;AAG9BgG,wBAAgB,GAHc;AAI9BC,wBAAgB,IAJc;AAK9BC,4BAAoBL,KAAK5F,OAAL,IAAgB,sEALN;AAM9BkG,gBAAQ,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;AAC1BnK,cAAE,qBAAF,EAAyB6H,IAAzB,CAA8B,EAA9B;AACA,gBAAIuC,SAAS,IAAIC,GAAGC,IAAP,CAAYJ,IAAZ,CAAb;AACAlM,mBAAO4E,MAAP,CAAcwH,MAAd,EAAsB,UAAUvH,GAAV,EAAeC,OAAf,EAAwB;AAC1C,oBAAID,GAAJ,EAAS;AACL0D,4BAAQC,GAAR,CAAY3D,GAAZ;AACH,iBAFD,MAEO;AACH7E,2BAAOqF,MAAP,CAAc;AAACJ,6BAAKyC,QAAQC,GAAR,CAAY,YAAZ;AAAN,qBAAd,EAAgD,UAAU9C,GAAV,EAAe;AAC3D,4BAAIA,GAAJ,EAAS;AACL0D,oCAAQC,GAAR,CAAY,4BAA4B3D,GAAxC;AACH;AACJ,qBAJD;AAKAvE,kCAAc,KAAd;AACAoH,4BAAQE,GAAR,CAAY,aAAZ,EAA2B9C,QAAQyH,SAAR,EAA3B,EAPG,CAOgD;;AACnD7E,4BAAQE,GAAR,CAAY,YAAZ,EAA0B9C,QAAQG,GAAlC,EARG,CAQqC;;AACxCkH;AACH;AACJ,aAdD;AAeH;AAxB6B,KAA3B,CAAP;AA0BH;;AACD,SAAStE,YAAT,CAAsB2E,CAAtB,EAAyBC,CAAzB,EAA4B;AACxBzK,MAAEwK,CAAF,EAAKE,OAAL,CAAa,MAAb,EAAqB,YAAY;AAC7B1K,UAAEyK,CAAF,EAAKE,MAAL,CAAY,MAAZ;AACH,KAFD;AAGH;;AACD,SAASjC,YAAT,CAAsBkC,GAAtB,EAA2BC,GAA3B,EAAgC;AAC5B,WAAOC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,MAAiBH,MAAMD,GAAN,GAAY,CAA7B,CAAX,IAA8CA,GAArD;AACH;;AACD,SAAS3D,gBAAT,CAA0BO,IAA1B,EAAgC;AAC5B,QAAGA,KAAKpC,IAAL,KAAc,MAAjB,EAAwB;AACpBpF,UAAE,YAAF,EAAgBsG,GAAhB,CAAoBkB,KAAKqB,KAAzB;AACA7I,UAAE,eAAF,EAAmBsG,GAAnB,CAAuBkB,KAAKsB,QAA5B;AACA9I,UAAE,WAAF,EAAec,YAAf,CAA4B,UAA5B,EAAwC0G,KAAKuB,OAA7C;;AACAkC,UAAEC,OAAF,CAAU1D,KAAKwB,IAAf,EAAoB,UAAUmC,IAAV,EAAgB;AAChCnL,cAAE,OAAF,EAAW0D,SAAX,CAAqB,KAArB,EAA4ByH,IAA5B;AACH,SAFD;;AAGAnL,UAAE,oBAAF,EAAwBsG,GAAxB,CAA4BkB,KAAKlC,IAAL,CAAU8F,UAAtC,EAAkDC,OAAlD,CAA0D,QAA1D;AACArL,UAAE,kBAAF,EAAsBsG,GAAtB,CAA0BkB,KAAKlI,UAA/B,EAA2C+L,OAA3C,CAAmD,QAAnD;AACArL,UAAE,yBAAF,EAA6BsG,GAA7B,CAAiCkB,KAAK8D,mBAAtC,EAA2DD,OAA3D,CAAmE,QAAnE;AACArL,UAAE,aAAF,EAAiBW,UAAjB,CAA4B,QAA5B,EAAsC6G,KAAK+D,WAA3C;;AACA,YAAG/D,KAAKxC,QAAR,EAAiB;AACbnG,mBAAO6I,IAAP,CAAY,eAAZ,EAA6B,UAAU7E,GAAV,EAAe;AACxC,oBAAIA,GAAJ,EAAS;AACL0D,4BAAQC,GAAR,CAAY3D,GAAZ;AACA7C,sBAAE,iBAAF,EAAqB6H,IAArB,CAA0B,iEAA1B;AACH,iBAHD,MAGO;AACHhJ,2BAAO6I,IAAP,CAAY,UAAZ,EAAwBF,KAAKrC,KAA7B,EAAoC,UAAUtC,GAAV,EAAeqF,IAAf,EAAqB;AACrD,4BAAIrF,GAAJ,EAAS;AACL0D,oCAAQC,GAAR,CAAY3D,GAAZ;AACA7C,8BAAE,iBAAF,EAAqB6H,IAArB,CAA0B,iEAA1B;AACH,yBAHD,MAGO;AACHnC,oCAAQE,GAAR,CAAY,cAAZ,EAA4BsC,KAAKvI,EAAjC;AACA+F,oCAAQE,GAAR,CAAY,cAAZ,EAA2BsC,IAA3B;AACA5J,0CAAc,IAAd;AACA0B,8BAAE,WAAF,EAAeoI,WAAf,CAA2B,eAAeF,KAAKjD,IAAL,CAAUoD,OAAzB,GAAmC,+CAA9D;AACArI,8BAAE,iBAAF,EAAqB6H,IAArB,CAA0B,4CAA2CK,KAAKI,IAAL,CAAUC,KAAV,CAAgBV,IAA3D,GAAiE,IAAjE,GAAuEK,KAAKI,IAAL,CAAUvI,IAAjF,GAAuF,YAAvF,GAAqGmI,KAAKI,IAAL,CAAUE,QAA/G,GAAyH,uNAAnJ;AACH;AACJ,qBAXD;AAYH;AACJ,aAlBD;AAmBH;;AACD3C,qBAAa,cAAb,EAA6B,cAA7B;AACAxH,uBAAeyH,IAAf,CAAoB,cAApB;AACAJ,gBAAQE,GAAR,CAAY,kBAAZ,EAAgC,MAAhC;AACH,KAnCD,MAmCM,IAAG4B,KAAKpC,IAAL,KAAc,cAAjB,EAAgC;AAClC,YAAGoC,KAAK6B,OAAL,KAAiB,WAApB,EAAgC;AAC5BrJ,cAAE,oBAAF,EAAwBsG,GAAxB,CAA4BkB,KAAK8B,QAAjC;;AACA,gBAAG9B,KAAKrC,KAAR,EAAc;AACVO,wBAAQE,GAAR,CAAY,YAAZ,EAA0B4B,KAAKrC,KAA/B;AACAnF,kBAAE,qBAAF,EAAyB6H,IAAzB,CAA8B,mIAA9B;AACH;;AACDoD,cAAEC,OAAF,CAAU1D,KAAKwB,IAAf,EAAoB,UAAUmC,IAAV,EAAgB;AAChCnL,kBAAE,sBAAF,EAA0B0D,SAA1B,CAAoC,KAApC,EAA2CyH,IAA3C;AACH,aAFD;;AAGAnL,cAAE,8BAAF,EAAkCsG,GAAlC,CAAsCkB,KAAKlI,UAA3C,EAAuD+L,OAAvD,CAA+D,QAA/D;AACArL,cAAE,uBAAF,EAA2BsG,GAA3B,CAA+BkB,KAAKpH,KAApC,EAA2CiL,OAA3C,CAAmD,QAAnD;AACArL,cAAE,kBAAF,EAAsBW,UAAtB,CAAiC,QAAjC,EAA0C6G,KAAK5G,SAA/C;AACAZ,cAAE,gBAAF,EAAoBW,UAApB,CAA+B,QAA/B,EAAwC6G,KAAKgE,OAA7C;AACA3F,yBAAa,cAAb,EAA6B,aAA7B;AACAxH,2BAAeyH,IAAf,CAAoB,aAApB;AACAJ,oBAAQE,GAAR,CAAY,kBAAZ,EAAgC,WAAhC;AACH,SAhBD,MAgBM,IAAG4B,KAAK6B,OAAL,KAAiB,UAApB,EAA+B;AACjCrJ,cAAE,mBAAF,EAAuBsG,GAAvB,CAA2BkB,KAAK8B,QAAhC;AACAtJ,cAAE,0BAAF,EAA8BsG,GAA9B,CAAkCkB,KAAKuB,OAAvC;;AACAkC,cAAEC,OAAF,CAAU1D,KAAKwB,IAAf,EAAoB,UAAUmC,IAAV,EAAgB;AAChCnL,kBAAE,sBAAF,EAA0B0D,SAA1B,CAAoC,KAApC,EAA2CyH,IAA3C;AACH,aAFD;;AAGAnL,cAAE,8BAAF,EAAkCsG,GAAlC,CAAsCkB,KAAKlI,UAA3C,EAAuD+L,OAAvD,CAA+D,QAA/D;AACArL,cAAE,uBAAF,EAA2BsG,GAA3B,CAA+BkB,KAAKpH,KAApC,EAA2CiL,OAA3C,CAAmD,QAAnD;AACArL,cAAE,kBAAF,EAAsBW,UAAtB,CAAiC,QAAjC,EAA0C6G,KAAK5G,SAA/C;AACAZ,cAAE,gBAAF,EAAoBW,UAApB,CAA+B,QAA/B,EAAwC6G,KAAKgE,OAA7C;AACA3F,yBAAa,cAAb,EAA6B,YAA7B;AACAxH,2BAAeyH,IAAf,CAAoB,YAApB;AACAJ,oBAAQE,GAAR,CAAY,kBAAZ,EAAgC,UAAhC;AACH,SAbK,MAaA,IAAG4B,KAAK6B,OAAL,KAAiB,WAApB,EAAgC;AAClCrJ,cAAE,oBAAF,EAAwBsG,GAAxB,CAA4BkB,KAAK8B,QAAjC;;AACA,gBAAG9B,KAAKrC,KAAR,EAAc;AACVO,wBAAQE,GAAR,CAAY,YAAZ,EAA0B4B,KAAKrC,KAA/B;AACAnF,kBAAE,qBAAF,EAAyB6H,IAAzB,CAA8B,mIAA9B;AACH;;AACD7H,cAAE,0BAAF,EAA8BsG,GAA9B,CAAkCkB,KAAKuB,OAAvC;AACA/I,cAAE,8BAAF,EAAkCsG,GAAlC,CAAsCkB,KAAKlI,UAA3C,EAAuD+L,OAAvD,CAA+D,QAA/D;AACArL,cAAE,uBAAF,EAA2BsG,GAA3B,CAA+BkB,KAAKpH,KAApC,EAA2CiL,OAA3C,CAAmD,QAAnD;AACArL,cAAE,kBAAF,EAAsBW,UAAtB,CAAiC,QAAjC,EAA0C6G,KAAK5G,SAA/C;AACAZ,cAAE,gBAAF,EAAoBW,UAApB,CAA+B,QAA/B,EAAwC6G,KAAKgE,OAA7C;AACA9F,oBAAQE,GAAR,CAAY,UAAZ,EAAwB4B,KAAKlC,IAAL,CAAUmB,QAAlC;AACAzG,cAAE,aAAF,EAAiB0G,WAAjB,CAA6B,YAA7B;AACA1G,cAAE,oCAAmC0F,QAAQC,GAAR,CAAY,UAAZ,CAAnC,GAA4D,GAA9D,EAAmEgB,QAAnE,CAA4E,YAA5E;AACAd,yBAAa,cAAb,EAA6B,iBAA7B;AACAxH,2BAAeyH,IAAf,CAAoB,iBAApB;AACAJ,oBAAQE,GAAR,CAAY,kBAAZ,EAAgC,cAAhC;AACH;AACJ;AACJ;;AAED,SAAS+B,UAAT,CAAoBvC,IAApB,EAA0BiE,OAA1B,EAAmC;AAC/B,QAAGjE,SAAS,MAAZ,EAAmB;AACfpF,UAAE,YAAF,EAAgBsG,GAAhB,CAAoB,IAApB;AACAtG,UAAE,eAAF,EAAmBsG,GAAnB,CAAuB,IAAvB;AACAtG,UAAE,WAAF,EAAec,YAAf,CAA4B,UAA5B,EAAwC,EAAxC;AACAd,UAAE,OAAF,EAAW0D,SAAX,CAAqB,WAArB;AACA1D,UAAE,oBAAF,EAAwBsG,GAAxB,CAA4B,IAA5B,EAAkC+E,OAAlC,CAA0C,QAA1C;AACArL,UAAE,kBAAF,EAAsBsG,GAAtB,CAA0B,IAA1B,EAAgC+E,OAAhC,CAAwC,QAAxC;AACArL,UAAE,aAAF,EAAiBW,UAAjB,CAA4B,QAA5B,EAAsC,IAAtC;AACA+E,gBAAQE,GAAR,CAAY,cAAZ,EAA4B,IAA5B;AACAF,gBAAQE,GAAR,CAAY,cAAZ,EAA4B,IAA5B;AACAF,gBAAQE,GAAR,CAAY,YAAZ,EAA0B,IAA1B;AACA,YAAIjC,WAAWC,aAAa,UAAb,EAAyB;AACpCC,oBAAQ,CAD4B;AAEpCC,kBAAM,CAF8B;AAGpCC,qBAAS;AAH2B,SAAzB,CAAf;AAKA/D,UAAE,iBAAF,EAAqB6H,IAArB,CAA0B,iHAA1B;AACH,KAjBD,MAiBM,IAAGzC,SAAS,cAAZ,EAA2B;AAC7B,YAAGiE,YAAY,WAAf,EAA2B;AACvBrJ,cAAE,oBAAF,EAAwBsG,GAAxB,CAA4B,IAA5B;AACAZ,oBAAQE,GAAR,CAAY,YAAZ,EAA0B,IAA1B;AACA5F,cAAE,oBAAF,EAAwBoI,WAAxB,CAAoC,6EAApC;AACA,gBAAIjE,mBAAmBP,aAAa,mBAAb,EAAkC;AACrDC,wBAAQ,CAD6C;AAErDC,sBAAM,CAF+C;AAGrDC,yBAAS;AAH4C,aAAlC,CAAvB;AAKA/D,cAAE,qBAAF,EAAyB6H,IAAzB,CAA8B,EAA9B;AACA7H,cAAE,sBAAF,EAA0B0D,SAA1B,CAAoC,WAApC;AACA1D,cAAE,8BAAF,EAAkCsG,GAAlC,CAAsC,IAAtC,EAA4C+E,OAA5C,CAAoD,QAApD;AACArL,cAAE,uBAAF,EAA2BsG,GAA3B,CAA+B,IAA/B,EAAqC+E,OAArC,CAA6C,QAA7C;AACArL,cAAE,kBAAF,EAAsBW,UAAtB,CAAiC,QAAjC,EAA0C,IAA1C;AACAX,cAAE,gBAAF,EAAoBW,UAApB,CAA+B,QAA/B,EAAwC,IAAxC;AACH,SAfD,MAeM,IAAG0I,YAAY,UAAf,EAA0B;AAC5BrJ,cAAE,mBAAF,EAAuBsG,GAAvB,CAA2B,IAA3B;AACAtG,cAAE,0BAAF,EAA8BsG,GAA9B,CAAkC,IAAlC;AACAtG,cAAE,sBAAF,EAA0B0D,SAA1B,CAAoC,WAApC;AACA1D,cAAE,8BAAF,EAAkCsG,GAAlC,CAAsC,IAAtC,EAA4C+E,OAA5C,CAAoD,QAApD;AACArL,cAAE,uBAAF,EAA2BsG,GAA3B,CAA+B,IAA/B,EAAqC+E,OAArC,CAA6C,QAA7C;AACArL,cAAE,kBAAF,EAAsBW,UAAtB,CAAiC,QAAjC,EAA0C,IAA1C;AACAX,cAAE,gBAAF,EAAoBW,UAApB,CAA+B,QAA/B,EAAwC,IAAxC;AACH,SARK,MAQA,IAAG0I,YAAY,WAAf,EAA2B;AAC7BrJ,cAAE,oBAAF,EAAwBsG,GAAxB,CAA4B,IAA5B;AACAZ,oBAAQE,GAAR,CAAY,YAAZ,EAA0B,IAA1B;AACA5F,cAAE,uBAAF,EAA2BoI,WAA3B,CAAuC,gFAAvC;;AACA,gBAAIjE,oBAAmBP,aAAa,sBAAb,EAAqC;AACxDC,wBAAQ,CADgD;AAExDC,sBAAM,CAFkD;AAGxDC,yBAAS;AAH+C,aAArC,CAAvB;;AAKA/D,cAAE,qBAAF,EAAyB6H,IAAzB,CAA8B,EAA9B;AACA7H,cAAE,0BAAF,EAA8BsG,GAA9B,CAAkC,IAAlC;AACAtG,cAAE,sBAAF,EAA0B0D,SAA1B,CAAoC,WAApC;AACA1D,cAAE,8BAAF,EAAkCsG,GAAlC,CAAsC,IAAtC,EAA4C+E,OAA5C,CAAoD,QAApD;AACArL,cAAE,uBAAF,EAA2BsG,GAA3B,CAA+B,IAA/B,EAAqC+E,OAArC,CAA6C,QAA7C;AACArL,cAAE,kBAAF,EAAsBW,UAAtB,CAAiC,QAAjC,EAA0C,IAA1C;AACAX,cAAE,gBAAF,EAAoBW,UAApB,CAA+B,QAA/B,EAAwC,IAAxC;AACA+E,oBAAQE,GAAR,CAAY,UAAZ,EAAwB,OAAxB;AACA5F,cAAE,aAAF,EAAiB0G,WAAjB,CAA6B,YAA7B;AACA1G,cAAE,oCAAmC0F,QAAQC,GAAR,CAAY,UAAZ,CAAnC,GAA4D,GAA9D,EAAmEgB,QAAnE,CAA4E,YAA5E;AACH;AACJ;AACJ;;AACD,SAASc,iBAAT,GAA4B;AACxB,QAAIoB,QAAQ7I,EAAE,YAAF,EAAgBsG,GAAhB,EAAZ;AACA,QAAIwC,WAAW9I,EAAE,eAAF,EAAmBsG,GAAnB,EAAf;AACA,QAAIyC,UAAU/I,EAAE,WAAF,EAAec,YAAf,CAA4B,UAA5B,CAAd;AACA,QAAI2K,MAAMzL,EAAE,OAAF,EAAWsG,GAAX,EAAV;AACA,QAAIoF,aAAa,CAAC,KAAD,EAAQ,IAAR,EAAc,GAAd,EAAmB,IAAnB,CAAjB;AACA,QAAI1C,OAAOyC,IAAIE,KAAJ,CAAU,IAAIC,MAAJ,CAAWF,WAAWG,IAAX,CAAgB,GAAhB,CAAX,EAAiC,GAAjC,CAAV,CAAX;AACA,QAAI1G,QAAS7G,WAAD,GAAgBoH,QAAQC,GAAR,CAAY,cAAZ,CAAhB,GAA8CD,QAAQC,GAAR,CAAY,YAAZ,CAA1D;AACA,QAAI4F,cAAc,IAAI9B,IAAJ,CAASzJ,EAAE,aAAF,EAAiBsG,GAAjB,EAAT,CAAlB;AACA,QAAIxB,cAAc,IAAI2E,IAAJ,EAAlB;AACA,QAAIqC,UAAU9L,EAAE,kBAAF,EAAsB,CAAtB,EAAyB8L,OAAvC;AACA,QAAIxM,aAAa,EAAjB;;AACA,SAAK,IAAIyM,IAAI,CAAb,EAAgBA,IAAID,QAAQ1I,MAA5B,EAAoC2I,GAApC,EAAyC;AACrC,YAAIC,MAAMF,QAAQC,CAAR,CAAV;;AACA,YAAIC,IAAIC,QAAR,EAAkB;AACd3M,uBAAWwG,IAAX,CAAgBkG,IAAIzC,KAApB;AACH;AACJ;;AACD,QAAI2C,aAAa3L,SAAS4L,cAAT,CAAwB,wBAAxB,EAAkDL,OAAnE;AACA,QAAIM,WAAW,EAAf;AAAA,QAAmBC,SAAS,EAA5B;;AACA,SAAK,IAAIN,KAAI,CAAb,EAAgBA,KAAIG,WAAW9I,MAA/B,EAAuC2I,IAAvC,EAA4C;AACxC,YAAIC,OAAME,WAAWH,EAAX,CAAV;;AACA,YAAIC,KAAIC,QAAR,EAAkB;AACdG,qBAAStG,IAAT,CAAckG,KAAIxG,IAAlB;AACA6G,mBAAOvG,IAAP,CAAYkG,KAAIzC,KAAhB;AACH;AACJ;;AACD,QAAIC,WAAW3K,OAAO8F,MAAP,EAAf;AACA,QAAI2H,aAAa,IAAjB,CA5BwB,CA6BxB;;AACA,QAAIlB,aAAapL,EAAE,oBAAF,EAAwB,CAAxB,EAA2BuJ,KAA5C;AAEA,WAAO;AACHG,gBAAQF,QADL;AAEHpE,cAAM,MAFH;AAGHmG,qBAAaA,WAHV;AAIHzG,qBAAaA,WAJV;AAKH+D,eAAOA,KALJ;AAMHC,kBAAUA,QANP;AAOHC,iBAASA,OAPN;AAQHC,cAAMA,IARH;AASH1J,oBAAYA,UATT;AAUH6F,eAAOA,KAVJ;AAWHH,kBAAUU,QAAQC,GAAR,CAAY,cAAZ,CAXP;AAYH4G,4BAAoBH,QAZjB;AAaHd,6BAAqBe,MAblB;AAcH/G,cAAM;AACFgH,wBAAYA,UADV;AAEFhO,yBAAaA,WAFX;AAGF8M,wBAAYA;AAHV;AAdH,KAAP;AAoBH;;AACD,SAAShC,yBAAT,CAAmChE,IAAnC,EAAwC;AACpC,QAAIA,SAAS,WAAb,EAA0B;AACtBmB,gBAAQC,GAAR,CAAY,yBAAZ;AACA,YAAI8C,WAAWtJ,EAAE,oBAAF,EAAwBsG,GAAxB,EAAf;AACA,YAAInB,QAAQO,QAAQC,GAAR,CAAY,YAAZ,CAAZ;AACA,YAAI+F,aAAa,CAAC,KAAD,EAAQ,IAAR,EAAc,GAAd,EAAmB,IAAnB,CAAjB;AACA,YAAI1C,OAAOhJ,EAAE,gBAAF,EAAoB,CAApB,EAAuBuJ,KAAvB,CAA6BoC,KAA7B,CAAmC,IAAIC,MAAJ,CAAWF,WAAWG,IAAX,CAAgB,GAAhB,CAAX,EAAiC,GAAjC,CAAnC,CAAX;AACA,YAAIC,UAAU9L,EAAE,wBAAF,EAA4B,CAA5B,EAA+B8L,OAA7C;AACA,YAAIxM,aAAa,EAAjB;;AACA,aAAK,IAAIyM,IAAI,CAAb,EAAgBA,IAAID,QAAQ1I,MAA5B,EAAoC2I,GAApC,EAAyC;AACrC,gBAAIC,MAAMF,QAAQC,CAAR,CAAV;;AACA,gBAAIC,IAAIC,QAAR,EAAkB;AACd3M,2BAAWwG,IAAX,CAAgBkG,IAAIzC,KAApB;AACH;AACJ;;AACD,YAAInJ,QAAQJ,EAAE,iBAAF,EAAqB,CAArB,EAAwB8L,OAApC;AACA,YAAIU,WAAW,EAAf;;AACA,aAAK,IAAIT,MAAI,CAAb,EAAgBA,MAAI3L,MAAMgD,MAA1B,EAAkC2I,KAAlC,EAAuC;AACnC,gBAAIC,QAAM5L,MAAM2L,GAAN,CAAV;;AACA,gBAAIC,MAAIC,QAAR,EAAkB;AACdO,yBAAS1G,IAAT,CAAckG,MAAIzC,KAAlB;AACH;AACJ;;AACD,YAAIC,WAAW3K,OAAO8F,MAAP,EAAf;AACA,YAAI/D,YAAY,IAAI6I,IAAJ,CAASzJ,EAAE,YAAF,EAAgB,CAAhB,EAAmBuJ,KAA5B,CAAhB;AACA,YAAIiC,UAAU,IAAI/B,IAAJ,CAASzJ,EAAE,UAAF,EAAc,CAAd,EAAiBuJ,KAA1B,CAAd;AACA,YAAIzE,cAAc,IAAI2E,IAAJ,EAAlB;AACA,YAAI2B,aAAapL,EAAE,oBAAF,EAAwB,CAAxB,EAA2BuJ,KAA5C;;AACA,YAAI,CAACpE,KAAL,EAAY;AACRiC,uBAAW,kBAAX,EAA+B,oCAA/B;AACH;;AACD,YAAI,CAACkC,QAAL,EAAe;AACX;AACAlC,uBAAW,kBAAX,EAA+B,+BAA/B;AACH;;AACD,YAAG,CAACxG,SAAD,IAAc,CAAC4K,OAAlB,EAA0B;AACtBpE,uBAAW,kBAAX,EAA+B,2BAA/B;AACH;;AACD,eAAO;AACHsC,oBAAQF,QADL;AAEHpE,kBAAM,cAFH;AAGHiE,qBAAS,WAHN;AAIHzI,uBAAWA,SAJR;AAKH4K,qBAASA,OALN;AAMH1G,yBAAaA,WANV;AAOHwE,sBAAUA,QAPP;AAQHN,kBAAMA,IARH;AASH1J,wBAAYA,UATT;AAUH6F,mBAAOA,KAVJ;AAWH/E,mBAAOoM,QAXJ;AAYHlH,kBAAM;AACFhH,6BAAaA,WADX;AAEF8M,4BAAYA;AAFV;AAZH,SAAP;AAiBH,KAtDD,MAsDO,IAAIhG,SAAS,UAAb,EAAyB;AAC5B,YAAIkE,YAAWtJ,EAAE,mBAAF,EAAuBsG,GAAvB,EAAf;;AACA,YAAIyC,UAAU/I,EAAE,oBAAF,EAAwB,CAAxB,EAA2BuJ,KAAzC;AACA,YAAImC,cAAa,CAAC,KAAD,EAAQ,IAAR,EAAc,GAAd,EAAmB,IAAnB,CAAjB;;AACA,YAAI1C,QAAOhJ,EAAE,gBAAF,EAAoB,CAApB,EAAuBuJ,KAAvB,CAA6BoC,KAA7B,CAAmC,IAAIC,MAAJ,CAAWF,YAAWG,IAAX,CAAgB,GAAhB,CAAX,EAAiC,GAAjC,CAAnC,CAAX;;AAEA,YAAIC,WAAU9L,EAAE,wBAAF,EAA4B,CAA5B,EAA+B8L,OAA7C;AACA,YAAIxM,cAAa,EAAjB;;AAEA,aAAK,IAAIyM,MAAI,CAAb,EAAgBA,MAAID,SAAQ1I,MAA5B,EAAoC2I,KAApC,EAAyC;AACrC,gBAAIC,QAAMF,SAAQC,GAAR,CAAV;;AACA,gBAAIC,MAAIC,QAAR,EAAkB;AACd3M,4BAAWwG,IAAX,CAAgBkG,MAAIzC,KAApB;AACH;AACJ;;AACD,YAAI6B,cAAapL,EAAE,oBAAF,EAAwB,CAAxB,EAA2BuJ,KAA5C;;AACA,YAAIC,YAAW3K,OAAO8F,MAAP,EAAf;;AACA,YAAI/D,aAAY,IAAI6I,IAAJ,CAASzJ,EAAE,YAAF,EAAgB,CAAhB,EAAmBuJ,KAA5B,CAAhB;;AACA,YAAIiC,WAAU,IAAI/B,IAAJ,CAASzJ,EAAE,UAAF,EAAc,CAAd,EAAiBuJ,KAA1B,CAAd;;AACA,YAAIzE,eAAc,IAAI2E,IAAJ,EAAlB;;AACA,YAAIrJ,SAAQJ,EAAE,iBAAF,EAAqB,CAArB,EAAwB8L,OAApC;AACA,YAAIU,YAAW,EAAf;;AACA,aAAK,IAAIT,MAAI,CAAb,EAAgBA,MAAI3L,OAAMgD,MAA1B,EAAkC2I,KAAlC,EAAuC;AACnC,gBAAIC,QAAM5L,OAAM2L,GAAN,CAAV;;AACA,gBAAIC,MAAIC,QAAR,EAAkB;AACdO,0BAAS1G,IAAT,CAAckG,MAAIzC,KAAlB;AACH;AACJ,SA3B2B,CA4B5B;;;AAEA,YAAI,CAACR,OAAL,EAAc;AACV3B,uBAAW,kBAAX,EAA+B,oCAA/B;AACH;;AACD,YAAI,CAACkC,SAAL,EAAe;AACX;AACAlC,uBAAW,kBAAX,EAA+B,+BAA/B;AACH;;AACD,YAAG,CAACxG,UAAD,IAAc,CAAC4K,QAAlB,EAA0B;AACtBpE,uBAAW,kBAAX,EAA+B,2BAA/B;AACH;;AAED,eAAO;AACHsC,oBAAQF,SADL;AAEHpE,kBAAM,cAFH;AAGHiE,qBAAS,UAHN;AAIHzI,uBAAWA,UAJR;AAKH4K,qBAASA,QALN;AAMH1G,yBAAaA,YANV;AAOHwE,sBAAUA,SAPP;AAQHP,qBAASA,OARN;AASHC,kBAAMA,SAAQ,EATX;AAUH1J,wBAAYA,eAAc,EAVvB;AAWHc,mBAAOoM,SAXJ;AAYHlH,kBAAM;AACFhH,6BAAaA,WADX;AAEF8M,4BAAYA;AAFV;AAZH,SAAP;AAiBH,KA1DM,MA0DA,IAAIhG,SAAS,cAAb,EAA6B;AAChC,YAAIkE,aAAWtJ,EAAE,oBAAF,EAAwBsG,GAAxB,EAAf;;AACA,YAAIyC,WAAU/I,EAAE,oBAAF,EAAwB,CAAxB,EAA2BuJ,KAAzC;;AACA,YAAIpE,SAAQO,QAAQC,GAAR,CAAY,YAAZ,CAAZ;;AACA,YAAI8F,MAAMzL,EAAE,gBAAF,EAAoB,CAApB,EAAuBuJ,KAAjC;AACA,YAAImC,eAAa,CAAC,KAAD,EAAQ,IAAR,EAAc,GAAd,EAAmB,IAAnB,CAAjB;;AACA,YAAI1C,SAAOyC,IAAIE,KAAJ,CAAU,IAAIC,MAAJ,CAAWF,aAAWG,IAAX,CAAgB,GAAhB,CAAX,EAAiC,GAAjC,CAAV,CAAX;;AAEA,YAAIC,YAAU9L,EAAE,wBAAF,EAA4B,CAA5B,EAA+B8L,OAA7C;AACA,YAAIxM,eAAa,EAAjB;;AAEA,aAAK,IAAIyM,MAAI,CAAb,EAAgBA,MAAID,UAAQ1I,MAA5B,EAAoC2I,KAApC,EAAyC;AACrC,gBAAIC,QAAMF,UAAQC,GAAR,CAAV;;AACA,gBAAIC,MAAIC,QAAR,EAAkB;AACd3M,6BAAWwG,IAAX,CAAgBkG,MAAIzC,KAApB;AACH;AACJ;;AACD,YAAI6B,eAAapL,EAAE,oBAAF,EAAwB,CAAxB,EAA2BuJ,KAA5C;;AACA,YAAIC,aAAW3K,OAAO8F,MAAP,EAAf;;AACA,YAAI/D,cAAY,IAAI6I,IAAJ,CAASzJ,EAAE,YAAF,EAAgB,CAAhB,EAAmBuJ,KAA5B,CAAhB;;AACA,YAAIiC,YAAU,IAAI/B,IAAJ,CAASzJ,EAAE,UAAF,EAAc,CAAd,EAAiBuJ,KAA1B,CAAd;;AACA,YAAIzE,gBAAc,IAAI2E,IAAJ,EAAlB;;AACA,YAAIrJ,UAAQJ,EAAE,iBAAF,EAAqB,CAArB,EAAwB8L,OAApC;AACA,YAAIU,aAAW,EAAf;;AACA,aAAK,IAAIT,MAAI,CAAb,EAAgBA,MAAI3L,QAAMgD,MAA1B,EAAkC2I,KAAlC,EAAuC;AACnC,gBAAIC,QAAM5L,QAAM2L,GAAN,CAAV;;AACA,gBAAIC,MAAIC,QAAR,EAAkB;AACdO,2BAAS1G,IAAT,CAAckG,MAAIzC,KAAlB;AACH;AACJ,SA7B+B,CA8BhC;;;AACA,YAAI9C,WAAWf,QAAQC,GAAR,CAAY,UAAZ,CAAf;;AACA,YAAI,CAACR,MAAL,EAAY;AACRiC,uBAAW,kBAAX,EAA+B,oCAA/B;AACH;;AACD,YAAI,CAACkC,UAAL,EAAe;AACX;AACAlC,uBAAW,kBAAX,EAA+B,+BAA/B;AACH;;AACD,YAAG,CAACxG,WAAD,IAAc,CAAC4K,SAAlB,EAA0B;AACtBpE,uBAAW,kBAAX,EAA+B,2BAA/B;AACH;;AACD,YAAI,CAAC2B,QAAL,EAAc;AACV;AACA3B,uBAAW,kBAAX,EAA+B,oCAA/B;AACH;;AAED,eAAO;AACHsC,oBAAQF,UADL;AAEHpE,kBAAM,cAFH;AAGHiE,qBAAS,WAHN;AAIHC,sBAAUA,UAJP;AAKHP,qBAASA,QALN;AAMHnI,uBAAWA,WANR;AAOH4K,qBAASA,SAPN;AAQH1G,yBAAaA,aARV;AASHkE,kBAAMA,UAAQ,EATX;AAUH1J,wBAAYA,gBAAc,EAVvB;AAWH6F,mBAAOA,MAXJ;AAYH/E,mBAAOoM,UAZJ;AAaHlH,kBAAM;AACFmB,0BAAUA,YAAY,OADpB;AAEFnI,6BAAaA,WAFX;AAGF8M,4BAAYA;AAHV;AAbH,SAAP;AAmBH;AACJ;;AAED,SAASrD,UAAT,CAAoBvC,IAApB,EAA0B;AACtB,QAAIiH,oBAAoBtO,QAAQ,mBAAR,CAAxB;;AAEA,QAAIuO,WAAY1M,EAAEwF,IAAF,EAAQA,IAAR,EAAhB,CAHsB,CAI1B;;AACI,QAAImH,oBAAoBF,kBAAkBG,OAAlB,CAA0BF,QAA1B,EAAmC;AACvDG,kBAAS,SAD8C;AAEvDC,uBAAe,IAFwC;AAGvDC,6BAAoB,IAHmC;AAIvDC,2BAAmB,KAJoC;AAKvDC,2BAAmB;AALoC,KAAnC,CAAxB;AAOA,WAAON,iBAAP;AACH,8H;;;;;;;;;;;AClxCD,IAAIO,cAAJ;AAAUjP,OAAOC,KAAP,CAAaC,QAAQ,qBAAR,CAAb,EAA4C;AAAA,yBAASC,CAAT,EAAW;AAAC8O,gBAAM9O,CAAN;AAAQ;AAApB,CAA5C,EAAkE,CAAlE;AAAqE,IAAIJ,eAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,4BAAR,CAAb,EAAmD;AAACH,UAAD,YAAQI,CAAR,EAAU;AAACJ,iBAAOI,CAAP;AAAS;AAApB,CAAnD,EAAyE,CAAzE;AAA4EH,OAAOC,KAAP,CAAaC,QAAQ,mBAAR,CAAb;AAA2CF,OAAOC,KAAP,CAAaC,QAAQ,oBAAR,CAAb;AAOjNM,SAAS0O,UAAT,CAAoBzO,UAApB,CAA+B,YAAY;AACvC;AACAsB,MAAE,cAAF,EAAkBoN,IAAlB;AACApN,MAAE,iBAAF,EAAqBoN,IAArB;AACApN,MAAE,cAAF,EAAkBoN,IAAlB;AACA1H,YAAQE,GAAR,CAAY,eAAZ,EAA6B;AAACyH,cAAK;AAAN,KAA7B;AACH,CAND;AAQA5O,SAAS0O,UAAT,CAAoB3I,OAApB,CAA4B;AACxB,YAAQ,YAAY;AAChB,eAAO,kBAAP;AACH,KAHuB;AAIxB,gBAAY,YAAY;AACpB,eAAOkB,QAAQC,GAAR,CAAY,MAAZ,CAAP;AACH,KANuB;AAOxB,aAAS,YAAY;AACjB,eAAOD,QAAQC,GAAR,CAAY,UAAZ,CAAP;AACH,KATuB;AAUxB,iBAAa,YAAY;AACrB,eAAOlB,MAAMC,YAAN,CAAmB7F,OAAO8F,MAAP,EAAnB,EAAoC,SAApC,CAAP;AACH,KAZuB;AAaxB,eAAW,YAAY;AACnB,eAAOF,MAAMC,YAAN,CAAmB7F,OAAO8F,MAAP,EAAnB,EAAoC,OAApC,CAAP;AACH,KAfuB;AAgBxB,qBAAiB,YAAY;AACzB,eAAOe,QAAQC,GAAR,CAAY,eAAZ,EAA6B0H,IAApC;AACH,KAlBuB;AAmBxB,WAAO,YAAY;AACf,YAAG,KAAKrI,QAAR,EAAiB;AACb,mBAAO,KAAKA,QAAL,CAAcC,IAAd,CAAmBC,IAA1B;AACH,SAFD,MAEM,IAAG,KAAKC,KAAR,EAAc;AAChB,gBAAG;AACC,uBAAOnH,OAAOgF,OAAP,CAAe;AAACC,yBAAK,KAAKkC;AAAX,iBAAf,EAAkCjC,GAAlC,EAAP;AACH,aAFD,CAEC,OAAMV,CAAN,EAAQ,CACL;AACH;AAEJ;AACJ,KA9BuB;AA+BxB,eAAW,YAAY;AACnB,eAAOkD,QAAQC,GAAR,CAAY,SAAZ,CAAP;AACH,KAjCuB;AAkCxB,aAAS,YAAY;AACjB,YAAM2H,MAAM,IAAI7D,IAAJ,EAAZ;AACA,YAAI8D,OAAOzC,KAAK0C,GAAL,CAASF,MAAM5H,QAAQC,GAAR,CAAY,aAAZ,CAAf,CAAX;AACA,YAAI8H,UAAU3C,KAAKC,KAAL,CAAYwC,OAAK,IAAN,GAAY,EAAvB,CAAd;AACA,eAAQE,UAAU,EAAX,GAAiB,SAAjB,GAA6B,MAApC;AACH,KAvCuB;AAwCxB,YAAQ,YAAY;AAChB,YAAIC,OAAO,KAAKA,IAAhB;;AACA,YAAGA,KAAKtK,MAAL,GAAc,CAAjB,EAAmB;AACfsK,mBAAO,KAAP;AACH;;AACD,eAAOA,IAAP;AACH,KA9CuB;AA+CxB,YAAQ,YAAY;AAChB,eAAOhI,QAAQC,GAAR,CAAY,QAAZ,CAAP;AACH;AAjDuB,CAA5B;AAoDAlH,SAAS0O,UAAT,CAAoB1H,MAApB,CAA2B;AACvB,yBAAqB,YAAY;AAC7B,YAAIkI,UAAU3N,EAAE,WAAF,CAAd;AACA,YAAI4N,gBAAgB5N,EAAE,kBAAF,CAApB;AACAA,UAAE,UAAF,EAAc6N,WAAd,CAA0B,YAA1B;AACA7N,UAAE,OAAF,EAAW6N,WAAX,CAAuB,YAAvB;AACAF,gBAAQE,WAAR,CAAoB,YAApB;;AACA,YAAG7N,EAAE,OAAF,EAAW8G,QAAX,CAAoB,YAApB,CAAH,EAAsC;AAClC8G,0BAAc/F,IAAd,CAAmB,4EAAnB;AACA7H,cAAE,cAAF,EAAkB2K,MAAlB,CAAyB,MAAzB;AACH,SAHD,MAGK;AACDiD,0BAAc/F,IAAd,CAAmB,0EAAnB;AACA7H,cAAE,cAAF,EAAkB0K,OAAlB,CAA0B,MAA1B;AACH;AACJ,KAdsB;AAevB,0BAAsB,YAAY;AAC9B,YAAIiD,UAAU3N,EAAE,WAAF,CAAd;AACA,YAAI4N,gBAAgB5N,EAAE,kBAAF,CAApB;AACAA,UAAE,UAAF,EAAc0G,WAAd,CAA0B,YAA1B;AACA1G,UAAE,OAAF,EAAW0G,WAAX,CAAuB,YAAvB;AACAiH,gBAAQjH,WAAR,CAAoB,YAApB;;AACA,YAAG1G,EAAE,OAAF,EAAW8G,QAAX,CAAoB,YAApB,CAAH,EAAsC;AAClC8G,0BAAc/F,IAAd,CAAmB,4EAAnB;AACA7H,cAAE,cAAF,EAAkB2K,MAAlB,CAAyB,MAAzB;AACH,SAHD,MAGK;AACDiD,0BAAc/F,IAAd,CAAmB,0EAAnB;AACA7H,cAAE,cAAF,EAAkB0K,OAAlB,CAA0B,MAA1B;AACH;AACJ,KA5BsB;AA6BvB,uBAAmB,YAAY;AAC3B,YAAIoD,YAAY9N,EAAE,cAAF,CAAhB;AACA,YAAI+N,gBAAgB/N,EAAE,iBAAF,CAApB;AACA,YAAIgO,SAAShO,EAAE,uBAAF,CAAb;AACA0F,gBAAQE,GAAR,CAAY,eAAZ,EAA6B;AAACyH,kBAAK;AAAN,SAA7B;;AACA,YAAG,CAACS,UAAUG,EAAV,CAAa,UAAb,CAAJ,EAA6B;AACzBH,sBAAUnD,MAAV,CAAiB,MAAjB;AACA3K,cAAE,gBAAF,EAAoBkO,IAApB;AACAH,0BAAcpD,MAAd,CAAqB,6EAArB;AACAqD,mBAAOnG,IAAP,CAAY,OAAZ;AACAiG,sBAAUK,KAAV,CAAgB;AACZC,yBAAS,CACL,gBADK,EAEL,iBAFK,EAGL,cAHK,EAIL,UAJK,EAKL,UALK,EAML,wBANK,CADG;AASZC,2BAAW,EATC;AAUZC,sBAAM,IAVM;AAWZC,yBAAS,IAXG;AAYZC,4BAAY,IAZA;AAaZC,4BAAY;AAbA,aAAhB;AAeAzO,cAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,0BAAU;AADM,aAApB;AAGH,SAvBD,MAuBK;AACD8H,sBAAUpD,OAAV,CAAkB,MAAlB;AACA1K,cAAE,gBAAF,EAAoBoN,IAApB;AACAW,0BAAcrD,OAAd,CAAsB,MAAtB;AACAsD,mBAAOnG,IAAP,CAAY,8EAAZ;AACA7H,cAAE,YAAF,EAAgB+F,GAAhB,CAAoB;AAChBC,0BAAU;AADM,aAApB;AAGH;AACJ,KAlEsB;AAmEvB,wBAAoB,YAAY;AAC5B,YAAG,CAACN,QAAQC,GAAR,CAAY,OAAZ,CAAJ,EAAyB;AACrB+I,kBAAMR,IAAN,CAAW,oBAAX;AACH;;AACD,YAAIpG,OAAO9H,EAAE,cAAF,CAAX;AACA,YAAI2O,OAAO3O,EAAE,iBAAF,CAAX;;AACA,YAAG,CAAC8H,KAAKmG,EAAL,CAAQ,UAAR,CAAJ,EAAwB;AACpBnG,iBAAKoG,IAAL,CAAU,GAAV;AACAS,iBAAKjI,WAAL,CAAiB,SAAjB;AACAiI,iBAAKhI,QAAL,CAAc,UAAd;AACH,SAJD,MAIK;AACDmB,iBAAKsF,IAAL,CAAU,GAAV;AACAuB,iBAAKjI,WAAL,CAAiB,UAAjB;AACAiI,iBAAKhI,QAAL,CAAc,SAAd;AACH;AACJ,KAlFsB;AAmFvB,0BAAsB,YAAY;AAC9B,YAAImH,YAAY9N,EAAE,cAAF,CAAhB;AACA,YAAI4O,eAAe5O,EAAE,gBAAF,CAAnB;;AACA,YAAG8N,UAAUxH,GAAV,GAAgBlD,MAAhB,GAAyB,CAA5B,EAA8B;AAC1BwL,yBAAa7I,GAAb,CAAiB,SAAjB,EAA2B,MAA3B;AACAQ,oBAAQC,GAAR,CAAYsH,UAAUxH,GAAV,EAAZ;AACAuI,uBAAWf,UAAUxH,GAAV,EAAX;AACH,SAJD,MAIK;AACDsI,yBAAa7I,GAAb,CAAiB,SAAjB,EAA2B,OAA3B;AACAL,oBAAQE,GAAR,CAAY,eAAZ,EAA6B;AAACyH,sBAAK;AAAN,aAA7B;AACH;AACJ;AA9FsB,CAA3B;AAiGA5O,SAASqQ,eAAT,CAAyBtK,OAAzB,CAAiC;AAC7B,kBAAc,YAAY;AACtB,eAAO3F,OAAOyJ,IAAP,GAAcyG,OAAd,CAAsBC,cAA7B;AACH;AAH4B,CAAjC;AAMAvQ,SAASwQ,kBAAT,CAA4BxJ,MAA5B,CAAmC;AAC/B,gCAA4B,UAAUS,GAAV,EAAe;AACvCA,YAAIU,cAAJ;AACA,YAAMsI,OAAOlP,EAAE,cAAF,EAAkBsG,GAAlB,EAAb;AACAzH,eAAO6I,IAAP,CAAY,sBAAZ,EAAoC;AAACsH,4BAAgBnQ,OAAOyJ,IAAP,GAAcyG,OAAd,CAAsBC,cAAvC;AAAuDG,sBAAUD;AAAjE,SAApC,EAA4G,UAAUrM,GAAV,EAAeqF,IAAf,EAAqB;AAC7H,gBAAGrF,GAAH,EAAO;AACHuE,2BAAW,qCAAX,EAAkDvE,IAAIkB,OAAtD;AACH,aAFD,MAEK;AACDlF,uBAAOuQ,KAAP,CAAaxH,MAAb,CAAoB;AAAC3E,yBAAKpE,OAAO8F,MAAP;AAAN,iBAApB,EAA4C;AAAC0K,0BAAM;AAAC,yCAAiBnH,IAAlB;AAAwB,6CAAqB,IAAIuB,IAAJ;AAA7C;AAAP,iBAA5C,EAA8G,UAAU5G,GAAV,EAAe;AACzH,wBAAGA,GAAH,EAAO;AACHuE,mCAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,qBAFD,MAEK;AACDlF,+BAAO6I,IAAP,CAAY,uBAAZ,EAAqCQ,IAArC,EAA2C,UAAUrF,GAAV,EAAcqF,IAAd,EAAoB;AAC3D,gCAAGrF,GAAH,EAAO;AACHuE,2CAAW,sBAAX,EAAmC,EAAnC;AACH,6BAFD,MAEK;AACDvI,uCAAOuQ,KAAP,CAAaxH,MAAb,CAAoB;AAAC3E,yCAAKpE,OAAO8F,MAAP;AAAN,iCAApB,EAA4C;AAAC0K,0CAAM;AAAC,2DAAmBnH;AAApB;AAAP,iCAA5C;AACAwG,sCAAMtB,IAAN,CAAW,iBAAX;AACAkC,2CAAWC,MAAX;AACH;AACJ,yBARD;AASH;AACJ,iBAdD;AAeH;AACJ,SApBD;AAqBH;AAzB8B,CAAnC;AA4BA9Q,SAASqQ,eAAT,CAAyBrJ,MAAzB,CAAgC;AAC7B,2BAAuB,UAAUS,GAAV,EAAe;AAClCA,YAAIU,cAAJ;AACA,YAAMsI,OAAOlP,EAAE,cAAF,EAAkBsG,GAAlB,EAAb;AACAzH,eAAO6I,IAAP,CAAY,sBAAZ,EAAoC;AAACsH,4BAAgBnQ,OAAOyJ,IAAP,GAAcyG,OAAd,CAAsBC,cAAvC;AAAuDG,sBAAUD;AAAjE,SAApC,EAA4G,UAAUrM,GAAV,EAAeqF,IAAf,EAAqB;AAC7H,gBAAGrF,GAAH,EAAO;AACHuE,2BAAW,qCAAX,EAAkDvE,IAAIkB,OAAtD;AACH,aAFD,MAEK;AACDlF,uBAAOuQ,KAAP,CAAaxH,MAAb,CAAoB;AAAC3E,yBAAKpE,OAAO8F,MAAP;AAAN,iBAApB,EAA4C;AAAC0K,0BAAM;AAAC,yCAAiBnH,IAAlB;AAAwB,6CAAqB,IAAIuB,IAAJ;AAA7C;AAAP,iBAA5C,EAA8G,UAAU5G,GAAV,EAAe;AACzH,wBAAGA,GAAH,EAAO;AACHuE,mCAAW,sBAAX,EAAmCvE,IAAIkB,OAAvC;AACH,qBAFD,MAEK;AACDlF,+BAAO6I,IAAP,CAAY,uBAAZ,EAAqCQ,IAArC,EAA2C,UAAUrF,GAAV,EAAcqF,IAAd,EAAoB;AAC3D,gCAAGrF,GAAH,EAAO;AACHuE,2CAAW,sBAAX,EAAmC,EAAnC;AACH,6BAFD,MAEK;AACDvI,uCAAOuQ,KAAP,CAAaxH,MAAb,CAAoB;AAAC3E,yCAAKpE,OAAO8F,MAAP;AAAN,iCAApB,EAA4C;AAAC0K,0CAAM;AAAC,2DAAmBnH;AAApB;AAAP,iCAA5C;AACAwG,sCAAMtB,IAAN,CAAW,iBAAX;AACAkC,2CAAWC,MAAX;AACH;AACJ,yBARD;AASH;AACJ,iBAdD;AAeH;AACJ,SApBD;AAqBH;AAzB4B,CAAhC;;AA4BAC,WAAW,UAAU3G,KAAV,EAAiB;AACxB7I,MAAE,iBAAF,EAAqB6H,IAArB,CAA0B,WAASgB,KAAT,GAAe,SAAzC;AACH,CAFD;;AAIA4G,iBAAiB,UAAUC,UAAV,EAAsB;AACnC1P,MAAE,iBAAF,EAAqB+F,GAArB,CAAyB,OAAzB,EAAiC,MAAjC;AACA/F,MAAE,mBAAF,EAAuB2P,OAAvB,CAA+B;AAAEC,eAAOF;AAAT,KAA/B,EAAsD,IAAtD;AACH,CAHD,4H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtOAzR,OAAOC,KAAP,CAAaC,QAAQ,0BAAR,CAAb,2E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"/app.js","sourcesContent":["/**\r\n * Created by Yonglin Wang on 8/4/2017.\r\n */\r\nimport {Images} from '../../api/images/images.js';\r\n\r\nimport './editor.html';\r\nlet operationStack = ['.editor-open'];\r\nlet hasUnsplash = false;\r\nlet originalTitle = \"\";\r\nlet allPosts = null;\r\nTemplate.allPosts.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        allPosts = Meteor.subscribeWithPagination('postsByUser', 10);\r\n        Meteor.subscribe('images')\r\n    })\r\n});\r\n\r\nTemplate.blogDraft.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        Meteor.subscribeWithPagination('drafts', 10);\r\n        Meteor.subscribe('images')\r\n    })\r\n});\r\n\r\nTemplate.blogEditor.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        let categorySub = Meteor.subscribe('blogCategories');\r\n        let courseSub = Meteor.subscribe('allCourses',1000);\r\n        let clubSub = Meteor.subscribe('allClubs',1000);\r\n        if(categorySub.ready()){\r\n            let categories = BlogCategories.find({});\r\n            categories.observeChanges({\r\n                added: function(id, fields) {\r\n                    let newCat = new Option(fields.name, fields.name);\r\n                    $('#blogCategorySelect').append(newCat);\r\n                }\r\n            });\r\n        }\r\n        if(courseSub.ready() && clubSub.ready()){\r\n            let courses = Courses.find({});\r\n            let clubs = Clubs.find({});\r\n            courses.observeChanges({\r\n                added: function (id, fields) {\r\n                    let newCat = new Option(fields.name + \" - \" + fields.code, fields.code);\r\n                    $('#blogOrganizationSelect').append(newCat)\r\n                }\r\n            });\r\n            clubs.observeChanges({\r\n                added: function (id, fields) {\r\n                    let newCat = new Option(fields.name, fields.code);\r\n                    $('#blogOrganizationSelect').append(newCat)\r\n                }\r\n            })\r\n        }\r\n    });\r\n    $(document).ready(function () {\r\n        $('#blogCategorySelect').select2({\r\n            placeholder: \"Click to select matching categories\",\r\n            allowClear: true\r\n        });\r\n        $('#blogOrganizationSelect').select2({\r\n            placeholder: \"Click to select matching categories\",\r\n            allowClear: true\r\n        });\r\n        // Append it to the select\r\n        $('.visibility-select').select2({\r\n            placeholder: \"Click to select the scope of this post\",\r\n        });\r\n        $('.input-date').datepicker({\r\n            startDate: '+1d'\r\n        });\r\n        let $editor = $('.editable');\r\n        $editor.froalaEditor({\r\n            scaytAutoload: false,\r\n            //This setting can be completely ignored.\r\n            scaytOptions: {\r\n                enableOnTouchDevices: false,\r\n                localization: 'en',\r\n                extraModules: 'ui',\r\n                DefaultSelection: 'American English',\r\n                spellcheckLang: 'en_US',\r\n                contextMenuSections: 'suggest|moresuggest',\r\n                serviceProtocol: 'https',\r\n                servicePort: '80',\r\n                serviceHost: 'svc.webspellchecker.net',\r\n                servicePath: 'spellcheck/script/ssrv.cgi',\r\n                contextMenuForMisspelledOnly: true,\r\n                scriptPath: 'https://demo.webspellchecker.net/froala/customscayt.js'\r\n            },\r\n            //ignore end\r\n            toolbarButtons: ['fullscreen', '|', 'paragraphFormat', 'bold', 'italic', 'underline', 'strikeThrough', 'subscript', 'superscript', '|', 'align', 'formatOL', 'formatUL', 'outdent', 'indent', 'quote', '-', 'insertLink', 'insertImage', 'insertFile', 'insertVideo', 'insertTable', '|', 'emoticons', 'specialCharacters', 'insertHR', '|', 'print', 'help', '|', 'undo', 'redo'],\r\n            toolbarButtonsSM: ['fullscreen', '|', 'bold', 'italic', 'underline', '|', 'paragraphFormat', 'align', 'formatOL', 'formatUL', 'outdent', 'indent', 'quote', '-', 'insertLink', 'insertImage', 'insertFile', 'insertVideo', 'insertTable', '|', 'specialCharacters', 'insertHR', 'selectAll', 'clearFormatting', '|', 'print', 'help', '|', 'undo', 'redo'],\r\n            placeholderText: 'Tell your story here...',\r\n            tableStyles: {\r\n                class1: 'table',\r\n            },\r\n            paragraphFormat: {\r\n                N: 'Normal',\r\n                H2: 'Title',\r\n                PRE: 'Code'\r\n            },\r\n            fileAllowedTypes: ['application/pdf', 'application/msword']\r\n        });\r\n        $editor.on('froalaEditor.image.beforeUpload', function (e, editor, images) {\r\n            let self = $(this);\r\n\r\n            Images.insert(images[0], function (err, fileObj) {\r\n                //console.log(\"editor \",  editor);\r\n                //console.log(\"after insert:\", fileObj._id);\r\n                Tracker.autorun(function (c) {\r\n                    fileObj = Images.findOne(fileObj._id);\r\n                    let url = fileObj.url();\r\n                    if (url) {\r\n                        let imgList = $('img.fr-fic');\r\n                        self.froalaEditor('image.insert', url, true);\r\n                        imgList[imgList.length - 1].remove();\r\n                        return {\r\n                            link: url\r\n                        };\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        if (Meteor.isClient) {\r\n            Dropzone.autoDiscover = false;\r\n            $(\".tags\").tagsinput('items');\r\n            let blogDrop = initDropZone('dropzone', {\r\n                number: 1,\r\n                size: 8,\r\n                message: \"Drop an image here to be the featured image, or click to select an image using the browser.\",\r\n            });\r\n        }\r\n    });\r\n});\r\n\r\nTemplate.announcementEditor.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        let categorySub = Meteor.subscribe('categories');\r\n        let clubSub = Meteor.subscribe('allClubs',100);\r\n        if(categorySub.ready()){\r\n            let categories = Categories.find({});\r\n            categories.observeChanges({\r\n                added: function(id, fields) {\r\n                    let newCat = new Option(fields.name, fields.name);\r\n                    $('.announcement-category').append(newCat);\r\n                }\r\n            });\r\n        }\r\n        if(clubSub.ready()){\r\n            let clubs = Clubs.find({});\r\n            clubs.observeChanges({\r\n                added: function(id, fields) {\r\n                    let newCat = new Option(fields.name, fields.name);\r\n                    $('.clubs-category').append(newCat);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    $(document).ready(function () {\r\n        $('.category-select').select2({\r\n            placeholder: \"Click to select matching categories\",\r\n            allowClear: true\r\n        });\r\n        $('.input-daterange').datepicker({\r\n            startDate: '+1d'\r\n        });\r\n        if (Meteor.isClient) {\r\n            let arrayOfImageIds = [];\r\n            Dropzone.autoDiscover = false;\r\n            $(\".tags\").tagsinput('items');\r\n            let announcementDrop = initDropZone(\"announcementImage\", {\r\n                number: 1,\r\n                size: 8,\r\n                message: \"Drop your poster here, or click to select an image using the browser.\",\r\n            });\r\n            let announcementImageTwo = initDropZone(\"announcementImageTwo\", {\r\n                number: 1,\r\n                size: 8,\r\n                message: \"Drop your poster here, or click to select an image using the browser.\"\r\n            });\r\n        }\r\n\r\n    });\r\n});\r\n\r\nTemplate.suggestionEditor.onRendered(function () {\r\n    let suggestionDrop = initDropZone('suggestionImage', {\r\n        number: 1,\r\n        size: 8\r\n    });\r\n});\r\n\r\nTemplate.announcementOptions.onRendered(function () {\r\n    this.$(\".announce-tags\").tagsinput('items');\r\n});\r\n\r\nTemplate.editor.helpers({\r\n    'canEdit': function () {\r\n        return Roles.userIsInRole(Meteor.userId(),['teacher','blogEditor','announcementEditor','admin']);\r\n    },\r\n    'canWriteAnnounce': function () {\r\n        return Roles.userIsInRole(Meteor.userId(),['teacher','admin','announcementEditor'])\r\n    },\r\n    'canWriteBlog': function () {\r\n        return Roles.userIsInRole(Meteor.userId(),['teacher','admin','blogEditor'])\r\n    }\r\n});\r\n\r\nTemplate.blogDraft.helpers({\r\n    'drafts': function () {\r\n        return Drafts.find({})\r\n    },\r\n    'draftedDate': function () {\r\n        return moment(this.draftedDate).format('MMMM Do YYYY')\r\n    },\r\n    'imageLink': function () {\r\n        if(this.unsplash){\r\n            return this.unsplash.urls.full;\r\n        }else{\r\n            try{\r\n                return Images.findOne({_id: this.imgId}).url();\r\n            }catch(e){\r\n                //console.log('error getting photo')\r\n            }\r\n        }\r\n    },\r\n    'isBlog': function () {\r\n        return this.type === 'blog'\r\n    }\r\n});\r\n\r\nTemplate.allPosts.helpers({\r\n    'post': function () {\r\n        return Posts.find({\r\n            'author': Meteor.userId()\r\n        });\r\n    },\r\n    'draftedDate': function () {\r\n        return moment(this.draftedDate).format('MMMM Do YYYY')\r\n    },\r\n    'imageLink': function () {\r\n        if(this.unsplash){\r\n            return this.unsplash.urls.full;\r\n        }else{\r\n            try{\r\n                return Images.findOne({_id: this.imgId}).url();\r\n            }catch(e){\r\n                //console.log('error getting photo')\r\n            }\r\n        }\r\n    },\r\n    'isBlog': function () {\r\n        return this.type === 'blog'\r\n    },\r\n    'stage': function () {\r\n        return this.meta.screeningStage;\r\n    },\r\n    'stageCaption': function () {\r\n        let text = 'Post Submitted';\r\n        if(this.meta.screeningStage === 3){\r\n            text = \"Post Approved\"\r\n        }else if(this.meta.screeningStage === -1){\r\n            text = \"Post Rejected\"\r\n        }\r\n        return text;\r\n    }\r\n});\r\n\r\n\r\n/* Events */\r\nTemplate.editor.events({\r\n    'click #openEditor': function () {\r\n        originalTitle = Session.get('DocumentTitle');\r\n        Session.set('DocumentTitle', 'Composer | uhs.life');\r\n\r\n        swapElements('.editor-open', '.editor-main');\r\n        if (operationStack.length === 1) {\r\n            operationStack.push('.blog-intro');\r\n        }\r\n        $('html, body').css({\r\n            overflow: 'hidden'\r\n        }); // Disables the Scrolling\r\n    },\r\n    'click #startNewDraft': function () {\r\n        swapElements('.blog-intro', '.post-type');\r\n        operationStack.push('.post-type');\r\n    },\r\n    'click #checkDrafts': function () {\r\n        swapElements('.blog-intro', '.blog-drafts');\r\n        operationStack.push('.blog-drafts');\r\n    },\r\n    'click #checkAll': function () {\r\n        swapElements('.blog-intro', '.all-posts');\r\n        operationStack.push('.all-posts');\r\n    },\r\n    'click #startBlog': function () {\r\n        swapElements('.post-type', '.blog-editor');\r\n        operationStack.push('.blog-editor');\r\n        Session.set('announcementType', 'blog');\r\n    },\r\n    'click #startAnnouncement': function () {\r\n        swapElements('.post-type', '.announcement-menu');\r\n        operationStack.push('.announcement-menu');\r\n    },\r\n    'click #startSuggestion': function () {\r\n        swapElements('.post-type', '.suggestions');\r\n        operationStack.push('.suggestions');\r\n        Session.set('announcementType', 'suggestion');\r\n    },\r\n    'click .editor-close': function () {\r\n        Session.set('DocumentTitle', originalTitle);\r\n        swapElements('.editor-main', '.editor-open');\r\n        $('html, body').css({\r\n            overflow: 'visible'\r\n        }); // Disables the Scrolling\r\n    },\r\n    'click .editor-back': function () {\r\n        if (operationStack.length - 2 === 0) {\r\n            Session.set('DocumentTitle', originalTitle);\r\n            swapElements('.editor-main', '.editor-open');\r\n            $('html, body').css({\r\n                overflow: 'visible'\r\n            }); // Enables the Scrolling\r\n        } else {\r\n            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n        }\r\n        operationStack.pop();\r\n    },\r\n    'click #imageOnly': function () {\r\n        swapElements('.announcement-menu', '.image-only');\r\n        operationStack.push('.image-only');\r\n        Session.set('announcementType', 'imageOnly');\r\n    },\r\n    'click #textOnly': function () {\r\n        swapElements('.announcement-menu', '.text-only');\r\n        operationStack.push('.text-only');\r\n        Session.set('announcementType', 'textOnly');\r\n    },\r\n    'click #textAndImage': function () {\r\n        swapElements('.announcement-menu', '.text-and-image');\r\n        operationStack.push('.text-and-image');\r\n        Session.set('announcementType', 'textAndImage');\r\n    },\r\n    'input .announcement-text': function (evt) {\r\n        let maxlength = $(evt.target).attr(\"maxlength\");\r\n        let length = $(evt.target).val().length;\r\n\r\n        if (length >= maxlength) {\r\n            console.log(\"You have reached the maximum number of characters.\");\r\n            $('.announcement-counter').text(0);\r\n        } else {\r\n            $('.announcement-counter').text(maxlength - length);\r\n        }\r\n    },\r\n    'click .priority-toggle': function (evt) {\r\n        let priority = $(evt.target).attr('data-priority');\r\n        $('.is-checked').removeClass('is-checked');\r\n        $(evt.target).addClass('is-checked');\r\n        Session.set('priority', priority);\r\n    }\r\n});\r\nTemplate.allPosts.events({\r\n    'click .load-more-posts': function (evt) {\r\n        evt.preventDefault();\r\n        allPosts.loadNextPage();\r\n    },\r\n    'click .draft-item': function (evt) {\r\n        if(!$(evt.target).hasClass('btn-delete-post') && !$(evt.target).hasClass('btn-republish-post')){\r\n            let obj = $(evt.target).closest($('.draft-item'));\r\n            let id = obj.attr('id');\r\n            setEditorContent(Posts.findOne({_id: id}));\r\n        }\r\n    },\r\n    'click .btn-delete-post': function (evt) {\r\n        evt.preventDefault();\r\n        let obj = $(evt.target).closest($('.draft-item'));\r\n        let id = obj.attr('id');\r\n        alertConfirm('Are you sure','This action cannot be reverted, if you don\\'t want this post to show up in the list, we recommend you archive it.', function (accepted) {\r\n            if(accepted){\r\n                Posts.remove({_id: id}, function (err) {\r\n                    if(err){\r\n                        alertError(\"Error Removing Post\", \"Please try again later.\\n\"+ err.message)\r\n                    }else{\r\n                        alertSuccess(\"Successfully Removed Post\", \"\")\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n});\r\nTemplate.blogEditor.events({\r\n    'click .publish': function (event, template) {\r\n        let json = constructBlogJson();\r\n\r\n        Meteor.call('posts.postBlog', json, function (err) {\r\n            if (err) {\r\n                alertError('Post Failed!', err.message);\r\n            } else {\r\n                alertSuccess('Success!', 'The post has been submitted.');\r\n                Drafts.remove({_id: Session.get('draftEditItem')});\r\n                Session.set('draftEditItem', null);\r\n                wipeEditor('blog');\r\n                // Go back\r\n                if (operationStack.length - 2 === 0) {\r\n                    swapElements('.editor-main', '.editor-open');\r\n                    $('html, body').css({\r\n                        overflow: 'visible'\r\n                    }); // Enables the Scrolling\r\n                } else {\r\n                    swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                }\r\n                operationStack.pop();\r\n            }\r\n        });\r\n    },\r\n    'click .save-draft' : function() {\r\n        let json = constructBlogJson();\r\n        if(Session.get('draftEditItem')){\r\n            Drafts.update({_id: Session.get('draftEditItem')}, json, function (err) {\r\n                if(err){\r\n                    alertError('Saving Draft Failed!', err.message);\r\n                }else{\r\n                    alertSuccess(\"Saved!\",\"\")\r\n                }\r\n            });\r\n        }else{\r\n            Meteor.call('drafts.postDraftBlog', json, function (err) {\r\n                if (err) {\r\n                    alertError('Saving Draft Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The draft has been saved.');\r\n                }\r\n            });\r\n        }\r\n    },\r\n    'click #getFeaturedUnsplash': function (evt, template) {\r\n        $('#unsplashPrompt').html(\"<i class='fa fa-spinner fa-pulse fa-fw'></i> Please Wait...\");\r\n        Meteor.call('setupUnsplash', function (err) {\r\n            if (err) {\r\n                console.log(err);\r\n                hasUnsplash = false;\r\n            } else {\r\n                let list = getKeyWord($('.editable').froalaEditor('html.get'));\r\n                let agent = 0;\r\n                let getImg = function(){\r\n                    Meteor.call('searchKeyword', list[agent], function (err, data) {\r\n                        if (err) {\r\n                            console.log(err);\r\n                            $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one.\");\r\n                            hasUnsplash = false;\r\n                        } else {\r\n                            console.log(data);\r\n                            if(data.results.length <= 0){\r\n                                agent++;\r\n                                if(agent <= list.length){\r\n                                    console.log('no image found');\r\n                                    getImg();\r\n                                }else{\r\n                                    $('#unsplashPrompt').html(\"<i class='fa fa-spinner fa-pulse fa-fw'></i> Please Wait...\");\r\n                                    Meteor.call('getRandomPhoto', function (err, data) {\r\n                                        if (err) {\r\n                                            console.log(err);\r\n                                            $('.unsplash-container').replaceWith(\"<form action='/file-upload' class='dropzone' id='dropzone'></form>\");\r\n                                            let blogDrop = initDropZone('dropzone', {\r\n                                                number: 1,\r\n                                                size: 8,\r\n                                                message: \"Drop an image here to be the featured image, or click to select an image using the browser.\",\r\n                                            });\r\n                                            $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one instead.\");\r\n                                            hasUnsplash = false;\r\n                                        } else {\r\n                                            console.log(data);\r\n                                            Session.set('unsplash_img', data.id);\r\n                                            Session.set('unsplashData',data);\r\n                                            $('#dropzone').replaceWith(\"<img src='\" + data.urls.regular + \"' class='img-responsive unsplash-container'/>\");\r\n                                            $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\"+ data.user.links.html +\"?utm_source=uhs.life&utm_medium=referral&utm_campaign=api-credit'>\"+ data.user.name +\"</a> from \"+ data.user.location +\" via <b>Unsplash</b>. <br><br> Want a differnt one? <a href='' id='newUnsplash'>Click Here</a>. Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }else{\r\n                                let num = getRandomInt(0, data.results.length-1);\r\n                                Session.set('unsplash_img', data.results[num].id);\r\n                                Session.set('unsplashData',data.results[num]);\r\n                                hasUnsplash = true;\r\n                                $('#dropzone').replaceWith(\"<img src='\" + data.results[num].urls.regular + \"' class='img-responsive unsplash-container'/>\");\r\n                                $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\"+ data.results[num].user.links.html +\"?utm_source=uhs.life&utm_medium=referral&utm_campaign=api-credit'>\"+ data.results[num].user.name +\"</a> from \"+ data.results[num].user.location +\" via <b>Unsplash</b>. <br><br> This will be your featured image, if you want another one <a href='' id='newUnsplash'>Click Here</a> Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\r\n                            }\r\n\r\n                        }\r\n                    })\r\n                };\r\n                getImg();\r\n            }\r\n        })\r\n    },\r\n    'click #newUnsplash': function () {\r\n        $('#unsplashPrompt').html(\"<i class='fa fa-spinner fa-pulse fa-fw'></i> Please Wait...\");\r\n        Meteor.call('getRandomPhoto', function (err, data) {\r\n            if (err) {\r\n                console.log(err);\r\n                $('.unsplash-container').replaceWith(\"<form action='/file-upload' class='dropzone' id='dropzone'></form>\");\r\n                let blogDrop = initDropZone('dropzone', {\r\n                    number: 1,\r\n                    size: 8,\r\n                    message: \"Drop an image here to be the featured image, or click to select an image using the browser.\",\r\n                });\r\n                $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one instead.\");\r\n                hasUnsplash = false;\r\n            } else {\r\n                console.log(data);\r\n                Session.set('unsplash_img', data.id);\r\n                Session.set('unsplashData',data);\r\n                $('.unsplash-container').replaceWith(\"<img src='\" + data.urls.regular + \"' class='img-responsive unsplash-container'/>\");\r\n                $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\"+ data.user.links.html +\"?utm_source=uhs.life&utm_medium=referral&utm_campaign=api-credit'>\"+ data.user.name +\"</a> from \"+ data.user.location +\" via <b>Unsplash</b>. <br><br> Want a differnt one? <a href='' id='newUnsplash'>Click Here</a>. Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\r\n            }\r\n        })\r\n    },\r\n    'click #newUpload': function () {\r\n        $('.unsplash-container').replaceWith(\"<form action='/file-upload' class='dropzone' id='dropzone'></form>\");\r\n        let blogDrop = initDropZone('dropzone', {\r\n            number: 1,\r\n            size: 8,\r\n            message: \"Drop an image here to be the featured image, or click to select an image using the browser.\",\r\n        });\r\n        $('#unsplashPrompt').html(\"Want to avoid the hassle? <a href='' id='getFeaturedUnsplash'>Click here</a> and we will find an image for you!\");\r\n    },\r\n    'click .btn-preview': function () {\r\n        let imageID = (hasUnsplash) ? Session.get('unsplash_img') : Session.get('newImageId');\r\n        let previewPost = {\r\n            title: $('#blogTitle').val() + \" (This is a preview)\",\r\n            subtitle: $('#blogSubTitle').val(),\r\n            content: $('.editable').froalaEditor('html.get'),\r\n            tags: $(\".tags\").val(),\r\n            unsplash: Session.get('unsplashData'),\r\n            imgId: imageID,\r\n            meta: {\r\n                hasUnsplash: hasUnsplash,\r\n            }\r\n        };\r\n        Session.setPersistent('preview_json', previewPost);\r\n        $('html, body').css({\r\n            overflow: 'visible'\r\n        }); // Enables the Scrolling\r\n        window.open('/blog/preview', '_blank');\r\n    }\r\n});\r\nTemplate.announcementOptions.events({\r\n    'click .btn-post': function (event, template) {\r\n        let type = Session.get('announcementType');\r\n        let json = constructAnnouncementJson(type);\r\n        if (type === \"imageOnly\") {\r\n            Meteor.call('posts.postImage', json, function (err) {\r\n                if (err) {\r\n                    alertError('Posting Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: Session.get('draftEditItem')});\r\n                    Session.set('draftEditItem', null);\r\n                    wipeEditor('announcement','imageOnly');\r\n                    if (operationStack.length - 2 === 0) {\r\n                        swapElements('.editor-main', '.editor-open');\r\n                        $('html, body').css({\r\n                            overflow: 'visible'\r\n                        }); // Enables the Scrolling\r\n                    } else {\r\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                    }\r\n                    operationStack.pop();\r\n                }\r\n            });\r\n\r\n        } else if (type === \"textOnly\") {\r\n            Meteor.call('posts.postText', json, function (err) {\r\n                if (err) {\r\n                    alertError('Post Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: Session.get('draftEditItem')});\r\n                    Session.set('draftEditItem', null);\r\n                    wipeEditor('announcement','textOnly');\r\n                    if (operationStack.length - 2 === 0) {\r\n                        swapElements('.editor-main', '.editor-open');\r\n                        $('html, body').css({\r\n                            overflow: 'visible'\r\n                        }); // Enables the Scrolling\r\n                    } else {\r\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                    }\r\n                    operationStack.pop();\r\n                }\r\n            });\r\n        } else if (type === 'textAndImage') {\r\n            Meteor.call('posts.postTextImage', json, function (err) {\r\n                if (err) {\r\n                    alertError('Post Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: Session.get('draftEditItem')});\r\n                    Session.set('draftEditItem', null);\r\n                    wipeEditor('announcement','imageText');\r\n                    if (operationStack.length - 2 === 0) {\r\n                        swapElements('.editor-main', '.editor-open');\r\n                        $('html, body').css({\r\n                            overflow: 'visible'\r\n                        }); // Enables the Scrolling\r\n                    } else {\r\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                    }\r\n                    operationStack.pop();\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n    'click .btn-save': function() {\r\n        let type = Session.get('announcementType');\r\n        let json = constructAnnouncementJson(type);\r\n\r\n        if(Session.get('draftEditItem')){\r\n            Drafts.update({_id: Session.get('draftEditItem')}, json, function (err) {\r\n                if(err){\r\n                    alertError('Saving Draft Failed!', err.message);\r\n                }else{\r\n                    alertSuccess(\"Saved!\",\"\");\r\n                    if (operationStack.length - 2 === 0) {\r\n                        swapElements('.editor-main', '.editor-open');\r\n                        $('html, body').css({\r\n                            overflow: 'visible'\r\n                        }); // Enables the Scrolling\r\n                    } else {\r\n                        swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                    }\r\n                    operationStack.pop();\r\n                }\r\n            });\r\n        }else{\r\n            if (type === \"imageOnly\") {\r\n\r\n                Meteor.call('drafts.postDraftImage', json, function (err) {\r\n                    if (err) {\r\n                        alertError('Saving Draft Failed!', err.message);\r\n                    } else {\r\n                        alertSuccess('Success!', 'The draft has been saved.');\r\n                        wipeEditor('announcement','imageOnly');\r\n                        if (operationStack.length - 2 === 0) {\r\n                            swapElements('.editor-main', '.editor-open');\r\n                            $('html, body').css({\r\n                                overflow: 'visible'\r\n                            }); // Enables the Scrolling\r\n                        } else {\r\n                            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                        }\r\n                        operationStack.pop();\r\n                    }\r\n                });\r\n\r\n            } else if (type === \"textOnly\") {\r\n\r\n                Meteor.call('drafts.postDraftText', json, function (err) {\r\n                    if (err) {\r\n                        alertError('Saving Draft Failed!', err.message);\r\n                    } else {\r\n                        alertSuccess('Success!', 'The draft has been saved.');\r\n                        wipeEditor('announcement','textOnly');\r\n                        if (operationStack.length - 2 === 0) {\r\n                            swapElements('.editor-main', '.editor-open');\r\n                            $('html, body').css({\r\n                                overflow: 'visible'\r\n                            }); // Enables the Scrolling\r\n                        } else {\r\n                            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                        }\r\n                        operationStack.pop();\r\n                    }\r\n                });\r\n            } else if (type === 'textAndImage') {\r\n                Meteor.call('drafts.postDraftTextImage', json, function (err) {\r\n                    if (err) {\r\n                        alertError('Saving Draft Failed!', err.message);\r\n                    } else {\r\n                        alertSuccess('Success!', 'The draft has been saved.');\r\n                        wipeEditor('announcement','imageText');\r\n                        if (operationStack.length - 2 === 0) {\r\n                            swapElements('.editor-main', '.editor-open');\r\n                            $('html, body').css({\r\n                                overflow: 'visible'\r\n                            }); // Enables the Scrolling\r\n                        } else {\r\n                            swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                        }\r\n                        operationStack.pop();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n});\r\nTemplate.blogDraft.events({\r\n    'click .btn-delete-draft': function (evt) {\r\n        evt.preventDefault();\r\n        let obj = $(evt.target).closest($('.draft-item'));\r\n        let id = obj.attr('id');\r\n        Meteor.call('drafts.remove', id, function (err) {\r\n            if(err){\r\n                alertError(\"Something went wrong when deleting the draft\", err.message);\r\n            }\r\n        })\r\n    },\r\n    'click .btn-post-draft': function (evt) {\r\n        evt.preventDefault();\r\n        let obj = $(evt.target).closest($('.draft-item'));\r\n        let id = obj.attr('id');\r\n        const json = Drafts.findOne({_id: id});\r\n        let type = json.type;\r\n        if (type === \"imageOnly\") {\r\n            Meteor.call('posts.postImage', json, function (err) {\r\n                if (err) {\r\n                    alertError('Posting Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: id});\r\n                }\r\n            });\r\n\r\n        } else if (type === \"textOnly\") {\r\n            Meteor.call('posts.postText', json, function (err) {\r\n                if (err) {\r\n                    alertError('Post Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: id});\r\n                }\r\n            });\r\n        } else if (type === 'textAndImage') {\r\n            Meteor.call('posts.postTextImage', json, function (err) {\r\n                if (err) {\r\n                    alertError('Post Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: id});\r\n                }\r\n            });\r\n        } else if (type === 'blog'){\r\n            Meteor.call('posts.postBlog', json, function (err) {\r\n                if (err) {\r\n                    alertError('Post Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: id});\r\n                }\r\n            });\r\n        }\r\n    },\r\n    'click .btn-publish-draft': function (evt) {\r\n        let obj = $(evt.target).closest($('.draft-item'));\r\n        let id = obj.attr('id');\r\n        let json = Drafts.findOne({_id: id});\r\n        let type = json.subType;\r\n        if(json.type === 'blog'){\r\n            Meteor.call('posts.postBlog', json, function (err) {\r\n                if (err) {\r\n                    alertError('Post Failed!', err.message);\r\n                } else {\r\n                    alertSuccess('Success!', 'The post has been submitted.');\r\n                    Drafts.remove({_id: id});\r\n                }\r\n            })\r\n        }else{\r\n            if (type === \"imageOnly\") {\r\n                Meteor.call('posts.postImage', json, function (err) {\r\n                    if (err) {\r\n                        alertError('Posting Failed!', err.message);\r\n                    } else {\r\n                        alertSuccess('Success!', 'The post has been submitted.');\r\n                        Drafts.remove({_id: id});\r\n                    }\r\n                });\r\n\r\n            } else if (type === \"textOnly\") {\r\n                Meteor.call('posts.postText', json, function (err) {\r\n                    if (err) {\r\n                        alertError('Post Failed!', err.message);\r\n                    } else {\r\n                        alertSuccess('Success!', 'The post has been submitted.');\r\n                        Drafts.remove({_id: id});\r\n                    }\r\n                });\r\n            } else if (type === 'textAndImage') {\r\n                Meteor.call('posts.postTextImage', json, function (err) {\r\n                    if (err) {\r\n                        alertError('Post Failed!', err.message);\r\n                    } else {\r\n                        alertSuccess('Success!', 'The post has been submitted.');\r\n                        Drafts.remove({_id: id});\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    },\r\n    'click .draft-item': function (evt) {\r\n        if(!$(evt.target).hasClass('btn-delete-draft') && !$(evt.target).hasClass('btn-publish-draft')){\r\n            let obj = $(evt.target).closest($('.draft-item'));\r\n            let id = obj.attr('id');\r\n            Session.set('draftEditItem', id);\r\n            setEditorContent(Drafts.findOne({_id: id}));\r\n            console.log(Session.get('draftEditItem'));\r\n        }\r\n    }\r\n});\r\nTemplate.suggestionEditor.events({\r\n    'click .btn-post': function () {\r\n        let headline = $('#suggestionHeadline').val();\r\n        let content = $('.announcement-text')[2].value;\r\n        let imgId = Session.get('newImageId');\r\n\r\n        let authorId = Meteor.userId();\r\n        let draftedDate = new Date();\r\n\r\n        if (!imgId) {\r\n            //TODO\r\n            console.log('No image uploaded');\r\n        }\r\n        if (!headline) {\r\n            //TODO\r\n            console.log('No headline entered');\r\n        }\r\n        if (!content) {\r\n            //TODO\r\n            console.log('No content entered')\r\n        }\r\n\r\n        let json = {\r\n            author: authorId,\r\n            type: 'suggestion',\r\n            headline: headline,\r\n            content: content,\r\n            draftedDate: draftedDate,\r\n            imgId: imgId\r\n        };\r\n        console.log(json);\r\n\r\n        Meteor.call('suggestions.postSuggestion', json, function (err) {\r\n            console.log('posted');\r\n            if (err) {\r\n                alertError('Post Failed!', err.message);\r\n            } else {\r\n                alertSuccess('Success!', 'The post has been submitted.');\r\n                if (operationStack.length - 2 === 0) {\r\n                    swapElements('.editor-main', '.editor-open');\r\n                    $('html, body').css({\r\n                        overflow: 'visible'\r\n                    }); // Enables the Scrolling\r\n                } else {\r\n                    swapElements(operationStack[operationStack.length - 1], operationStack[operationStack.length - 2]);\r\n                }\r\n                operationStack.pop();\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\nfunction initDropZone(id, info) {\r\n    return new Dropzone(\"form#\" + id, {\r\n        maxFiles: info.number || 1,\r\n        maxFilesize: info.size || 8,\r\n        thumbnailWidth: 400,\r\n        addRemoveLinks: true,\r\n        dictDefaultMessage: info.message || \"Drop your image here, or click to select an image using the browser.\",\r\n        accept: function (file, done) {\r\n            $('.quick-image-prompt').html('');\r\n            let FSFile = new FS.File(file);\r\n            Images.insert(FSFile, function (err, fileObj) {\r\n                if (err) {\r\n                    console.log(err);\r\n                } else {\r\n                    Images.remove({_id: Session.get('newImageId')}, function (err) {\r\n                        if (err) {\r\n                            console.log(\"error removing image:\\n\" + err);\r\n                        }\r\n                    });\r\n                    hasUnsplash = false;\r\n                    Session.set('newFileLink', fileObj.extension());   //update the file type\r\n                    Session.set('newImageId', fileObj._id); //update the image id to current image\r\n                    done();\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\nfunction swapElements(a, b) {\r\n    $(a).fadeOut('fast', function () {\r\n        $(b).fadeIn(\"slow\");\r\n    });\r\n}\r\nfunction getRandomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\nfunction setEditorContent(json) {\r\n    if(json.type === 'blog'){\r\n        $('#blogTitle').val(json.title);\r\n        $('#blogSubTitle').val(json.subtitle);\r\n        $('.editable').froalaEditor('html.set', json.content);\r\n        _.forEach(json.tags,function (item) {\r\n            $('.tags').tagsinput('add', item);\r\n        });\r\n        $('.visibility-select').val(json.meta.visibility).trigger(\"change\");\r\n        $(\".category-select\").val(json.categories).trigger(\"change\");\r\n        $(\"#blogOrganizationSelect\").val(json.organizationsValues).trigger(\"change\");\r\n        $('.input-date').datepicker('update', json.releaseDate);\r\n        if(json.unsplash){\r\n            Meteor.call('setupUnsplash', function (err) {\r\n                if (err) {\r\n                    console.log(err);\r\n                    $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one.\");\r\n                } else {\r\n                    Meteor.call('getPhoto', json.imgId, function (err, data) {\r\n                        if (err) {\r\n                            console.log(err);\r\n                            $('#unsplashPrompt').html(\"Sorry... We failed to find an image for you. Please upload one.\");\r\n                        } else {\r\n                            Session.set('unsplash_img', data.id);\r\n                            Session.set('unsplashData',data);\r\n                            hasUnsplash = true;\r\n                            $('#dropzone').replaceWith(\"<img src='\" + data.urls.regular + \"' class='img-responsive unsplash-container'/>\");\r\n                            $('#unsplashPrompt').html(\"Here you go! This image is by <a href='\"+ data.user.links.html +\"'>\"+ data.user.name +\"</a> from \"+ data.user.location +\" via <b>Unsplash</b>. <br><br> This will be your featured image, if you want another one <a href='' id='newUnsplash'>Click Here</a> Changed your mind? click here to <a href='' id='newUpload'>upload a new image</a>\");\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        swapElements('.blog-drafts', '.blog-editor');\r\n        operationStack.push('.blog-editor');\r\n        Session.set('announcementType', 'blog');\r\n    }else if(json.type === 'announcement'){\r\n        if(json.subType === 'imageOnly'){\r\n            $('#imageOnlyHeadline').val(json.headline);\r\n            if(json.imgId){\r\n                Session.set('newImageId', json.imgId);\r\n                $('.quick-image-prompt').html('You have already uploaded an image, if you would like to change it, simply add a different one. Otherwise, simply ignore the box.')\r\n            }\r\n            _.forEach(json.tags,function (item) {\r\n                $('.announce-tags:eq(0)').tagsinput('add', item);\r\n            });\r\n            $(\".announcement-category:eq(0)\").val(json.categories).trigger(\"change\");\r\n            $(\".clubs-category:eq(0)\").val(json.clubs).trigger(\"change\");\r\n            $('.startDate:eq(0)').datepicker('update',json.startDate);\r\n            $('.endDate:eq(0)').datepicker('update',json.endDate);\r\n            swapElements('.blog-drafts', '.image-only');\r\n            operationStack.push('.image-only');\r\n            Session.set('announcementType', 'imageOnly');\r\n        }else if(json.subType === 'textOnly'){\r\n            $('#textOnlyHeadline').val(json.headline);\r\n            $('.announcement-text:eq(0)').val(json.content);\r\n            _.forEach(json.tags,function (item) {\r\n                $('.announce-tags:eq(1)').tagsinput('add', item);\r\n            });\r\n            $(\".announcement-category:eq(1)\").val(json.categories).trigger(\"change\");\r\n            $(\".clubs-category:eq(1)\").val(json.clubs).trigger(\"change\");\r\n            $('.startDate:eq(1)').datepicker('update',json.startDate);\r\n            $('.endDate:eq(1)').datepicker('update',json.endDate);\r\n            swapElements('.blog-drafts', '.text-only');\r\n            operationStack.push('.text-only');\r\n            Session.set('announcementType', 'textOnly');\r\n        }else if(json.subType === 'imageText'){\r\n            $('#textImageHeadline').val(json.headline);\r\n            if(json.imgId){\r\n                Session.set('newImageId', json.imgId);\r\n                $('.quick-image-prompt').html('You have already uploaded an image, if you would like to change it, simply add a different one. Otherwise, simply ignore the box.')\r\n            }\r\n            $('.announcement-text:eq(1)').val(json.content);\r\n            $(\".announcement-category:eq(2)\").val(json.categories).trigger(\"change\");\r\n            $(\".clubs-category:eq(2)\").val(json.clubs).trigger(\"change\");\r\n            $('.startDate:eq(2)').datepicker('update',json.startDate);\r\n            $('.endDate:eq(2)').datepicker('update',json.endDate);\r\n            Session.set('priority', json.meta.priority);\r\n            $('.is-checked').removeClass('is-checked');\r\n            $(\".priority-toggle[data-priority=\"+ Session.get('priority') +\"]\").addClass('is-checked');\r\n            swapElements('.blog-drafts', '.text-and-image');\r\n            operationStack.push('.text-and-image');\r\n            Session.set('announcementType', 'textAndImage');\r\n        }\r\n    }\r\n}\r\n\r\nfunction wipeEditor(type, subType) {\r\n    if(type === 'blog'){\r\n        $('#blogTitle').val(null);\r\n        $('#blogSubTitle').val(null);\r\n        $('.editable').froalaEditor('html.set', '');\r\n        $('.tags').tagsinput('removeAll');\r\n        $('.visibility-select').val(null).trigger(\"change\");\r\n        $(\".category-select\").val(null).trigger(\"change\");\r\n        $('.input-date').datepicker('update', null);\r\n        Session.set('unsplash_img', null);\r\n        Session.set('unsplashData', null);\r\n        Session.set('newImageId', null);\r\n        let blogDrop = initDropZone('dropzone', {\r\n            number: 1,\r\n            size: 8,\r\n            message: \"Drop an image here to be the featured image, or click to select an image using the browser.\",\r\n        });\r\n        $('#unsplashPrompt').html(\"Want to avoid the hassle? <a href='' id='getFeaturedUnsplash'>Click here</a> and we will find an image for you!\");\r\n    }else if(type === 'announcement'){\r\n        if(subType === 'imageOnly'){\r\n            $('#imageOnlyHeadline').val(null);\r\n            Session.set('newImageId', null);\r\n            $('#announcementImage').replaceWith(\"<form action='/file-upload' class='dropzone' id='announcementImage'></form>\");\r\n            let announcementDrop = initDropZone(\"announcementImage\", {\r\n                number: 1,\r\n                size: 8,\r\n                message: \"Drop your poster here, or click to select an image using the browser.\",\r\n            });\r\n            $('.quick-image-prompt').html(\"\");\r\n            $('.announce-tags:eq(0)').tagsinput('removeAll');\r\n            $(\".announcement-category:eq(0)\").val(null).trigger(\"change\");\r\n            $(\".clubs-category:eq(0)\").val(null).trigger(\"change\");\r\n            $('.startDate:eq(0)').datepicker('update',null);\r\n            $('.endDate:eq(0)').datepicker('update',null);\r\n        }else if(subType === 'textOnly'){\r\n            $('#textOnlyHeadline').val(null);\r\n            $('.announcement-text:eq(0)').val(null);\r\n            $('.announce-tags:eq(1)').tagsinput('removeAll');\r\n            $(\".announcement-category:eq(1)\").val(null).trigger(\"change\");\r\n            $(\".clubs-category:eq(1)\").val(null).trigger(\"change\");\r\n            $('.startDate:eq(1)').datepicker('update',null);\r\n            $('.endDate:eq(1)').datepicker('update',null);\r\n        }else if(subType === 'imageText'){\r\n            $('#textImageHeadline').val(null);\r\n            Session.set('newImageId', null);\r\n            $('#announcementImageTwo').replaceWith(\"<form action='/file-upload' class='dropzone' id='announcementImageTwo'></form>\");\r\n            let announcementDrop = initDropZone(\"announcementImageTwo\", {\r\n                number: 1,\r\n                size: 8,\r\n                message: \"Drop your poster here, or click to select an image using the browser.\",\r\n            });\r\n            $('.quick-image-prompt').html('');\r\n            $('.announcement-text:eq(1)').val(null);\r\n            $('.announce-tags:eq(2)').tagsinput('removeAll');\r\n            $(\".announcement-category:eq(2)\").val(null).trigger(\"change\");\r\n            $(\".clubs-category:eq(2)\").val(null).trigger(\"change\");\r\n            $('.startDate:eq(2)').datepicker('update',null);\r\n            $('.endDate:eq(2)').datepicker('update',null);\r\n            Session.set('priority', 'image');\r\n            $('.is-checked').removeClass('is-checked');\r\n            $(\".priority-toggle[data-priority=\"+ Session.get('priority') +\"]\").addClass('is-checked');\r\n        }\r\n    }\r\n}\r\nfunction constructBlogJson(){\r\n    let title = $('#blogTitle').val();\r\n    let subtitle = $('#blogSubTitle').val();\r\n    let content = $('.editable').froalaEditor('html.get');\r\n    let str = $(\".tags\").val();\r\n    let separators = [' , ', ', ', ',', ' ,'];\r\n    let tags = str.split(new RegExp(separators.join('|'), 'g'));\r\n    let imgId = (hasUnsplash) ? Session.get('unsplash_img') : Session.get('newImageId');\r\n    let releaseDate = new Date($('.input-date').val());\r\n    let draftedDate = new Date();\r\n    let options = $('.category-select')[0].options;\r\n    let categories = [];\r\n    for (let i = 0; i < options.length; i++) {\r\n        let opt = options[i];\r\n        if (opt.selected) {\r\n            categories.push(opt.value);\r\n        }\r\n    }\r\n    let orgOptions = document.getElementById('blogOrganizationSelect').options;\r\n    let orgNames = [], orgVal = [];\r\n    for (let i = 0; i < orgOptions.length; i++) {\r\n        let opt = orgOptions[i];\r\n        if (opt.selected) {\r\n            orgNames.push(opt.text);\r\n            orgVal.push(opt.value);\r\n        }\r\n    }\r\n    let authorId = Meteor.userId();\r\n    let imageFirst = null;\r\n    //meta\r\n    let visibility = $('.visibility-select')[0].value;\r\n\r\n    return {\r\n        author: authorId,\r\n        type: 'blog',\r\n        releaseDate: releaseDate,\r\n        draftedDate: draftedDate,\r\n        title: title,\r\n        subtitle: subtitle,\r\n        content: content,\r\n        tags: tags,\r\n        categories: categories,\r\n        imgId: imgId,\r\n        unsplash: Session.get('unsplashData'),\r\n        organizationsNames: orgNames,\r\n        organizationsValues: orgVal,\r\n        meta: {\r\n            imageFirst: imageFirst,\r\n            hasUnsplash: hasUnsplash,\r\n            visibility: visibility\r\n        }\r\n    };\r\n}\r\nfunction constructAnnouncementJson(type){\r\n    if (type === \"imageOnly\") {\r\n        console.log('constructing image only');\r\n        let headline = $('#imageOnlyHeadline').val();\r\n        let imgId = Session.get('newImageId');\r\n        let separators = [' , ', ', ', ',', ' ,'];\r\n        let tags = $(\".announce-tags\")[0].value.split(new RegExp(separators.join('|'), 'g'));\r\n        let options = $('.announcement-category')[0].options;\r\n        let categories = [];\r\n        for (let i = 0; i < options.length; i++) {\r\n            let opt = options[i];\r\n            if (opt.selected) {\r\n                categories.push(opt.value);\r\n            }\r\n        }\r\n        let clubs = $('.clubs-category')[0].options;\r\n        let clubList = [];\r\n        for (let i = 0; i < clubs.length; i++) {\r\n            let opt = clubs[i];\r\n            if (opt.selected) {\r\n                clubList.push(opt.value);\r\n            }\r\n        }\r\n        let authorId = Meteor.userId();\r\n        let startDate = new Date($('.startDate')[0].value);\r\n        let endDate = new Date($('.endDate')[0].value);\r\n        let draftedDate = new Date();\r\n        let visibility = $('.visibility-select')[1].value;\r\n        if (!imgId) {\r\n            alertError('Post Incomplete!', \"You haven't uploaded an image yet!\")\r\n        }\r\n        if (!headline) {\r\n            //TODO\r\n            alertError('Post Incomplete!', \"You haven't added a headline!\")\r\n        }\r\n        if(!startDate || !endDate){\r\n            alertError('Post Incomplete!', \"You haven't added a date!\")\r\n        }\r\n        return {\r\n            author: authorId,\r\n            type: 'announcement',\r\n            subType: 'imageOnly',\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n            draftedDate: draftedDate,\r\n            headline: headline,\r\n            tags: tags,\r\n            categories: categories,\r\n            imgId: imgId,\r\n            clubs: clubList,\r\n            meta: {\r\n                hasUnsplash: hasUnsplash,\r\n                visibility: visibility\r\n            }\r\n        };\r\n    } else if (type === \"textOnly\") {\r\n        let headline = $('#textOnlyHeadline').val();\r\n        let content = $('.announcement-text')[0].value;\r\n        let separators = [' , ', ', ', ',', ' ,'];\r\n        let tags = $(\".announce-tags\")[1].value.split(new RegExp(separators.join('|'), 'g'));\r\n\r\n        let options = $('.announcement-category')[1].options;\r\n        let categories = [];\r\n\r\n        for (let i = 0; i < options.length; i++) {\r\n            let opt = options[i];\r\n            if (opt.selected) {\r\n                categories.push(opt.value);\r\n            }\r\n        }\r\n        let visibility = $('.visibility-select')[2].value;\r\n        let authorId = Meteor.userId();\r\n        let startDate = new Date($('.startDate')[1].value);\r\n        let endDate = new Date($('.endDate')[1].value);\r\n        let draftedDate = new Date();\r\n        let clubs = $('.clubs-category')[1].options;\r\n        let clubList = [];\r\n        for (let i = 0; i < clubs.length; i++) {\r\n            let opt = clubs[i];\r\n            if (opt.selected) {\r\n                clubList.push(opt.value);\r\n            }\r\n        }\r\n        //meta\r\n\r\n        if (!content) {\r\n            alertError('Post Incomplete!', \"You haven't added any content yet!\")\r\n        }\r\n        if (!headline) {\r\n            //TODO\r\n            alertError('Post Incomplete!', \"You haven't added a headline!\")\r\n        }\r\n        if(!startDate || !endDate){\r\n            alertError('Post Incomplete!', \"You haven't added a date!\")\r\n        }\r\n\r\n        return {\r\n            author: authorId,\r\n            type: 'announcement',\r\n            subType: 'textOnly',\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n            draftedDate: draftedDate,\r\n            headline: headline,\r\n            content: content,\r\n            tags: tags || [],\r\n            categories: categories || [],\r\n            clubs: clubList,\r\n            meta: {\r\n                hasUnsplash: hasUnsplash,\r\n                visibility: visibility\r\n            }\r\n        };\r\n    } else if (type === 'textAndImage') {\r\n        let headline = $('#textImageHeadline').val();\r\n        let content = $('.announcement-text')[1].value;\r\n        let imgId = Session.get('newImageId');\r\n        let str = $(\".announce-tags\")[2].value;\r\n        let separators = [' , ', ', ', ',', ' ,'];\r\n        let tags = str.split(new RegExp(separators.join('|'), 'g'));\r\n\r\n        let options = $('.announcement-category')[2].options;\r\n        let categories = [];\r\n\r\n        for (let i = 0; i < options.length; i++) {\r\n            let opt = options[i];\r\n            if (opt.selected) {\r\n                categories.push(opt.value);\r\n            }\r\n        }\r\n        let visibility = $('.visibility-select')[3].value;\r\n        let authorId = Meteor.userId();\r\n        let startDate = new Date($('.startDate')[2].value);\r\n        let endDate = new Date($('.endDate')[2].value);\r\n        let draftedDate = new Date();\r\n        let clubs = $('.clubs-category')[2].options;\r\n        let clubList = [];\r\n        for (let i = 0; i < clubs.length; i++) {\r\n            let opt = clubs[i];\r\n            if (opt.selected) {\r\n                clubList.push(opt.value);\r\n            }\r\n        }\r\n        //meta\r\n        let priority = Session.get('priority');\r\n        if (!imgId) {\r\n            alertError('Post Incomplete!', \"You haven't uploaded an image yet!\")\r\n        }\r\n        if (!headline) {\r\n            //TODO\r\n            alertError('Post Incomplete!', \"You haven't added a headline!\")\r\n        }\r\n        if(!startDate || !endDate){\r\n            alertError('Post Incomplete!', \"You haven't added a date!\")\r\n        }\r\n        if (!content) {\r\n            //TODO\r\n            alertError('Post Incomplete!', \"You haven't added any information!\")\r\n        }\r\n\r\n        return {\r\n            author: authorId,\r\n            type: 'announcement',\r\n            subType: 'imageText',\r\n            headline: headline,\r\n            content: content,\r\n            startDate: startDate,\r\n            endDate: endDate,\r\n            draftedDate: draftedDate,\r\n            tags: tags || [],\r\n            categories: categories || [],\r\n            imgId: imgId,\r\n            clubs: clubList,\r\n            meta: {\r\n                priority: priority || 'image',\r\n                hasUnsplash: hasUnsplash,\r\n                visibility: visibility\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nfunction getKeyWord(text) {\r\n    let keyword_extractor = require(\"keyword-extractor\");\r\n\r\n    let keywords = ($(text).text());\r\n//  Extract the keywords\r\n    let extraction_result = keyword_extractor.extract(keywords,{\r\n        language:\"english\",\r\n        remove_digits: true,\r\n        return_changed_case:true,\r\n        remove_duplicates: false,\r\n        remove_max_ngrams: 10\r\n    });\r\n    return extraction_result;\r\n}","/**\r\n * Created by Yonglin Wang on 8/1/2017.\r\n */\r\nimport Typed from 'typedjs-placeholder'\r\nimport { Images } from '../../api/images/images.js';\r\nimport './navigation.html'\r\nimport '../lib/morphext.js'\r\nTemplate.navigation.onRendered(function () {\r\n    //$('.course-list').hide();\r\n    $('.main-search').hide();\r\n    $('.search-content').hide();\r\n    $('.nav-overlay').hide();\r\n    Session.set('searchContent', {hits:[]});\r\n});\r\n\r\nTemplate.navigation.helpers({\r\n    'date': function () {\r\n        return \"Friday April 7th\"\r\n    },\r\n    'username': function () {\r\n        return Session.get('name');\r\n    },\r\n    'title': function () {\r\n        return Session.get('navTitle');\r\n    },\r\n    'isStudent': function () {\r\n        return Roles.userIsInRole(Meteor.userId(), 'student');\r\n    },\r\n    'isAdmin': function () {\r\n        return Roles.userIsInRole(Meteor.userId(), 'admin');\r\n    },\r\n    'searchContent': function () {\r\n        return Session.get('searchContent').hits\r\n    },\r\n    'img': function () {\r\n        if(this.unsplash){\r\n            return this.unsplash.urls.full;\r\n        }else if(this.imgId){\r\n            try{\r\n                return Images.findOne({_id: this.imgId}).url();\r\n            }catch(e){\r\n                //console.log('error getting photo')\r\n            }\r\n\r\n        }\r\n    },\r\n    'courses': function () {\r\n        return Session.get('courses');\r\n    },\r\n    'state': function () {\r\n        const now = new Date();\r\n        let diff = Math.abs(now - Session.get('tokenExpiry'));\r\n        let minutes = Math.floor((diff/1000)/60);\r\n        return (minutes > 30) ? 'expired' : 'fine'\r\n    },\r\n    'mark': function () {\r\n        let mark = this.mark;\r\n        if(mark.length > 6){\r\n            mark = \"N/A\"\r\n        }\r\n        return mark;\r\n    },\r\n    'dash': function () {\r\n        return Session.get('inDash');\r\n    }\r\n});\r\n\r\nTemplate.navigation.events({\r\n    'click .nav-extend': function () {\r\n        let sideNav = $('.side-nav');\r\n        let sideNavPrompt = $('.side-nav-prompt');\r\n        $('.top-nav').toggleClass('right-push');\r\n        $('.main').toggleClass('right-push');\r\n        sideNav.toggleClass('right-push');\r\n        if($('.main').hasClass('right-push')) {\r\n            sideNavPrompt.html(\"<i class='fa fa-times'></i> <span class='hidden-xs hidden-sm'>CLOSE</span>\");\r\n            $('.nav-overlay').fadeIn('fast');\r\n        }else{\r\n            sideNavPrompt.html(\"<i class='fa fa-bars'></i> <span class='hidden-xs hidden-sm'>MENU</span>\");\r\n            $('.nav-overlay').fadeOut('fast');\r\n        }\r\n    },\r\n    'click .nav-overlay': function () {\r\n        let sideNav = $('.side-nav');\r\n        let sideNavPrompt = $('.side-nav-prompt');\r\n        $('.top-nav').removeClass('right-push');\r\n        $('.main').removeClass('right-push');\r\n        sideNav.removeClass('right-push');\r\n        if($('.main').hasClass('right-push')) {\r\n            sideNavPrompt.html(\"<i class='fa fa-times'></i> <span class='hidden-xs hidden-sm'>CLOSE</span>\");\r\n            $('.nav-overlay').fadeIn('fast');\r\n        }else{\r\n            sideNavPrompt.html(\"<i class='fa fa-bars'></i> <span class='hidden-xs hidden-sm'>MENU</span>\");\r\n            $('.nav-overlay').fadeOut('fast');\r\n        }\r\n    },\r\n    'click .nav-oper': function () {\r\n        let searchBox = $('.main-search');\r\n        let searchContent = $('.search-content');\r\n        let prompt = $('.top-operation-prompt');\r\n        Session.set('searchContent', {hits:[]});\r\n        if(!searchBox.is(':visible')){\r\n            searchBox.fadeIn('fast');\r\n            $('.search-result').show();\r\n            searchContent.fadeIn(\"<i class='fa fa-times'></i> <span class='hidden-sm hidden-xs'>SEARCH</span>\");\r\n            prompt.html(\"CLOSE\");\r\n            searchBox.typed({\r\n                strings: [\r\n                    \"\\\"Volleyball\\\"\",\r\n                    \"\\\"Octoberfest\\\"\",\r\n                    \"\\\"Guidance\\\"\",\r\n                    \"\\\"DECA\\\"\",\r\n                    \"\\\"USAC\\\"\",\r\n                    \"\\\"Who made this app?\\\"\"\r\n                ],\r\n                typeSpeed: 40,\r\n                loop: true,\r\n                shuffle: true,\r\n                showCursor: true,\r\n                cursorChar: \"|\",\r\n            });\r\n            $('html, body').css({\r\n                overflow: 'hidden',\r\n            });\r\n        }else{\r\n            searchBox.fadeOut('fast');\r\n            $('.search-result').hide();\r\n            searchContent.fadeOut('fast');\r\n            prompt.html(\"<i class='fa fa-search'></i> <span class='hidden-sm hidden-xs'>SEARCH</span>\");\r\n            $('html, body').css({\r\n                overflow: 'auto',\r\n            });\r\n        }\r\n    },\r\n    'click #academics': function () {\r\n        if(!Session.get('token')){\r\n            Modal.show('teachAssistConnect')\r\n        }\r\n        let list = $('.course-list');\r\n        let icon = $('.academics-icon');\r\n        if(!list.is(':visible')){\r\n            list.show(500);\r\n            icon.removeClass('fa-bars');\r\n            icon.addClass('fa-times');\r\n        }else{\r\n            list.hide(500);\r\n            icon.removeClass('fa-times');\r\n            icon.addClass('fa-bars')\r\n        }\r\n    },\r\n    'input .main-search': function () {\r\n        let searchBox = $('.main-search');\r\n        let searchPrompt = $('.search-prompt');\r\n        if(searchBox.val().length > 0){\r\n            searchPrompt.css('display','none');\r\n            console.log(searchBox.val());\r\n            searchPost(searchBox.val());\r\n        }else{\r\n            searchPrompt.css('display','block');\r\n            Session.set('searchContent', {hits:[]});\r\n        }\r\n    }\r\n});\r\n\r\nTemplate.teachAssistPass.helpers({\r\n    'student_id': function () {\r\n        return Meteor.user().profile.student_number;\r\n    }\r\n});\r\n\r\nTemplate.teachAssistConnect.events({\r\n    'submit #connectLoginForm': function (evt) {\r\n        evt.preventDefault();\r\n        const pass = $('#reLoginPass').val();\r\n        Meteor.call('getTeachAssistTokens', {student_number: Meteor.user().profile.student_number, password: pass}, function (err, data) {\r\n            if(err){\r\n                alertError(\"Failed to connect with teach assist\", err.message);\r\n            }else{\r\n                Meteor.users.update({_id: Meteor.userId()}, {$set: {\"private.token\": data, \"private.tokenDate\": new Date()}}, function (err) {\r\n                    if(err){\r\n                        alertError(\"Something went wrong\", err.message);\r\n                    }else{\r\n                        Meteor.call('getTeachAssistCourses', data, function (err,data) {\r\n                            if(err){\r\n                                alertError(\"Something went wrong\", \"\");\r\n                            }else{\r\n                                Meteor.users.update({_id: Meteor.userId()}, {$set: {\"private.courses\": data}});\r\n                                Modal.hide('teachAssistPass');\r\n                                FlowRouter.reload();\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        })\r\n    }\r\n});\r\n\r\nTemplate.teachAssistPass.events({\r\n   'submit #reLoginForm': function (evt) {\r\n       evt.preventDefault();\r\n       const pass = $('#reLoginPass').val();\r\n       Meteor.call('getTeachAssistTokens', {student_number: Meteor.user().profile.student_number, password: pass}, function (err, data) {\r\n           if(err){\r\n               alertError(\"Failed to connect with teach assist\", err.message);\r\n           }else{\r\n               Meteor.users.update({_id: Meteor.userId()}, {$set: {\"private.token\": data, \"private.tokenDate\": new Date()}}, function (err) {\r\n                   if(err){\r\n                       alertError(\"Something went wrong\", err.message);\r\n                   }else{\r\n                       Meteor.call('getTeachAssistCourses', data, function (err,data) {\r\n                           if(err){\r\n                               alertError(\"Something went wrong\", \"\");\r\n                           }else{\r\n                               Meteor.users.update({_id: Meteor.userId()}, {$set: {\"private.courses\": data}});\r\n                               Modal.hide('teachAssistPass');\r\n                               FlowRouter.reload();\r\n                           }\r\n                       });\r\n                   }\r\n               });\r\n           }\r\n       })\r\n   }\r\n});\r\n\r\nsetTitle = function (title) {\r\n    $('.nav-title-text').html('<span>'+title+'</span>');\r\n};\r\n\r\nsetProgressBar = function (percentage) {\r\n    $('.nav-title-text').css('color','#fff');\r\n    $('.nav-hub-progress').animate({ width: percentage }, 1500);\r\n};\r\n","/**\r\n * Created by Yonglin Wang on 7/28/2017.\r\n */\r\nimport './applicationLayout.html';","/**\r\n * Created by Yonglin Wang on 9/24/2017.\r\n */\r\nimport './bigPicture.html'\r\nimport { Images } from '../../api/images/images.js';\r\nimport flickity from 'flickity';\r\nimport imagesLoaded from 'imagesloaded';\r\n\r\nlet morphSettings = {\r\n    // The [in] animation type. Refer to Animate.css for a list of available animations.\r\n    animation: \"flipInX\",\r\n    // An array of phrases to rotate are created based on this separator. Change it if you wish to separate the phrases differently (e.g. So Simple | Very Doge | Much Wow | Such Cool).\r\n    separator: \";;\",\r\n    // The delay between the changing of each phrase in milliseconds.\r\n    speed: 8000,\r\n    complete: function () {\r\n        // Called after the entrance animation is executed.\r\n    }\r\n};\r\nTemplate.bigPicture.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        let newsSub = Meteor.subscribe('announcements', 10, Meteor.userId());\r\n        let imageSub = Meteor.subscribe('images');\r\n        if(newsSub.ready()){\r\n            $('.flickity').flickity({\r\n                cellAlign: 'left',\r\n                contain: true,\r\n                imagesLoaded: true,\r\n                lazyLoad: true,\r\n                autoPlay: 5000,\r\n                pageDots: false,\r\n                prevNextButtons: false,\r\n                pauseAutoPlayOnHover: false,\r\n                selectedAttraction: 0.01,\r\n                friction: 0.15\r\n            });\r\n            $('.dot').css('width',$('.flickity-page-dots').width()/$('.dot').length + 'px')\r\n        }\r\n    });\r\n});\r\n\r\nTemplate.bigPicture.helpers({\r\n    'announcement': function () {\r\n        return Posts.find({});\r\n    }\r\n});\r\n\r\nTemplate.bigPictureItem.helpers({\r\n    'imageLink': function () {\r\n        try{\r\n            return Images.findOne({_id: this.imgId}).url();\r\n        }catch(e){}\r\n\r\n    }\r\n});\r\n\r\nTemplate.bottomBar.onRendered(function () {\r\n    $(document).ready(function() {\r\n        displayTime();\r\n        $(\"#rotatingMessage\").Morphext(morphSettings);\r\n    });\r\n});\r\n\r\nfunction displayTime() {\r\n    var time = moment().format('h:mm');\r\n    $('#clock').html(time);\r\n    setTimeout(displayTime, 1000);\r\n}","/**\r\n * Created by Yonglin Wang on 9/12/2017.\r\n */\r\nimport './blogs.html'\r\n\r\nTemplate.blogs.onCreated(function () {\r\n    Session.set('navTitle', 'Stories');\r\n});\r\n\r\nTemplate.blogs.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        Meteor.subscribe('blogCategories');\r\n        Meteor.subscribe('posts')\r\n    })\r\n});\r\n\r\nTemplate.blogs.helpers({\r\n    'blogCategories': function () {\r\n        return BlogCategories.find({})\r\n    }\r\n});\r\n\r\nTemplate.blogCategory.helpers({\r\n    'categoryName': function () {\r\n        return this.name;\r\n    },\r\n    'blogPreviews': function () {\r\n        console.log(this.name);\r\n        return Posts.find({\r\n            'type': 'blog',\r\n            'categories': this.name\r\n        },{\r\n            limit: 4\r\n        });\r\n    }\r\n});\r\n\r\nTemplate.blogItem.onRendered(function () {\r\n});\r\n\r\nTemplate.blogItem.helpers({\r\n    'imageLink': function () {\r\n        if(this.unsplash){\r\n            console.log(this);\r\n            return this.unsplash.urls.full;\r\n        }else if(this.imgId){\r\n            try{\r\n                return Images.findOne({_id: this.imgId}).url();\r\n            }catch(e){\r\n                //console.log('error getting photo')\r\n            }\r\n        }\r\n    },\r\n    'writer': function () {\r\n        return Meteor.users.findOne({_id: this.author}).services.google.name;\r\n    },\r\n    'date': function () {\r\n        return moment(this.releasedDate).format(\"MMMM Do YYYY\");\r\n    },\r\n    'subtitle': function () {\r\n        let string = this.subtitle;\r\n        let length = 40;\r\n        return string.length > length ?\r\n            string.substring(0, length - 3) + \"...\" :\r\n            string;\r\n    }\r\n});\r\n\r\nTemplate.blogItem.events({\r\n    'click .blog-item': function (evt,template) {\r\n        let obj = $(evt.target).closest($('.blog-item'));\r\n        let id = obj.attr('id');\r\n        FlowRouter.go('/blog/'+id);\r\n    }\r\n})","import '../lib/charting.js'\r\nimport '../lib/alert.js'\r\nimport {Images} from '../../api/images/images.js';\r\nimport './course.html';\r\n\r\nTemplate.course.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        let sub = Meteor.subscribe('allCourses',1000);\r\n        Meteor.subscribe('images');\r\n        if(sub.ready()){\r\n            let code = Session.get('courseData').data.course.substring(0,Session.get('courseData').data.course.indexOf(\"-\"));\r\n            let item = Courses.findOne({\r\n                code: code\r\n            });\r\n            setTitle(item.name +' | ' + Session.get('displayMark'));\r\n            Session.set('courseCode',code);\r\n            Meteor.subscribe('postsByCourse',code,10);\r\n        }\r\n    });\r\n    let k,t,a,c;\r\n    $( document ).ready(function() {\r\n        Tracker.autorun(function () {\r\n            let marks = Session.get('courseData').categoryMarks;\r\n            if(marks){\r\n                setProgressBar(Session.get('displayMark').substring(1));\r\n                try{\r\n                    console.log();\r\n                    k.data.datasets[0].data = [marks[0], 100-marks[0]];\r\n                    t.data.datasets[0].data = [marks[1], 100-marks[1]];\r\n                    c.data.datasets[0].data = [marks[2], 100-marks[2]];\r\n                    a.data.datasets[0].data = [marks[3], 100-marks[3]];\r\n                    k.update();\r\n                    t.update();\r\n                    a.update();\r\n                    c.update();\r\n                }catch (e){\r\n                    console.log('first time graphing');\r\n                    k = drawChart('knowledgeChart', marks[0]);\r\n                    t = drawChart('thinkingChart', marks[1]);\r\n                    a = drawChart('communicationChart', marks[2]);\r\n                    c = drawChart('applicationChart', marks[3]);\r\n                }\r\n\r\n            }\r\n        });\r\n        $(document).scroll(function () {\r\n            $('.performance-progress').each(function () {\r\n                $(this).css({ width: $(this).attr('data-progress') });\r\n            })\r\n        });\r\n        $('.performance-presenter').hide();\r\n    });\r\n    $('.insights').hide();\r\n});\r\n\r\nTemplate.course.helpers({\r\n    'assessment': function () {\r\n        let arr = Session.get('courseData').data.assessment;\r\n        let newArr = [];\r\n        while(arr.length) newArr.push(arr.splice(0,2));\r\n        return newArr\r\n    },\r\n    'percentage': function () {\r\n        return (Math.round(((this.mark / this.outOf) * 100) * 10) / 10) + \"%\"\r\n    },\r\n    'readings': function () {\r\n        return Posts.find({\r\n            'type': 'blog',\r\n            organizationsValues: Session.get('courseCode')\r\n        });\r\n    },\r\n    'imageLink': function () {\r\n        if(this.unsplash){\r\n            return this.unsplash.urls.full;\r\n        }else if(this.imgId){\r\n            let id = this.imgId;\r\n            return Images.findOne({_id: id}).url();\r\n        }\r\n    },\r\n    'isMobile': function () {\r\n        return $( window ).width() <= 768;\r\n    },\r\n    'culminating': function () {\r\n        return Session.get('courseData').categories.O *100 + '%'\r\n    }\r\n});\r\n\r\nTemplate.course.events({\r\n    'click .performance': function (evt, template) {\r\n        let choice = $(evt.target).closest($('.performance'));\r\n        let assessment = $(evt.target).closest($('.assessment-body'));\r\n        let title = assessment.find('.assessment-title').text();\r\n        let object = null;\r\n        _.forEach(Session.get('courseData').data.assessment, function (item) {\r\n            if(item.title === title){\r\n                object = item;\r\n            }\r\n        });\r\n        if(!choice.hasClass('not-available')){\r\n            let data = $(evt.target).closest($('.assessment-performance')).find($('.performance-presenter'));\r\n            let section = data.find('.presenter-section');\r\n            let achieved = data.find('.achieved');\r\n            let outOf = data.find('.out-of');\r\n            let weight = data.find('.weight');\r\n            if(choice.hasClass('knowledge')){\r\n                data.css({\r\n                    background: 'linear-gradient(to right, #f7971e, #ffd200)'\r\n                });\r\n                achieved.text(object.K.mark);\r\n                outOf.text(object.K.outOf);\r\n                weight.text(object.K.weight);\r\n                section.text('Knowledge');\r\n            }else if(choice.hasClass('thinking')){\r\n                data.css({\r\n                    background: 'linear-gradient(to right, #11998e, #38ef7d)'\r\n                });\r\n                achieved.text(object.T.mark);\r\n                outOf.text(object.T.outOf);\r\n                weight.text(object.T.weight);\r\n                section.text('Thinking');\r\n            }else if(choice.hasClass('communication')){\r\n                data.css({\r\n                    background: 'linear-gradient(to right, #7F00FF, #E100FF)'\r\n                });\r\n                achieved.text(object.C.mark);\r\n                outOf.text(object.C.outOf);\r\n                weight.text(object.C.weight);\r\n                section.text('Communication');\r\n            }else if(choice.hasClass('application')){\r\n                data.css({\r\n                    background: 'linear-gradient(to right, #fc4a1a, #f7b733)'\r\n                });\r\n                achieved.text(object.A.mark);\r\n                outOf.text(object.A.outOf);\r\n                weight.text(object.A.weight);\r\n                section.text('Application');\r\n            }else if(choice.hasClass('other')){\r\n                data.css({\r\n                    background: 'linear-gradient(to right, #757F9A, #D7DDE8)'\r\n                });\r\n                achieved.text(object.O.mark);\r\n                outOf.text(object.O.outOf);\r\n                weight.text(object.O.weight);\r\n                section.text('Culminating');\r\n            }\r\n\r\n            data.slideDown('fast');\r\n        }\r\n\r\n    },\r\n    'click .close-presenter': function (evt, template) {\r\n        let data = $(evt.target).closest($('.performance-presenter'));\r\n        data.slideUp('fast');\r\n    },\r\n    'click .filter-btn': function (evt) {\r\n        let filterValue = '.' + $(evt.target).attr('data-tab');\r\n        let currentValue = '.' + $('.is-checked').attr('data-tab');\r\n        $('.is-checked').removeClass('is-checked');\r\n        $(evt.target).addClass('is-checked');\r\n        if(filterValue === '.insights'){\r\n            $(currentValue).fadeOut('fast');\r\n            $('.insights').fadeIn('slow');\r\n            let names = [], marks = [];\r\n            _.forEach(Session.get('courseData').data.assessment, function (item) {\r\n                names.push(item.title);\r\n            });\r\n            _.forEach(Session.get('courseData').timeline, function (item) {\r\n                marks.push(item.mark);\r\n            });\r\n            console.log(names,marks);\r\n            drawPolyChart('markByAssignment',names, marks);\r\n            drawPerformChart('sectionMarkByAssignment',['a','b','c','d'],[90, 88, 85, 99],[88, 90, 99, 78],[100,89,67,88],[99,99,89,86])\r\n        }else{\r\n            $(currentValue).fadeOut('fast');\r\n            $(filterValue).fadeIn('slow');\r\n        }\r\n    }\r\n});","import './dashboard.html'\r\nimport { Images } from '../../api/images/images.js';\r\n//import {Suggestions} from '../../api/suggestions/suggestions.js';\r\nlet courseSub;\r\nlet clubSub;\r\nTemplate.dashboard.onRendered(function () {\r\n});\r\nTemplate.dashCategories.onRendered(function () {\r\n    setTitle('Manage Categories');\r\n});\r\nTemplate.dashHome.onRendered(function () {\r\n    setTitle('Home');\r\n    Tracker.autorun(function () {\r\n        Meteor.subscribe('posts');\r\n        Meteor.subscribe('categories');\r\n        Meteor.subscribe('blogCategories');\r\n        Meteor.subscribe('images');\r\n    });\r\n});\r\nTemplate.dashSuggestions.onRendered(function () {\r\n    setTitle('Suggestion');\r\n    Tracker.autorun(function () {\r\n        Meteor.subscribe('suggestions');\r\n    });\r\n});\r\nTemplate.dashOrganizations.onRendered(function () {\r\n    setTitle('Manage Organizations');\r\n    Tracker.autorun(function () {\r\n        courseSub = Meteor.subscribeWithPagination('allCourses', 10);\r\n        clubSub = Meteor.subscribeWithPagination('allClubs', 10);\r\n    });\r\n});\r\nTemplate.dashUsers.onRendered(function () {\r\n    setTitle('Manage Organizations');\r\n    Tracker.autorun(function () {\r\n        Meteor.subscribe('allUsers');\r\n    });\r\n});\r\n\r\nTemplate.dashHome.helpers({\r\n    'post': function () {\r\n        return Posts.find({\r\n            'meta.approved': false,\r\n            'type': 'announcement',\r\n            'meta.screeningStage': 0\r\n        });\r\n    },\r\n    'blogPost': function () {\r\n        return Posts.find({\r\n            'meta.approved': false,\r\n            'type': 'blog'\r\n        });\r\n    },\r\n    'writer': function () {\r\n        //console.log(this);\r\n        return Meteor.users.findOne({_id: this.author}).services.google.name;\r\n    },\r\n    'noImage': function () {\r\n        return (this.subType === 'textOnly')\r\n    },\r\n    'imageLink': function () {\r\n        try{\r\n            return Images.findOne({_id: this.imgId}).url();\r\n        }catch(e){\r\n            //console.log('error getting photo')\r\n        }\r\n    },\r\n    'hasContent': function () {\r\n        return this.subType !== 'imageOnly'\r\n    },\r\n    'draftedDate': function () {\r\n        return moment(this.draftedDate).format(\"MMMM Do YYYY\")\r\n    },\r\n    'releaseDate': function () {\r\n        return moment(this.releaseDate).format(\"MMMM Do YYYY\")\r\n    }\r\n});\r\n\r\nTemplate.dashAnnouncements.helpers({\r\n    'post': function () {\r\n        return Posts.find({\r\n            'meta.approved': true,\r\n            'type': 'announcement'\r\n        });\r\n    },\r\n    'blogPost': function () {\r\n        return Posts.find({\r\n            'type': 'blog'\r\n        });\r\n    },\r\n    'writer': function () {\r\n        //console.log(this);\r\n        return Meteor.users.findOne({_id: this.author}).services.google.name;\r\n    },\r\n    'noImage': function () {\r\n        return (this.subType === 'textOnly')\r\n    },\r\n    'imageLink': function () {\r\n        console.log(this);\r\n        try{\r\n            return Images.findOne({_id: this.imgId}).url();\r\n        }catch(e){\r\n            //console.log('error getting photo')\r\n        }\r\n\r\n    },\r\n    'hasContent': function () {\r\n        return this.subType !== 'imageOnly'\r\n    }\r\n});\r\n\r\nTemplate.dashSuggestions.helpers({\r\n    'suggestion': function () {\r\n        return Suggestions.find({});\r\n    },\r\n    'writer': function () {\r\n        //console.log(this);\r\n        return Meteor.users.findOne({_id: this.author}).services.google.name;\r\n    },\r\n    'noImage': function () {\r\n        return (this.imgId === null)\r\n    },\r\n    'imageLink': function () {\r\n        try{\r\n            return Images.findOne({_id: this.imgId}).url();\r\n        }catch(e){\r\n            //console.log('error getting photo from Images - dashboard')\r\n        }\r\n    },\r\n    'draftedDate': function () {\r\n        return moment(this.draftedDate).format(\"MMMM Do YYYY\")\r\n    }\r\n});\r\n\r\nTemplate.dashSuggestions.events({\r\n    'click .btn-reject-suggestion': function (evt) {\r\n        let obj = $(evt.target).closest($('.new-post'));\r\n        let id = obj.attr('id');\r\n        Meteor.call('suggestions.removeSuggestions', id, function (err) {\r\n            if(err){\r\n                alertError(\"Error Occurred When Removing Suggestion\", err.message)\r\n            }\r\n        })\r\n    }\r\n});\r\n\r\nTemplate.dashCategories.helpers({\r\n    'category': function () {\r\n        return Categories.find({});\r\n    },\r\n    'featured': function () {\r\n        return (this.featured) ? 'Yes' : 'No';\r\n    },\r\n    'date': function () {\r\n        return moment(this.createdDate).format(\"MMMM Do YYYY\")\r\n    },\r\n    'blogCategory': function () {\r\n        return BlogCategories.find({});\r\n    }\r\n});\r\n\r\nTemplate.dashUsers.helpers({\r\n    'userList': function () {\r\n        return Meteor.users.find({});\r\n    },\r\n    'img': function () {\r\n        return this.services.google.picture;\r\n    },\r\n    'name': function () {\r\n        return this.services.google.name;\r\n    },\r\n    'id': function () {\r\n        return this._id;\r\n    }\r\n});\r\n\r\nTemplate.dashOrganizations.helpers({\r\n    'courses': function () {\r\n        return Courses.find({});\r\n    },\r\n    'clubs': function () {\r\n        return Clubs.find({});\r\n    }\r\n});\r\n\r\nTemplate.dashboard.events({\r\n    'click .new-post': function (evt) {\r\n        let obj = $(evt.target).closest($('.new-post'));\r\n        let id = obj.attr('id');\r\n        Session.set('editingId', id);\r\n        let info = Posts.findOne({_id: id});\r\n        Session.set('dashEditorData', info);\r\n\r\n        if(!$(evt.target).attr('class').includes('btn-reject') && !$(evt.target).attr('class').includes('btn-approve'))\r\n            Modal.show('dashPostEditor');\r\n    },\r\n    'click .btn-approve': function (evt) {\r\n        let obj = $(evt.target).closest($('.new-post'));\r\n        let id = obj.attr('id');\r\n        Meteor.call('posts.approvePost', id, function (err) {\r\n            if(err){\r\n                alertError(\"Error Occurred When Approving Post\", err.message)\r\n            }\r\n        })\r\n        //Post on Facebook\r\n        /*setupFacebook(function(err, response) {\r\n         if (err) {\r\n         console.log(err);\r\n         } else {\r\n         let post = Session.get('dashEditorData');\r\n         let type = post.type;\r\n         if (type === 'announcement') {\r\n         let subType = post.subType;\r\n         if (subType === 'textOnly') {\r\n         postTextFacebook(post);\r\n         } else if (subType === 'imageOnly') {\r\n         postImageFacebook(post);\r\n         } else {\r\n         postTextImageFacebook(post);\r\n         }\r\n         }\r\n         }\r\n         });*/\r\n    },\r\n    'click .btn-reject': function (evt) {\r\n        let obj = $(evt.target).closest($('.new-post'));\r\n        let id = obj.attr('id');\r\n        let reason = null;\r\n        alertPrompt(\"Please give the reason of rejection\", function (result) {\r\n            if(result){\r\n                Meteor.call('posts.rejectPost', id, result, function (err) {\r\n                    if(err){\r\n                        alertError(\"Error Occurred When Removing Post\", err.message)\r\n                    }\r\n                })\r\n            }\r\n        });\r\n\r\n    }\r\n});\r\n\r\nTemplate.dashCategories.events({\r\n    'click .btn-create-category': function (evt) {\r\n        if($(evt.target).attr('data-category') === 'blog'){\r\n            Session.set('editingBlogCategory', true);\r\n        }else Session.set('editingBlogCategory', false);\r\n        Modal.show('dashCategoryEditor');\r\n    },\r\n    'click .btn-delete-category': function (evt) {\r\n        let obj = $(evt.target).closest($('.dash-category-container'));\r\n        let type = obj.attr('data-category');\r\n        let id = obj.attr('id');\r\n        if(type === 'blog'){\r\n            Meteor.call('blogCategory.remove', id, function (err) {\r\n                if(err){\r\n                    alertError('Something Terrible Happened...', err.message);\r\n                }\r\n            })\r\n        }else{\r\n            Meteor.call('category.remove', id, function (err) {\r\n                if(err){\r\n                    alertError('Something Terrible Happened...', err.message);\r\n                }\r\n            })\r\n        }\r\n    }\r\n});\r\n\r\nTemplate.dashUsers.events({\r\n    'click .btn-modify-roles': function (evt) {\r\n        let obj = $(evt.target).closest($('.dash-user-container'));\r\n        let id = obj.attr('id');\r\n        Session.set('editingUser', Meteor.users.findOne({_id: id}));\r\n        Modal.show('dashRoleEditor');\r\n    },\r\n    'click .btn-ban-user': function (evt) {\r\n        let obj = $(evt.target).closest($('.dash-user-container'));\r\n        let id = obj.attr('id');\r\n        alertPrompt(\"This doesn't have to happen. Please give a reason for the banning.\",function (result) {\r\n            Meteor.call('accounts.ban',id,result,function (err) {\r\n                if(err){\r\n                    alertError(\"Failed to ban user\", err.message)\r\n                }else{\r\n                    alertSuccess(\"User has been successfully banned\", \"\")\r\n                }\r\n            })\r\n        })\r\n    }\r\n});\r\n\r\nTemplate.dashOrganizations.events({\r\n    'click #uploadCourses': function () {\r\n        let names = $('#courseNames').val();\r\n        let codes = $('#courseCodes').val();\r\n        Meteor.call('courses.addSeveral',names,codes,function (err) {\r\n            if(err){\r\n                alertError(\"Failed\", err.message)\r\n            }else{\r\n                alertSuccess('yeah','it didnt fail.')\r\n            }\r\n        })\r\n    },\r\n    'click #coursesLoadMore': function () {\r\n        courseSub.loadNextPage();\r\n        clubSub.loadNextPage();\r\n    },\r\n    'click #createNewClub': function () {\r\n        Modal.show('dashClubEditor');\r\n    },\r\n    'click .btn-delete': function (evt) {\r\n        let obj = $(evt.target).closest($('.editor-options'));\r\n        let type = obj.attr('data-category');\r\n        let id = obj.attr('id');\r\n        if(type === 'club'){\r\n            Meteor.call('clubs.remove', id, function (err) {\r\n                if(err){\r\n                    alertError('Something Terrible Happened...', err.message);\r\n                }\r\n            })\r\n        }else{\r\n            Meteor.call('course.remove', id, function (err) {\r\n                if(err){\r\n                    alertError('Something Terrible Happened...', err.message);\r\n                }\r\n            })\r\n        }\r\n    }\r\n});\r\n\r\nTemplate.dashRoleEditor.onRendered(function () {\r\n    let data = Session.get('editingUser');\r\n    console.log(data);\r\n    $(document).ready(function () {\r\n        $('#newUserRoles').select2({\r\n            placeholder: \"Click to select...\",\r\n            allowClear: false,\r\n        });\r\n        $(\"#newUserRoles\").val(data.roles).trigger(\"change\");\r\n    });\r\n});\r\n\r\nTemplate.dashRoleEditor.helpers({\r\n    'name': function () {\r\n        return Session.get('editingUser').services.google.name;\r\n    }\r\n});\r\n\r\nTemplate.dashRoleEditor.events({\r\n    'submit .dash-role-edit': function (evt) {\r\n        let data = Session.get('editingUser');\r\n        evt.preventDefault();\r\n        console.log($('#newUserRoles').val());\r\n        Meteor.call('addUserToRole', data._id, $('#newUserRoles').val(), function (err) {\r\n            if(err){\r\n                alertError(\"Role Modification Failed!\", err.message);\r\n            }else{\r\n                Modal.hide('dashRoleEditor');\r\n                alertSuccess(\"Success!\", \"User Role has been successfully modified!\")\r\n            }\r\n        })\r\n    }\r\n});\r\n\r\nTemplate.dashClubEditor.onRendered(function () {\r\n    let drop = initDropZone('newClubImage',{\r\n        number: 1,\r\n        size: 10,\r\n        message: \"Drop your image here or click to use the file browser\"\r\n    });\r\n});\r\n\r\nTemplate.dashCategoryEditor.onRendered(function () {\r\n    let drop = initDropZone('newCategoryImage',{\r\n        number: 1,\r\n        size: 10,\r\n        message: \"Drop your image here or click to use the file browser\"\r\n    });\r\n});\r\n\r\nTemplate.dashPostEditor.onRendered(function () {\r\n    let data = Session.get('dashEditorData');\r\n    if(data.subType === 'imageOnly'){\r\n        $('#newPostBody').hide()\r\n    }else{\r\n        $('#newPostBody').val(data.content);\r\n    }\r\n    $('#newPostHeadline').val(data.headline);\r\n    $(\"#newPostTags\").tagsinput('items');\r\n    _.forEach(data.tags,function (item) {\r\n        $('#newPostTags').tagsinput('add', item);\r\n    });\r\n\r\n    Tracker.autorun(function () {\r\n        let categorySub = Meteor.subscribe('categories');\r\n        if(categorySub.ready()){\r\n            let categories = Categories.find({});\r\n            categories.observeChanges({\r\n                added: function(id, fields) {\r\n                    let newCat = new Option(fields.name, fields.name);\r\n                    $('#newPostCategories').append(newCat);\r\n                }\r\n            });\r\n            $(\"#newPostCategories\").val(data.categories).trigger(\"change\");\r\n        }\r\n    });\r\n    $(document).ready(function () {\r\n        $('#newPostCategories').select2({\r\n            placeholder: \"Click to select matching categories\",\r\n            allowClear: true,\r\n        });\r\n    });\r\n});\r\n\r\nTemplate.dashCategoryEditor.events({\r\n    'submit .dash-category-edit': function (evt) {\r\n        evt.preventDefault();\r\n        let json = {\r\n            name: $('#newCategoryName').val(),\r\n            description: $('#newCategoryDescription').val(),\r\n            imgId: Session.get('categoryImageId'),\r\n            featured: $('#newCategoryFeatured').is(':checked')\r\n        };\r\n        //console.log(json);\r\n        if(!Session.get('editingBlogCategory')){\r\n            Meteor.call('category.addNew',json,function (err) {\r\n                Modal.hide('dashCategoryEditor');\r\n                if(err){\r\n                    alertError('Something Wrong Happened...', err.message);\r\n                }\r\n            })\r\n        }else{\r\n            Meteor.call('blogCategory.addNew',json,function (err) {\r\n                Modal.hide('dashCategoryEditor');\r\n                if(err){\r\n                    alertError('Something Wrong Happened...', err.message);\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n});\r\n\r\nTemplate.dashClubEditor.events({\r\n    'submit .dash-club-edit': function (evt) {\r\n        evt.preventDefault();\r\n        let json = {\r\n            name: $('#newClubName').val(),\r\n            description: $('#newClubDescription').val(),\r\n            room: $('#newClubRoom').val(),\r\n            schedule: $('#newClubSchedule').val(),\r\n            imgId: Session.get('categoryImageId'),\r\n        };\r\n        Meteor.call('clubs.add', json, function (err) {\r\n            if (err) {\r\n                alertError(\"Error Creating Club\", err.message)\r\n            } else {\r\n                Modal.hide('dashClubEditor');\r\n                alertSuccess(\"Yah!\", \"Club successfully created!\")\r\n            }\r\n        })\r\n    }\r\n});\r\n\r\nTemplate.dashPostEditor.events({\r\n    'submit .dash-announcement-edit': function (evt) {\r\n        evt.preventDefault();\r\n        let separators = [' , ', ', ', ',', ' ,'];\r\n        let tags = $('#newPostTags').val().split(new RegExp(separators.join('|'), 'g'));\r\n        let json = {\r\n            headline: $('#newPostHeadline').val(),\r\n            content: $('#newPostBody').val(),\r\n            tags: tags\r\n        };\r\n        Posts.update({_id: Session.get('editingId')},{$set: json});\r\n        Modal.hide();\r\n    }\r\n});\r\n\r\n\r\nfunction initDropZone(id, info) {\r\n    return new Dropzone(\"form#\" + id, {\r\n        maxFiles: info.number || 1,\r\n        maxFilesize: info.size || 8,\r\n        thumbnailWidth: 400,\r\n        addRemoveLinks: true,\r\n        dictDefaultMessage: info.message || \"Drop your image here, or click to select an image using the browser.\",\r\n        accept: function (file, done) {\r\n            let FSFile = new FS.File(file);\r\n\r\n            Images.insert(FSFile, function (err, fileObj) {\r\n                if (err) {\r\n                    console.log(err);\r\n                } else {\r\n                    //remove the currently uploaded image\r\n                    //if there is none, this will not do anything\r\n                    Images.remove({_id: Session.get('newImageId')}, function (err) {\r\n                        if (err) {\r\n                            console.log(\"error removing image:\\n\" + err);\r\n                        }\r\n                    });\r\n                    //retreive file extension\r\n                    hasUnsplash = false;\r\n                    Session.set('newFileType', fileObj.extension());   //update the file type\r\n                    Session.set('categoryImageId', fileObj._id); //update the image id to current image\r\n                    done();\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n","import { Images } from '../../api/images/images.js';\r\nimport './details.html';\r\n\r\nTemplate.details.onCreated(function () {\r\n    let data = Session.get('post_data');\r\n    Session.set('navTitle', data.title);\r\n});\r\n\r\nTemplate.details.onRendered(function () {\r\n});\r\n\r\nTemplate.details.helpers({\r\n    'name': function () {\r\n      return Session.get('name');\r\n    },\r\n   'picture': function () {\r\n       return Session.get('user_img');\r\n   },\r\n    'postSubtitle': function () {\r\n        let data = Session.get('post_data');\r\n        return data.subtitle;\r\n    },\r\n    'postBody': function () {\r\n        let data = Session.get('post_data');\r\n        return data.content;\r\n    },\r\n    'postTags': function () {\r\n        let data = Session.get('post_data');\r\n        return data.tags;\r\n    },\r\n    'postSplash': function () {\r\n        let data = Session.get('post_data');\r\n        if(data.meta.hasUnsplash){\r\n            Meteor.call('setupUnsplash', function (err) {\r\n                if(err){\r\n                    console.log(err);\r\n                }else{\r\n                    Meteor.call('getPhoto', data.imgId,function (err,data) {\r\n                        if(err){\r\n                            console.log(err);\r\n                        }else{\r\n                            console.log(data.urls.full);\r\n                            $('.post-header').css('background-image',\"url(\"+data.urls.full+\")\");\r\n                            return data.urls.full;\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n        }else{\r\n            Tracker.autorun(function () {\r\n                let image = Images.findOne({_id: data.imgId});\r\n                if(image){\r\n                    let url = image.url();\r\n                    $('.post-header').css('background-image',\"url(\"+url+\")\");\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n});\r\n","/**\r\n * Created by Yonglin Wang on 8/3/2017.\r\n */\r\nimport './firstTime.html'\r\n\r\nTemplate.firstTime.onRendered(function () {\r\n    Tracker.autorun(function () {\r\n        let courseSub = Meteor.subscribe('allCourses',1000);\r\n        let clubSub = Meteor.subscribe('allClubs',1000);\r\n        if(courseSub.ready() && clubSub.ready()){\r\n            let courses = Courses.find({});\r\n            let clubs = Clubs.find({});\r\n            courses.observeChanges({\r\n                added: function (id, fields) {\r\n                    let newCat = new Option(fields.name + \" - \" + fields.code, fields.code);\r\n                    $('#firstCourseSelect').append(newCat)\r\n                }\r\n            });\r\n            clubs.observeChanges({\r\n                added: function (id, fields) {\r\n                    let newCat = new Option(fields.name, fields.code);\r\n                    $('#firstClubSelect').append(newCat)\r\n                }\r\n            })\r\n        }\r\n    });\r\n    $('#firstCourseSelect').select2({\r\n        placeholder: \"Click to select matching categories\",\r\n        allowClear: true\r\n    });\r\n    $('#firstClubSelect').select2({\r\n        placeholder: \"Click to select matching categories\",\r\n        allowClear: true\r\n    });\r\n});\r\n\r\nTemplate.firstTime.events({\r\n    'click #startFirst': function (evt,template) {\r\n        evt.preventDefault();\r\n        swapElements('#firstIntro','#teachIntro');\r\n        swapElements('#beginIntro','#teachAssistInfo');\r\n    },\r\n    'click #skipNext': function (evt,template) {\r\n        evt.preventDefault();\r\n        swapElements('#teachIntro', '#emailIntro');\r\n        swapElements('#teachAssistInfo', '#subscriptionEmail');\r\n    },\r\n    'click #skipEmail': function (evt,template) {\r\n        evt.preventDefault();\r\n        const user = Meteor.user();\r\n        $('#introName').val(user.services.google.name);\r\n        $('#introStudentNum').val(user.profile.student_number);\r\n        $('#introSubEmail').val(user.profile.email);\r\n        swapElements('#emailIntro', '#confirmIntro');\r\n        swapElements('#subscriptionEmail', '#confirmDetails');\r\n    },\r\n    'submit #teachAssistForm': function (evt) {\r\n        evt.preventDefault();\r\n        const user = $('#teachUser').val();\r\n        const pass = $('#teachPass').val();\r\n        $('.teach-assist-login').fadeOut('fast', function () {\r\n           $('.teachLoader').fadeIn('slow')\r\n        });\r\n        Meteor.call('getTeachAssistTokens', {student_number: user, password: pass}, function (err, data) {\r\n            if(err){\r\n                alertError(\"Failed to connect with teach assist\", err.message);\r\n                $('.teachLoader').fadeOut('fast', function () {\r\n                    $('.teach-assist-login').fadeIn('slow')\r\n                });\r\n            }else{\r\n                Meteor.users.update({_id: Meteor.userId()}, {$set: {\"private.token\": data, \"private.tokenDate\": new Date()}}, function (err) {\r\n                    if(err){\r\n                        alertError(\"Something went wrong\", \"You can connect your account anytime later\");\r\n                        swapElements('#teachIntro', '#emailIntro');\r\n                        swapElements('#teachAssistInfo', '#subscriptionEmail');\r\n                    }else{\r\n                        Meteor.users.update({_id: Meteor.userId()}, {$set: {\"profile.student_number\": user}});\r\n                        Meteor.call('getTeachAssistCourses', data, function (err,data) {\r\n                            if(err){\r\n                                alertError(\"Something went wrong\", \"You can connect your account anytime later\");\r\n                                swapElements('#teachIntro', '#emailIntro');\r\n                                swapElements('#teachAssistInfo', '#subscriptionEmail');\r\n                            }else{\r\n                                Meteor.users.update({_id: Meteor.userId()}, {$set: {\"private.courses\": data}});\r\n                                alertSuccess(\"Yeah!\", 'We have successfully connected you and teach assist, however further login will be required since token may expire.');\r\n                                swapElements('#teachIntro', '#emailIntro');\r\n                                swapElements('#teachAssistInfo', '#subscriptionEmail');\r\n                            }\r\n                        })\r\n                    }\r\n                });\r\n            }\r\n        })\r\n    },\r\n    'submit #organizationsForm': function (evt) {\r\n        evt.preventDefault();\r\n        const courses = $('#firstCourseSelect').val();\r\n        const clubs = $('#firstClubSelect').val();\r\n        Meteor.users.update({_id: Meteor.userId()}, {$set: {\"profile.courses\": courses, \"profile.clubs\": clubs}}, function (err) {\r\n            if(err){\r\n                alertError(\"Error Occurred when updating your profile\", err.message)\r\n            }else {\r\n                alertSuccess(\"Thank you!\", \"We have recorded the information you provided\")\r\n            }\r\n        });\r\n    },\r\n    'submit #newsletterEmailForm': function (evt) {\r\n        evt.preventDefault();\r\n        let email = $('#personalEmail').val();\r\n        let userInfo = Meteor.user().services.google;\r\n        if(!validateEmail(email)){\r\n            alertError(\"Sorry...\", \"The email you entered is unacceptable.\")\r\n        }else{\r\n            Meteor.call('news.addSubscriber', email, userInfo.given_name, userInfo.family_name, function (err) {\r\n                if(err){\r\n                    alertError(\"Something went wrong\", err.message + \"\\nYou can subscribe to the newsletter anytime later.\")\r\n                }else{\r\n                    Session.set('personalEmail', email);\r\n                    alertSuccess(\"Great!\", \"We have signed you up for newsletters!\");\r\n                    swapElements('#emailIntro', '#confirmIntro');\r\n                    swapElements('#subscriptionEmail', '#confirmDetails');\r\n                }\r\n            })\r\n        }\r\n    },\r\n    'submit #finalForm': function (evt,template) {\r\n        evt.preventDefault();\r\n        if(document.getElementById('checkboxTerms').checked){\r\n            let id = Meteor.userId();\r\n            Meteor.call('initUserProfile', id, function (err) {\r\n                if(err){\r\n                    alertError('Error Initiating Your Account', err.message);\r\n                }else{\r\n                    swapElements('.wizard-container', '.final-message');\r\n                    setTimeout(function () {\r\n                        FlowRouter.go('/')\r\n                    }, 3000);\r\n                }\r\n            });\r\n        }else{\r\n            alertError(\"Oops.\", \"Please agree to the terms of service.\")\r\n        }\r\n\r\n    }\r\n});\r\n\r\nfunction swapElements(a,b){\r\n    $(a).fadeOut('fast', function () {\r\n        $(this).replaceWith($(b));\r\n        $(b).fadeIn(\"slow\");\r\n    });\r\n}\r\nfunction validateEmail(email) {\r\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}","/**\r\n * Created by Yonglin Wang on 7/30/2017.\r\n */\r\nimport './login.html'\r\n\r\nTemplate.login.onRendered(function () {\r\n    //disable register and hid all error prompts when the page initializes\r\n    $('.email-warning').hide();\r\n    $('#registerSubmit').prop('disabled', true);\r\n});\r\n\r\n/**\r\n * This function defines all the events on the login page.*/\r\n\r\nTemplate.login.events({\r\n    //toggle between register and login form\r\n    'click .operation': function () {\r\n        $('form').animate({height: \"toggle\", opacity: \"toggle\"}, \"slow\");\r\n    },\r\n    'submit .login-form': function (evt) {\r\n        evt.preventDefault();\r\n        const email = evt.target.email.value;\r\n        const pass = evt.target.password.value;\r\n        Meteor.loginWithPassword(email,pass,function (err) {\r\n            if(err){\r\n                console.log(err);\r\n            }else {\r\n\r\n            }\r\n        });\r\n\r\n    },\r\n    'submit .register-form': function (evt) {\r\n        const email = evt.target.registerEmail.value;\r\n        const firstName = evt.target.firstName.value;\r\n        const lastName = evt.target.lastName.value;\r\n        const pass = evt.target.registerPassword.value;\r\n        Accounts.createUser({\r\n            username: firstName+lastName,\r\n            email: email,\r\n            password: pass,\r\n            profile:{\r\n                firstName: firstName,\r\n                lastName: lastName,\r\n                fullName: firstName + \" \" + lastName,\r\n                homeRoom: 0,\r\n                picture: null\r\n            }\r\n        },function(err){\r\n            if(err){\r\n                alert(\"error\");\r\n                console.log(err)\r\n            }else{\r\n                console.log(\"Success\")\r\n            }\r\n        });\r\n    },\r\n    'click #googleLogin':function () {\r\n        Meteor.loginWithGoogle({\r\n            loginStyle: \"redirect\",\r\n            requestPermissions: ['profile','email'],\r\n        },(err)=>{\r\n            if(err){\r\n                alertError(\"Sorry...\", err.message);\r\n            }\r\n        });\r\n    },\r\n    'keyup #registerEmail': function (evt) {\r\n        evt.preventDefault();\r\n        let email = evt.target.value;\r\n        if(validateEmail(email)){\r\n            $('.email-warning').hide();\r\n            $('#registerSubmit').prop('disabled',false);\r\n        }else{\r\n            $('.email-warning').show();\r\n            $('#registerSubmit').prop('disabled',true);\r\n        }\r\n    }\r\n});\r\n/**\r\n * This local method validates the state of a String to see if it is a proper email\r\n * **/\r\nfunction validateEmail(email) {\r\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nAccounts.onLogin( ()=>{\r\n    const redirect = Session.get('redirectAfterLogin');\r\n    if(redirect){\r\n        if(redirect !== '/login'){\r\n            FlowRouter.go(redirect);\r\n        }\r\n    }else{\r\n        //FlowRouter.go('/');\r\n    }\r\n});\r\n","/**\r\n * Created by Yonglin Wang on 7/31/2017.\r\n */\r\nimport imagesLoaded from 'imagesloaded';\r\nimport './stream.html'\r\nimport { Images } from '../../api/images/images.js';\r\nlet isotopeSettings = {\r\n    itemSelector: '.grid-item',\r\n    percentPosition: true,\r\n    masonry: {\r\n        columnWidth: '.grid-sizer',\r\n        gutter: '.gutter-sizer'\r\n    }\r\n};\r\nTemplate.stream.onRendered(function () {\r\n    let $grid = $('.grid');\r\n    Tracker.autorun(function () {\r\n        let postSub = Meteor.subscribe('announcements', 10, Meteor.userId());\r\n        let categorySub = Meteor.subscribe('categories');\r\n        let imageSub = Meteor.subscribe('images');\r\n        if(postSub.ready()){\r\n            $('.grid').isotope(isotopeSettings);\r\n            $('.grid').imagesLoaded().progress( function() {\r\n                $('.grid').isotope(isotopeSettings);\r\n            });\r\n        }\r\n    });\r\n    setTitle('Stream');\r\n});\r\n\r\nTemplate.stream.helpers({\r\n    'category': function () {\r\n      return Categories.find({});\r\n    },\r\n    'allPosts': function () {\r\n        let query = Posts.find({\r\n            'meta.approved': true,\r\n            'type': 'announcement'\r\n        });\r\n        query.observeChanges({\r\n            added: function(id, fields) {\r\n                setTimeout(function () {\r\n                    $('.grid').isotope('reloadItems');\r\n                    $('.grid').isotope()\r\n                }, 500);\r\n            },\r\n            changed: function(id, fields) {\r\n                setTimeout(function () {\r\n                    $('.grid').isotope('reloadItems');\r\n                    $('.grid').isotope()\r\n                }, 500);\r\n            },\r\n            removed: function() {\r\n                setTimeout(function () {\r\n                    $('.grid').isotope('reloadItems');\r\n                    $('.grid').isotope()\r\n                }, 500);\r\n            }\r\n        });\r\n        return query.fetch().reverse();\r\n    },\r\n    'effectiveDate': function () {\r\n        return (this.startDate === this.endDate) ? moment(this.startDate).format(\"MMMM Do YYYY\") : moment(this.startDate).format(\"MMMM Do YYYY\") + \" - \" + moment(this.endDate).format(\"MMMM Do YYYY\");\r\n    },\r\n    'isImageOnly': function () {\r\n        return this.subType === 'imageOnly' && this.type === 'announcement'\r\n    },\r\n    'isTextOnly': function () {\r\n        return this.subType === 'textOnly' && this.type === 'announcement'\r\n    },\r\n    'isImageText': function () {\r\n        return this.subType === 'imageText' && this.type === 'announcement'\r\n    },\r\n    'isBlog': function () {\r\n        return this.type === 'blog'\r\n    },\r\n    'categories': function () {\r\n        let list = this.categories;\r\n        let text = \"\";\r\n        _.forEach(list,function (item) {\r\n            text += item + \" \"\r\n        });\r\n        return text;\r\n    },\r\n    'textOverImage': function () {\r\n        return this.subType === 'imageText' && this.type === 'announcement' && this.meta.priority === 'text'\r\n    },\r\n    'imageOverText': function () {\r\n        return this.subType === 'imageText' && this.type === 'announcement' && this.meta.priority === 'image'\r\n    },\r\n    'writer': function () {\r\n        return Meteor.users.findOne({_id: this.author}).services.google.name;\r\n    },\r\n    'imageLink': function () {\r\n        if(this.unsplash){\r\n            return this.unsplash.urls.full;\r\n        }else if(this.imgId){\r\n            try{\r\n                return Images.findOne({_id: this.imgId}).url();\r\n            }catch(e){\r\n                //console.log('error getting photo')\r\n            }\r\n        }\r\n    }\r\n\r\n});\r\n\r\nTemplate.stream.events({\r\n    'click .filter-btn': function (evt) {\r\n        let filterValue = $(evt.target).attr('data-filter');\r\n        $('.is-checked').removeClass('is-checked');\r\n        $(evt.target).addClass('is-checked');\r\n        $('.grid').isotope({ filter: filterValue });\r\n    },\r\n    'click .blog-item': function (evt,template) {\r\n        let obj = $(evt.target).closest($('.blog-item'));\r\n        let id = obj.attr('id');\r\n        FlowRouter.go('/blog/'+id);\r\n    }\r\n});\r\ngetUnsplashLink = function (id) {\r\n    Meteor.call('setupUnsplash', function (err) {\r\n        if(err){\r\n            console.log(err);\r\n        }else{\r\n            console.log(id);\r\n            Meteor.call('getPhoto', id, function (err,data) {\r\n                if(err){\r\n                    console.log(err);\r\n                }else{\r\n                    Session.set('unsplashFeatured', data.urls.full);\r\n                    $('.grid').isotope();\r\n                }\r\n            })\r\n        }\r\n    });\r\n};","//This file provides a library of dialogs that are used in uhs.life\r\n\r\nalertError = function (title, body) {\r\n    bootbox.alert({\r\n        title: \"<i class='fa fa-5x fa-times-circle-o'></i>\",\r\n        message: \"<h3>\"+title+\"</h3><p>\"+ body +\"</p>\",\r\n        buttons: {\r\n            ok:{\r\n                label:\"Got it\",\r\n                className: 'btn-confirm'\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nalertSuccess = function (title, body) {\r\n    bootbox.alert({\r\n        title: \"<i class='fa fa-5x fa-check-circle-o'></i>\",\r\n        message: \"<h3>\"+title+\"</h3><p>\"+ body +\"</p>\",\r\n        buttons: {\r\n            ok:{\r\n                label:\"Got it\",\r\n                className: 'btn-confirm'\r\n            }\r\n        }\r\n    });\r\n    $(\".modal-header\").css('background','#4caf50');\r\n    $(\".btn-confirm\").css('background','#4caf50');\r\n};\r\n\r\nalertConfirm = function (title, body, callback) {\r\n    bootbox.confirm({\r\n        title: \"<i class='fa fa-5x fa-question-circle-o'></i>\",\r\n        message: \"<h3>\"+title+\"</h3><p>\"+ body +\"</p>\",\r\n        buttons: {\r\n            confirm: {\r\n                label: 'Yes I am Sure',\r\n                className: 'btn-success'\r\n            },\r\n            cancel: {\r\n                label: 'No, I am Not',\r\n                className: 'btn-grey'\r\n            }\r\n        },\r\n        callback: function (result) {\r\n            callback(result);\r\n        }\r\n    });\r\n    $(\".modal-header\").css('background','#2196F3');\r\n};\r\n\r\nalertPrompt = function (title, callback) {\r\n    bootbox.prompt({\r\n        title: title,\r\n        inputType: 'textarea',\r\n        callback: function (result) {\r\n            callback(result)\r\n        }\r\n    });\r\n};","import chart from 'chart.js';\r\n\r\n// Chart options\r\nChart.defaults.global.legend.display = false;\r\nChart.defaults.global.tooltips.enabled = true;\r\ndrawChart = function(chartId, mark){\r\n    //$( \"canvas#\"+chartId ).replaceWith( \"<canvas id='\" + chartId + \"'></canvas>\" );\r\n    let color;\r\n    if(mark >= 95){\r\n        color = \"#009688\";\r\n    }else if(mark >= 90){\r\n        color = \"#4caf50\";\r\n    }else if(mark >=85){\r\n        color = \"#8bc34a\";\r\n    }else if(mark >=80){\r\n        color = \"#cddc39\";\r\n    }else if(mark >=75){\r\n        color = \"#ffeb3b\";\r\n    }else if(mark >=70){\r\n        color = \"#ffc107\";\r\n    }else if(mark >=60){\r\n        color = \"#ff9800\";\r\n    }else if(mark >=55){\r\n        color = \"#ff5722\";\r\n    }else if(mark < 55){\r\n        color = \"#f44336\";\r\n    }\r\n    let ctx = document.getElementById(chartId).getContext(\"2d\");\r\n    //This will get the first returned node in the jQuery collection.\r\n    return new Chart(ctx, {\r\n        type: 'doughnut',\r\n        data: {\r\n            labels: [\r\n                \"Achievements\",\r\n                \"Losts\"\r\n            ],\r\n            datasets: [\r\n                {\r\n                    data: [mark, (100-mark).toFixed(1)],\r\n                    backgroundColor: [\r\n                        color,\r\n                        \"#A9A9A9\"\r\n                    ],\r\n                    hoverBackgroundColor: [\r\n                        color,\r\n                        \"#A9A9A9\"\r\n                    ]\r\n                }]\r\n        }\r\n    });\r\n}\r\n\r\ndrawSmallChartSide = function(chartId, mark, color){\r\n    $( \"canvas#\"+chartId ).replaceWith( \"<canvas id=\"+chartId+\" width='20' height='20'></canvas>\" );\r\n    //Get context with jQuery - using jQuery's .get() method.\r\n    var ctx = document.getElementById(chartId).getContext(\"2d\");\r\n    //This will get the first returned node in the jQuery collection.\r\n    myNewChart = new Chart(ctx, {\r\n        type: 'doughnut',\r\n        data: {\r\n            labels: [\r\n                \"Achievements\",\r\n                \"Losts\"\r\n            ],\r\n            datasets: [\r\n                {\r\n                    data: [mark, (100-mark).toFixed(1)],\r\n                    backgroundColor: [\r\n                        color,\r\n                        \"#A9A9A9\"\r\n                    ],\r\n                    hoverBackgroundColor: [\r\n                        color,\r\n                        \"#A9A9A9\"\r\n                    ]\r\n                }]\r\n        },\r\n        options: {\r\n            animation: false\r\n        }\r\n    });\r\n}\r\n\r\ndrawSmallChart = function(chartId, mark, color){\r\n    $( \"canvas#\"+chartId ).replaceWith( \"<canvas id=\"+chartId+\"></canvas>\" );\r\n    //Get context with jQuery - using jQuery's .get() method.\r\n    var ctx = document.getElementById(chartId).getContext(\"2d\");\r\n    //This will get the first returned node in the jQuery collection.\r\n    var myNewChart = new Chart(ctx, {\r\n        type: 'doughnut',\r\n        data: {\r\n            labels: [\r\n                \"Achievements\",\r\n                \"Losts\"\r\n            ],\r\n            datasets: [\r\n                {\r\n                    data: [mark, (100-mark).toFixed(1)],\r\n                    backgroundColor: [\r\n                        color,\r\n                        \"#A9A9A9\"\r\n                    ],\r\n                    hoverBackgroundColor: [\r\n                        color,\r\n                        \"#A9A9A9\"\r\n                    ]\r\n                }]\r\n        },\r\n        options: {\r\n            animation: false\r\n        }\r\n    });\r\n}\r\n\r\ndrawPolyChart = function(chartId, assignments, marks){\r\n\r\n    //Get context with jQuery - using jQuery's .get() method.\r\n    var ctx = document.getElementById(chartId).getContext(\"2d\");\r\n\r\n    var data = {\r\n        labels: assignments,\r\n        datasets: [\r\n            {\r\n                label: \"M.A.T.A.\",\r\n                fill: true,\r\n                lineTension: 0.1,\r\n                backgroundColor: \"rgba(75,192,192,0.4)\",\r\n                borderColor: \"rgba(75,192,192,1)\",\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: \"rgba(75,192,192,1)\",\r\n                pointBackgroundColor: \"#fff\",\r\n                pointBorderWidth: 1,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\r\n                pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 5,\r\n                pointHitRadius: 10,\r\n                data: marks,\r\n                spanGaps: false,\r\n            }\r\n        ]\r\n    };\r\n    //This will get the first returned node in the jQuery collection.\r\n    var myChart = new Chart(ctx, {\r\n        type: 'line',\r\n        data: data,\r\n        options: {\r\n            scales: {\r\n                xAxes: [{\r\n                    ticks: {\r\n                        display: false\r\n                    }\r\n                }],\r\n                yAxes: [{\r\n                    ticks: {\r\n                        display: true\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\ndrawPerformChart = function(chartId, assignments, k, t, c, a){\r\n\r\n    //Get context with jQuery - using jQuery's .get() method.\r\n    var ctx = document.getElementById(chartId).getContext(\"2d\");\r\n\r\n    var data = {\r\n        labels: assignments,\r\n        datasets: [\r\n            {\r\n                label: \"Knowledge\",\r\n                fill: false,\r\n                lineTension: 0.1,\r\n                backgroundColor: \"rgba(255,193,7,0.4)\",\r\n                borderColor: \"rgba(255,193,7,1)\",\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: \"rgba(255,193,7,1)\",\r\n                pointBackgroundColor: \"#fff\",\r\n                pointBorderWidth: 1,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: \"rgba(255,193,7,1)\",\r\n                pointHoverBorderColor: \"rgba(255,193,7,1)\",\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 5,\r\n                pointHitRadius: 10,\r\n                data: k,\r\n                spanGaps: true,\r\n            },\r\n            {\r\n                label: \"Thinking\",\r\n                fill: false,\r\n                lineTension: 0.1,\r\n                backgroundColor: \"rgba(76,175,80,0.4)\",\r\n                borderColor: \"rgba(76,175,80,1)\",\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: \"rgba(76,175,80,1)\",\r\n                pointBackgroundColor: \"#fff\",\r\n                pointBorderWidth: 1,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: \"rgba(76,175,80,1)\",\r\n                pointHoverBorderColor: \"rgba(76,175,80,1)\",\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 5,\r\n                pointHitRadius: 10,\r\n                data: t,\r\n                spanGaps: true,\r\n            },\r\n            {\r\n                label: \"Communication\",\r\n                fill: false,\r\n                lineTension: 0.1,\r\n                backgroundColor: \"rgba(103,58,183,0.4)\",\r\n                borderColor: \"rgba(103,58,183,1)\",\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: \"rgba(103,58,183,1)\",\r\n                pointBackgroundColor: \"#fff\",\r\n                pointBorderWidth: 1,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: \"rgba(103,58,183,1)\",\r\n                pointHoverBorderColor: \"rgba(103,58,183,1)\",\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 5,\r\n                pointHitRadius: 10,\r\n                data: c,\r\n                spanGaps: true,\r\n            },\r\n            {\r\n                label: \"Application\",\r\n                fill: false,\r\n                lineTension: 0.1,\r\n                backgroundColor: \"rgba(255,87,34,0.4)\",\r\n                borderColor: \"rgba(255,87,34,1)\",\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: \"rgba(255,87,34,1)\",\r\n                pointBackgroundColor: \"#fff\",\r\n                pointBorderWidth: 1,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: \"rgba(255,87,34,1)\",\r\n                pointHoverBorderColor: \"rgba(255,87,34,1)\",\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 5,\r\n                pointHitRadius: 10,\r\n                data: a,\r\n                spanGaps: true,\r\n            }\r\n        ]\r\n    };\r\n    //This will get the first returned node in the jQuery collection.\r\n    var myChart = new Chart(ctx, {\r\n        type: 'line',\r\n        data: data,\r\n        options: {\r\n            scales: {\r\n                xAxes: [{\r\n                    ticks: {\r\n                        display: false\r\n                    }\r\n                }],\r\n                yAxes: [{\r\n                    ticks: {\r\n                        display: true\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\ndrawHalfChart = function(chartId, mark, total, color){\r\n    var data = {\r\n        labels: [\r\n            \"Achievements\",\r\n            \"Losts\"\r\n        ],\r\n        datasets: [{\r\n            data: [mark, total-mark],\r\n            backgroundColor: [\r\n                color,\r\n                \"#A9A9A9\"\r\n            ],\r\n            hoverBackgroundColor: [\r\n                color,\r\n                \"#A9A9A9\"\r\n            ]\r\n        }]\r\n    };\r\n\r\n\r\n    var ctx = document.getElementById(chartId).getContext(\"2d\");\r\n\r\n// And for a doughnut chart\r\n    var myDoughnutChart = new Chart(ctx, {\r\n        type: 'doughnut',\r\n        data: data,\r\n        options: {\r\n            cutoutPercentage: 70,\r\n            rotation: 1 * Math.PI,\r\n            circumference: 1 * Math.PI,\r\n            animation: false\r\n        }\r\n    });\r\n}\r\n\r\ndrawHalfChartSide = function(chartId, mark, total, color){\r\n    $( \"canvas#\"+chartId ).replaceWith( \"<canvas id=\"+chartId+\"></canvas>\" );\r\n    var data = {\r\n        labels: [\r\n            \"Achievements\",\r\n            \"Losts\"\r\n        ],\r\n        datasets: [{\r\n            data: [mark, total-mark],\r\n            backgroundColor: [\r\n                color,\r\n                \"#A9A9A9\"\r\n            ],\r\n            hoverBackgroundColor: [\r\n                color,\r\n                \"#A9A9A9\"\r\n            ]\r\n        }]\r\n    };\r\n\r\n    var ctx = document.getElementById(chartId).getContext(\"2d\");\r\n\r\n// And for a doughnut chart\r\n    var myDoughnutChart = new Chart(ctx, {\r\n        type: 'doughnut',\r\n        data: data,\r\n        options: {\r\n            cutoutPercentage: 70,\r\n            rotation: 1 * Math.PI,\r\n            circumference: 1 * Math.PI,\r\n            animation: false\r\n        }\r\n    });\r\n}\r\n\r\ndrawPolyChartSide = function(chartId, assignments, marks){\r\n    $( \"canvas#\"+chartId ).replaceWith( \"<canvas id=\"+chartId+\"></canvas>\" );\r\n    //Get context with jQuery - using jQuery's .get() method.\r\n    var ctx = document.getElementById(chartId).getContext(\"2d\");\r\n\r\n    var data = {\r\n        labels: assignments,\r\n        datasets: [\r\n            {\r\n                label: \"M.A.T.A.\",\r\n                fill: false,\r\n                lineTension: 0.1,\r\n                backgroundColor: \"rgba(75,192,192,0.4)\",\r\n                borderColor: \"rgba(75,192,192,1)\",\r\n                borderCapStyle: 'butt',\r\n                borderDash: [],\r\n                borderDashOffset: 0.0,\r\n                borderJoinStyle: 'miter',\r\n                pointBorderColor: \"rgba(75,192,192,1)\",\r\n                pointBackgroundColor: \"#fff\",\r\n                pointBorderWidth: 1,\r\n                pointHoverRadius: 5,\r\n                pointHoverBackgroundColor: \"rgba(75,192,192,1)\",\r\n                pointHoverBorderColor: \"rgba(220,220,220,1)\",\r\n                pointHoverBorderWidth: 2,\r\n                pointRadius: 5,\r\n                pointHitRadius: 10,\r\n                data: marks,\r\n                spanGaps: false,\r\n            }\r\n        ]\r\n    };\r\n    //This will get the first returned node in the jQuery collection.\r\n    var myChart = new Chart(ctx, {\r\n        type: 'line',\r\n        data: data,\r\n        options: {\r\n            scales: {\r\n                xAxes: [{\r\n                    ticks: {\r\n                        display: false\r\n                    }\r\n                }],\r\n                yAxes: [{\r\n                    ticks: {\r\n                        display: false\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    });\r\n}","/*!\r\n * Morphext - Text Rotating Plugin for jQuery\r\n * https://github.com/MrSaints/Morphext\r\n *\r\n * Built on jQuery Boilerplate\r\n * http://jqueryboilerplate.com/\r\n *\r\n * Copyright 2014 Ian Lai and other contributors\r\n * Released under the MIT license\r\n * http://ian.mit-license.org/\r\n */\r\n\r\n/*eslint-env browser */\r\n/*global jQuery:false */\r\n/*eslint-disable no-underscore-dangle */\r\n\r\n(function ($) {\r\n    \"use strict\";\r\n\r\n    var pluginName = \"Morphext\",\r\n        defaults = {\r\n            animation: \"bounceIn\",\r\n            separator: \",\",\r\n            speed: 2000,\r\n            complete: $.noop\r\n        };\r\n\r\n    function Plugin (element, options) {\r\n        this.element = $(element);\r\n\r\n        this.settings = $.extend({}, defaults, options);\r\n        this._defaults = defaults;\r\n        this._init();\r\n    }\r\n\r\n    Plugin.prototype = {\r\n        _init: function () {\r\n            var $that = this;\r\n            this.phrases = [];\r\n\r\n            this.element.addClass(\"morphext\");\r\n\r\n            $.each(this.element.text().split(this.settings.separator), function (key, value) {\r\n                $that.phrases.push($.trim(value));\r\n            });\r\n\r\n            this.index = -1;\r\n            this.animate();\r\n            this.start();\r\n        },\r\n        animate: function () {\r\n            this.index = ++this.index % this.phrases.length;\r\n            this.element[0].innerHTML = \"<span class=\\\"animated \" + this.settings.animation + \"\\\">\" + this.phrases[this.index] + \"</span>\";\r\n\r\n            if ($.isFunction(this.settings.complete)) {\r\n                this.settings.complete.call(this);\r\n            }\r\n        },\r\n        start: function () {\r\n            var $that = this;\r\n            this._interval = setInterval(function () {\r\n                $that.animate();\r\n            }, this.settings.speed);\r\n        },\r\n        stop: function () {\r\n            this._interval = clearInterval(this._interval);\r\n        }\r\n    };\r\n\r\n    $.fn[pluginName] = function (options) {\r\n        return this.each(function() {\r\n            if (!$.data(this, \"plugin_\" + pluginName)) {\r\n                $.data(this, \"plugin_\" + pluginName, new Plugin(this, options));\r\n            }\r\n        });\r\n    };\r\n})(jQuery);\r\n","var imageStore = new FS.Store.GridFS(\"images\");\r\n\r\nexport const Images = new FS.Collection(\"images\", {\r\n  stores: [imageStore]\r\n});\r\n\r\n//Set the permissions for Images collection\r\nImages.allow({\r\n    insert: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    },\r\n    update: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    },\r\n    remove: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    },\r\n    download: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    }\r\n});\r\n","//setup for use of retreiving ALL results in algolia database\r\n\r\n// api key that connects the client side to Algolia's server\r\nvar client = AlgoliaSearch(\"GJDCY9DKEW\", \"1881fcb5fac28b033952f92b1bc33430\");\r\n\r\n// select indice (collection) of data to be accesed. In this case it would be the announcements\r\nvar index = client.initIndex('announcement');\r\n\r\n//function to search for announcements with a keyword\r\nsearchAll = function(keyword) {\r\n\r\n    //performs the search in algolia database in indice announcement\r\n    index.search(keyword, function searchDone(err, content) {\r\n\r\n        //error catch (server down, or algolia issue)\r\n        if(err) {\r\n            console.error('Algolia returned an error', err);\r\n        } else {\r\n\r\n            //retrieves number of results in content.nbHits\r\n            console.log('Received ' + content.nbHits + ' results.');\r\n\r\n            //Spits out list of announcements with the keyword\r\n            Session.set('results', content);\r\n        }\r\n    });\r\n}\r\n","//setup for use of search in algolia database\r\n\r\n// api key that connects the client side to Algolia's server\r\nvar client = AlgoliaSearch(\"GJDCY9DKEW\", \"1881fcb5fac28b033952f92b1bc33430\");\r\n\r\n// select indice (collection) of data to be accesed. In this case it would be the announcements\r\nvar index = client.initIndex('announcement');\r\n\r\n//function to search for announcements with a keyword\r\nsearchPost = function(keyword) {\r\n\r\n    //performs the search in algolia database in indice announcement\r\n    index.search(keyword, function searchDone(err, content) {\r\n\r\n        //error catch (server down, or algolia issue)\r\n        if(err) {\r\n            console.error('Algolia returned an error', err);\r\n        } else {\r\n\r\n            //retrieves number of results in content.nbHits\r\n            console.log('Received ' + content.nbHits + ' results.');\r\n\r\n            //Spits out list of announcements with the keyword\r\n            Session.set('searchContent', content);\r\n        }\r\n    });\r\n}\r\n","import {Images} from '../../api/images/images.js';\r\n\r\n//function to setup the facebook API\r\nsetupFacebook = function (callback) {\r\n    Meteor.call('getFBAppId', function (err, result) { //get the app id from server\r\n        if (err) {\r\n            console.log(\"error retreiving FB App ID\");\r\n            callback(err, null);\r\n        } else {\r\n            //Initialize the facebook SDK\r\n\r\n            FB.init({\r\n                appId: result,\r\n                status: true,\r\n                xfbml: true,\r\n                version: 'v2.9'\r\n            }, function(err, response) {\r\n                if (err) {\r\n                    console.log(err);\r\n                } else {\r\n                    console.log(response);\r\n                }\r\n            });\r\n            callback(null,1);\r\n        }\r\n    });\r\n}\r\n\r\nextendToken = function(accessToken) {\r\n    let appId, appSec;\r\n    Meteor.call('getFBAppId', function(err, response) {\r\n        appId = response;\r\n        Meteor.call('getFBSecret', function(err, response2) {\r\n            appSec = response2;\r\n            console.log(appId);\r\n            console.log(appSec);\r\n            console.log(accessToken);\r\n            $.get(\"https://graph.facebook.com/oauth/access_token\", {\r\n                grant_type:'fb_exchange_token',\r\n                client_id:appId,\r\n                client_secret:appSec,\r\n                fb_exchange_token:accessToken },\r\n                function (data) {\r\n                    console.log(data);\r\n            })\r\n        })\r\n    });\r\n\r\n}\r\n\r\n//function to post a message to facebook\r\npostTextFacebook = function (obj) {\r\n    //console.log(\"attempting to log in\");\r\n    /*FB.api('/1152573311514394/feed', 'post', {access_token: 'EAAGTzYuTCloBAFMDsZBc4ZB8Vle8L7Scrm07kYvDRc0SvaOYLwbOCQBtinhUQ4OSlRQOdNY7qgIGBDrVK60ckPdcNHZC6mZC8rANyjZCtH4XcE5qexIZCSHFDniuMyGBAcm3eZCpRDmhZA3NrNUyKa63ymrX7kQ4UKA4ThYD7CJffivm32CPIJ7i5sPcQ9X7KTGk5PgGXXpwiQZDZD',\r\n         message: obj.headline + '\\n' + obj.content},\r\n         function (response) {\r\n             console.log(response);\r\n    });*/\r\n    FB.login(function (response) {\r\n        //use this to get access token for user\r\n        //var token = response.authResponse.accessToken;\r\n        var pageToken, pageId;\r\n        console.log(response)\r\n        //make the API call to access pages\r\n        FB.api('/me/accounts', function (response) {\r\n            //console.log(response);\r\n\r\n            //store the pageToken and pageId for the first entry.\r\n            //This account is intended to only have one page as admin\r\n            pageToken = response.data[0].access_token;\r\n            pageId = response.data[0].id;\r\n            //extendToken(pageToken);\r\n\r\n            //make the API call to post as page\r\n            FB.api('/' + pageId + '/feed', 'post', {access_token: pageToken, message: obj.headline + '\\n' + obj.content}, function (response) {\r\n                console.log(response);\r\n            });\r\n\r\n        });\r\n    }, {scope: 'publish_actions,manage_pages,publish_pages'});  //permissions listed here\r\n}\r\n\r\n//test function to post with an image\r\npostImageFacebook = function (obj) {\r\n    console.log(\"posting to facebook\");\r\n    /*FB.api('/1152573311514394/feed', 'post', {access_token: 'EAAGTzYuTCloBAFMDsZBc4ZB8Vle8L7Scrm07kYvDRc0SvaOYLwbOCQBtinhUQ4OSlRQOdNY7qgIGBDrVK60ckPdcNHZC6mZC8rANyjZCtH4XcE5qexIZCSHFDniuMyGBAcm3eZCpRDmhZA3NrNUyKa63ymrX7kQ4UKA4ThYD7CJffivm32CPIJ7i5sPcQ9X7KTGk5PgGXXpwiQZDZD',\r\n        message: obj.headline,\r\n        picture: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg',\r\n        link: 'https://www.nytimes.com/2017/09/08/us/hurricane-irma-miami-florida.html?hp&action=click&pgtype=Homepage&clickSource=story-heading&module=span-ab-top-region&region=top-news&WT.nav=top-news'},  //'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'Images.findOne({'_id':obj.imgId}).url()\r\n        function (response) {\r\n            console.log(response);\r\n\r\n    });*/\r\n    FB.login(function (response) {\r\n        //use this to get access token for user\r\n        //var token = response.authResponse.accessToken;\r\n        var pageToken, pageId;\r\n\r\n        //make the API call to access pages\r\n        FB.api('/me/accounts', function (response) {\r\n            console.log(response);\r\n\r\n            //store the pageToken and pageId for the first entry.\r\n            //This account is intended to only have one page as admin\r\n            pageToken = response.data[0].access_token;\r\n            pageId = response.data[0].id;\r\n\r\n            //make the API call to post as page\r\n            FB.api('/' + pageId + '/photos', 'post', {\r\n                access_token: pageToken,\r\n                message: obj.headline,\r\n                picture: Images.findOne({'_id':obj.imgId}).url(),  //'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'\r\n                //link: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'\r\n                //url: 'https://ak.picdn.net/assets/cms/97e1dd3f8a3ecb81356fe754a1a113f31b6dbfd4-stock-photo-photo-of-a-common-kingfisher-alcedo-atthis-adult-male-perched-on-a-lichen-covered-branch-107647640.jpg'\r\n            }, function (response) {\r\n                console.log(response);\r\n            });\r\n        });\r\n    }, {scope: 'publish_actions,manage_pages,publish_pages'});  //permissions listed here\r\n}\r\n\r\n//test function to post with an image\r\npostTextImageFacebook = function (obj) {\r\n    /*FB.api('/1152573311514394/feed', 'post', {access_token: 'EAAGTzYuTCloBALbOyEn5bDSAOVexEfStqMoHHhgXdZAeaPtUZCDduZAOjEggM89N8CdpfslUkG0OVxVzZBva4gRwla4oiySttyqjpjP92ALvYGean0aG2QdooSmQGhil9fOuarbssvgrnBXy0B8lJL2nZBj9EH83oQEtrnVj7wcIW3LkV8uBS',\r\n        message: obj.headline + '\\n' + obj.content,\r\n        picture: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg',\r\n        link: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'},  //'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'Images.findOne({'_id':obj.imgId}).url()\r\n        function (response) {\r\n            console.log(response);\r\n    });*/\r\n    FB.login(function (response) {\r\n        //use this to get access token for user\r\n        //var token = response.authResponse.accessToken;\r\n        var pageToken, pageId;\r\n\r\n        //make the API call to access pages\r\n        FB.api('/me/accounts', function (response) {\r\n            console.log(response);\r\n\r\n            //store the pageToken and pageId for the first entry.\r\n            //This account is intended to only have one page as admin\r\n            pageToken = response.data[0].access_token;\r\n            pageId = response.data[0].id;\r\n\r\n            //make the API call to post as page\r\n            FB.api('/' + pageId + '/photos', 'post', {\r\n                access_token: pageToken,\r\n                message: obj.headline + '\\n' + obj.content,\r\n                picture: Images.findOne({'_id':obj.imgId}).url(),\r\n                //link: 'http://www.somebodymarketing.com/wp-content/uploads/2013/05/Stock-Dock-House.jpg'\r\n               // url: 'https://ak.picdn.net/assets/cms/97e1dd3f8a3ecb81356fe754a1a113f31b6dbfd4-stock-photo-photo-of-a-common-kingfisher-alcedo-atthis-adult-male-perched-on-a-lichen-covered-branch-107647640.jpg'\r\n            }, function (response) {\r\n                console.log(response);\r\n            });\r\n        });\r\n    }, {scope: 'publish_actions,manage_pages,publish_pages'});  //permissions listed here\r\n}\r\n","/**\r\n * Created by Yonglin Wang on 7/28/2017.\r\n *\r\n * This file manages the importing of all layouts and pages.\r\n *\r\n * A semi-colon is not necessary at the end of an import, please omit it.\r\n */\r\n//import ui files\r\nimport '../../ui/layouts/applicationLayout.js';\r\nimport '../../ui/components/navigation.js'\r\nimport '../../ui/pages/login.js';\r\nimport '../../ui/pages/stream.js';\r\nimport '../../ui/pages/firstTime.js';\r\nimport '../../ui/pages/details.js';\r\nimport '../../ui/components/editor.js';\r\nimport '../../ui/pages/course.js';\r\nimport '../../ui/pages/dashboard.js'\r\nimport '../../ui/pages/blogs.js'\r\nimport '../../ui/pages/bigPicture.js'\r\n\r\n//This file defines functions to post and setup the facebook API\r\nimport './facebook.js';\r\n//This file contains the search function used for Algolia\r\nimport './algoliaSearch.js';\r\n//This file contains the search all function used for Algolia\r\nimport './algoliaAll.js';\r\n\r\nDrafts = new Mongo.Collection('drafts');\r\nClubs = new Mongo.Collection('clubs');\r\nPosts = new Mongo.Collection('posts');\r\nCourses = new Mongo.Collection('courses');\r\nCategories = new Mongo.Collection('categories');\r\nBlogCategories = new Mongo.Collection('blogcategories');\r\nSuggestions = new Mongo.Collection('suggestions');","/**\r\n * This file defines the entry point of the client application, all initialization\r\n * behaviors are defined here.*/\r\n'use strict';\r\nimport './imports.js';\r\nimport './routes.js';\r\n\r\nDeps.autorun(function(){\r\n    Session.setDefault('searchContent', {hits:[]});\r\n    document.title = Session.get(\"DocumentTitle\");\r\n});\r\n\r\nfunction getUserLanguage() {\r\n    return \"en\";\r\n}\r\n\r\nif (Meteor.isClient) {\r\n    Meteor.startup(function () {\r\n        TAPi18n.setLanguage('en')\r\n            .done(function () {\r\n            })\r\n            .fail(function (error_message) {\r\n                // Handle the situation\r\n                console.log(error_message);\r\n            });\r\n    });\r\n}","/**\r\n * This file defines all the routing that takes place\r\n *\r\n * */\r\n\r\nlet loggedIn = FlowRouter.group({\r\n    triggersEnter: [\r\n        function () {\r\n            let route;\r\n            Session.set(\"DocumentTitle\",\"UHS Life - Crafted By Students, For Everyone\");\r\n            if (!(Meteor.loggingIn() || Meteor.userId())){\r\n                route = FlowRouter.current();\r\n                Session.set('redirectAfterLogin', route.path);\r\n                console.log(Session.get('redirectAfterLogin'));\r\n                FlowRouter.go('/login');\r\n            }else{\r\n                Tracker.autorun(function () {\r\n                    let userSub = Meteor.subscribe('allUsers');\r\n                    let user = Meteor.user();\r\n                    if(user && userSub.ready()){\r\n                        Session.setPersistent('inDash', false);\r\n                        if(!user.profile.init){\r\n                            Meteor.call('accounts.initRoles');\r\n                            FlowRouter.go('/first')\r\n                        }else{\r\n                            Session.setPersistent('name', user.services.google.name);\r\n                            if(Roles.userIsInRole(Meteor.userId(),'student')){\r\n                                Session.setPersistent('courses',user.private.courses);\r\n                                Session.setPersistent('token',user.private.token);\r\n                                Session.setPersistent('tokenExpiry',user.private.tokenDate);\r\n                            }\r\n                            Session.set('user_img', user.services.google.picture);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    ]\r\n});\r\n\r\nlet admin = FlowRouter.group({\r\n    triggersEnter: [\r\n        function () {\r\n            let route;\r\n            if (!(Meteor.loggingIn() || Meteor.userId())){\r\n                route = FlowRouter.current();\r\n                Session.set('redirectAfterLogin', route.path);\r\n                console.log(Session.get('redirectAfterLogin'));\r\n                FlowRouter.go('/login');\r\n            }else{\r\n                Session.setPersistent('inDash', true);\r\n                Tracker.autorun(function () {\r\n                    let userSub = Meteor.subscribe('allUsers');\r\n                    let user = Meteor.user();\r\n                    if(user && userSub.ready()){\r\n                        if(!user.profile.init){\r\n                            Meteor.call('accounts.initRoles');\r\n                            FlowRouter.go('/first')\r\n                        }else{\r\n                            Session.set('name', user.services.google.name);\r\n                            Session.set('id', user.profile.id);\r\n                            Session.set('courses',user.private.courses);\r\n                            Session.set('tokenExpiry',user.private.tokenDate);\r\n                            Session.set('token',user.private.token);\r\n                            Session.set('user_img', user.services.google.picture);\r\n                        }\r\n                        /*else if(!Roles.userIsInRole(user._id, 'admin')){\r\n                         alertError('Sorry', \"You do not have access to this area.\");\r\n                         FlowRouter.go('/')\r\n                         }*/\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    ]\r\n});\r\n\r\nadmin.route('/dashboard/users', {\r\n    action: function () {\r\n        Session.set(\"DocumentTitle\",\"Users - Administrative Dashboard | uhs.life\");\r\n        BlazeLayout.render('dashboard',{dash: 'dashUsers'})\r\n    }\r\n});\r\n\r\nadmin.route('/dashboard/announcements', {\r\n    action: function () {\r\n        Session.set(\"DocumentTitle\",\"All Announcements - Administrative Dashboard | uhs.life\");\r\n        BlazeLayout.render('dashboard',{dash: 'dashAnnouncements'})\r\n    }\r\n});\r\n\r\nadmin.route('/dashboard/categories', {\r\n    action: function () {\r\n        Session.set(\"DocumentTitle\",\"Categories - Administrative Dashboard | uhs.life\");\r\n        BlazeLayout.render('dashboard',{dash: 'dashCategories'})\r\n    }\r\n});\r\n\r\nadmin.route('/dashboard/organizations', {\r\n    action: function () {\r\n        Session.set(\"DocumentTitle\",\"Organizations - Administrative Dashboard | uhs.life\");\r\n        BlazeLayout.render('dashboard',{dash: 'dashOrganizations'})\r\n    }\r\n});\r\n\r\nadmin.route('/dashboard/suggestions', {\r\n    action: function () {\r\n        Session.set(\"DocumentTitle\",\"Suggestions - Administrative Dashboard | uhs.life\");\r\n        BlazeLayout.render('dashboard',{dash: 'dashSuggestions'})\r\n    }\r\n});\r\n\r\nFlowRouter.route('/login',{\r\n    waitOn: function(){\r\n        setTimeout(function() {\r\n            Accounts.loginServicesConfigured();\r\n        },500);\r\n    },\r\n    action: function(){\r\n        if(!Meteor.userId()){\r\n            Session.set('redirectAfterLogin', '/');\r\n            Session.set(\"DocumentTitle\",\"Please Login | uhs.life\");\r\n            BlazeLayout.render('applicationLayout', {main: 'login'});\r\n        }else{\r\n            FlowRouter.go('/');\r\n        }\r\n    },\r\n    name: 'login'\r\n});\r\n\r\nloggedIn.route('/stories',{\r\n    action: function () {\r\n        BlazeLayout.render('applicationLayout',{main: 'blogs'})\r\n    }\r\n});\r\n\r\nloggedIn.route('/blog/:postId',{\r\n    action: function (params) {\r\n        if(params.postId === 'preview'){\r\n            Session.setPersistent('post_data', Session.get('preview_json'))\r\n        }else{\r\n            Tracker.autorun(function () {\r\n               let post = Posts.findOne({_id: params.postId});\r\n               if(post){\r\n                   Session.set(\"DocumentTitle\", post.title + \" | uhs.life\");\r\n                   Session.setPersistent('post_data', post);\r\n               }\r\n            });\r\n        }\r\n        window.scrollTo(0, 0);\r\n        BlazeLayout.render('applicationLayout',{main: 'details'})\r\n    }\r\n});\r\n\r\nadmin.route('/dashboard',{\r\n    action: function () {\r\n        Session.set(\"DocumentTitle\",\"Administrative Dashboard | uhs.life\");\r\n        BlazeLayout.render('dashboard',{dash: 'dashHome'})\r\n    }\r\n});\r\n\r\nloggedIn.route('/course/:courseId',{\r\n    action: function (params) {\r\n        let tokenJson = Session.get('token');\r\n        console.log(tokenJson);\r\n        tokenJson.subject_id = params.courseId;\r\n        Meteor.call('getTeachAssistCourseDetails', tokenJson, function (err, data) {\r\n            if(err || data.ERROR){\r\n                if(err.error === 400){\r\n                    Modal.show('teachAssistPass');\r\n                }else{\r\n                    alertError('Something went wrong', 'We are having problems talking to teach assist. You can visit ta.yrdsb.ca for more details on your mark.')\r\n                }\r\n            }else{\r\n                console.log(data);\r\n                let a = Meteor.user().private.courses;\r\n                console.log(a);\r\n                let found;\r\n                let entry;\r\n                for (let index = 0; index < a.length; ++index) {\r\n                    entry = a[index];\r\n                    if (entry.subject_id === params.courseId) {\r\n                        found = entry;\r\n                        break;\r\n                    }\r\n                }\r\n                Session.setPersistent('displayMark', found.mark);\r\n                Session.setPersistent('courseData', data);\r\n                window.scrollTo(0, 0);\r\n                BlazeLayout.render('applicationLayout',{main: 'course'});\r\n            }\r\n        });\r\n    },\r\n    name: 'course'\r\n});\r\n\r\nloggedIn.route( '/big-picture', {\r\n    action: function() {\r\n        BlazeLayout.render('applicationLayout', {main: 'bigPicture'});\r\n    },\r\n    name: 'bigPicture' // Optional route name.\r\n});\r\n\r\nloggedIn.route( '/', {\r\n    action: function() {\r\n        Session.set(\"DocumentTitle\", \"Stream | uhs.life\");\r\n        BlazeLayout.render('applicationLayout', {main: 'stream'});\r\n    },\r\n    name: 'root' // Optional route name.\r\n});\r\n\r\nloggedIn.route( '/stream', {\r\n    action: function() {\r\n        BlazeLayout.render('applicationLayout', {main: 'stream'});\r\n    },\r\n    name: 'stream' // Optional route name.\r\n});\r\n\r\nloggedIn.route('/logout',{\r\n    action: () => {\r\n        Session.set(\"DocumentTitle\",\"Logging out...\");\r\n        Meteor.logout(function() {\r\n            Session.clear();\r\n            FlowRouter.go('/');\r\n        });\r\n    },\r\n    name: 'logout'\r\n});\r\n\r\nloggedIn.route('/first', {\r\n    action: function () {\r\n        Session.set(\"DocumentTitle\",\"Welcome to uhs.life!\");\r\n        BlazeLayout.render('applicationLayout',{main: 'firstTime'});\r\n        /*Tracker.autorun(function () {\r\n            let user = Meteor.user();\r\n            if(user){\r\n                if(user.profile.init){\r\n                    FlowRouter.go('/')\r\n                }else{\r\n                    BlazeLayout.render('applicationLayout',{main: 'firstTime'});\r\n                }\r\n            }\r\n        });*/\r\n    },\r\n    name: 'first'\r\n});\r\n\r\ncheckTokenExpiry = function () {\r\n    const now = new Date();\r\n    let diff = Math.abs(now - Session.get('tokenExpiry'));\r\n    let minutes = Math.floor((diff/1000)/60);\r\n    return minutes < 15;\r\n}","import '/imports/startup/client';\r\n\r\n"]}}]
{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./images.js","imported":["Images"],"specifiers":[{"kind":"named","imported":"Images","local":"Images"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/api/images/imagesMethods.js","filenameRelative":"imports/api/images/imagesMethods.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/api/images/imagesMethods.js.map","sourceFileName":"imports/api/images/imagesMethods.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"imagesMethods"},"ignored":false,"code":"var Images = void 0;\nmodule.watch(require(\"./images.js\"), {\n   Images: function (v) {\n      Images = v;\n   }\n}, 0);\n\nif (Meteor.isServer) {\n   Meteor.publish('images', function () {\n      function imagesPublication() {\n         return Images.find({}); //TODO only show drafts of current user\n      }\n\n      return imagesPublication;\n   }());\n}\n\nMeteor.methods({\n   'images.insert': function (image, callback) {\n      console.log(image);\n      Images.insert(image, function (err, fileObj) {\n         if (err) {\n            callback(err, null);\n         } else {\n            console.log('upload success');\n            callback(null, fileObj);\n         }\n      });\n   }\n});","map":{"version":3,"sources":["imports/api/images/imagesMethods.js"],"names":["Images","module","watch","require","v","Meteor","isServer","publish","imagesPublication","find","methods","image","callback","console","log","insert","err","fileObj"],"mappings":"AAAA,IAAIA,eAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,aAAR,CAAb,EAAoC;AAACH,SAAD,YAAQI,CAAR,EAAU;AAACJ,eAAOI,CAAP;AAAS;AAApB,CAApC,EAA0D,CAA1D;;AAEX,IAAIC,OAAOC,QAAX,EAAqB;AAClBD,UAAOE,OAAP,CAAe,QAAf;AAAyB,eAASC,iBAAT,GAA6B;AACrD,gBAAOR,OAAOS,IAAP,CAAY,EAAZ,CAAP,CADqD,CAC5B;AAC1B;;AAFA,aAAkCD,iBAAlC;AAAA;AAGF;;AAEDH,OAAOK,OAAP,CAAe;AACZ,oBAAkB,UAASC,KAAT,EAAgBC,QAAhB,EAA0B;AACzCC,cAAQC,GAAR,CAAYH,KAAZ;AACAX,aAAOe,MAAP,CAAcJ,KAAd,EAAqB,UAASK,GAAT,EAAcC,OAAd,EAAuB;AACzC,aAAID,GAAJ,EAAS;AACNJ,qBAASI,GAAT,EAAc,IAAd;AACF,UAFD,MAEO;AACJH,oBAAQC,GAAR,CAAY,gBAAZ;AACAF,qBAAS,IAAT,EAAeK,OAAf;AACF;AACH,OAPD;AAQF;AAXW,CAAf","file":"imports/api/images/imagesMethods.js.map","sourcesContent":["import { Images } from './images.js';\r\n\r\nif (Meteor.isServer) {\r\n   Meteor.publish('images', function imagesPublication() {\r\n    return Images.find({});  //TODO only show drafts of current user\r\n  });\r\n}\r\n\r\nMeteor.methods({\r\n   'images.insert' : function(image, callback) {\r\n      console.log(image);\r\n      Images.insert(image, function(err, fileObj) {\r\n         if (err) {\r\n            callback(err, null);\r\n         } else {\r\n            console.log('upload success');\r\n            callback(null, fileObj);\r\n         }\r\n      })\r\n   }\r\n})\r\n"]},"hash":"e8bcd1483c7da9596bd187ddacac57c74bb15aeb"}

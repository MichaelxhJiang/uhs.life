{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":["Images"],"specifiers":[{"kind":"local","local":"Images","exported":"Images"}]}}},"options":{"filename":"imports/api/images/images.js","filenameRelative":"imports/api/images/images.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/api/images/images.js.map","sourceFileName":"imports/api/images/images.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"images"},"ignored":false,"code":"module.export({\n   Images: function () {\n      return Images;\n   }\n});\nvar imageStore = new FS.Store.GridFS(\"images\");\nvar Images = new FS.Collection(\"images\", {\n   stores: [imageStore]\n});\n//Set the permissions for Images collection\nImages.allow({\n   insert: function () {\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\n   },\n   update: function () {\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\n   },\n   remove: function () {\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\n   },\n   download: function () {\n      return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\n   }\n});","map":{"version":3,"sources":["imports/api/images/images.js"],"names":["module","export","Images","imageStore","FS","Store","GridFS","Collection","stores","allow","insert","Roles","userIsInRole","userId","update","remove","download"],"mappings":"AAAAA,OAAOC,MAAP,CAAc;AAACC,WAAO;AAAA,aAAIA,MAAJ;AAAA;AAAR,CAAd;AAAA,IAAIC,aAAa,IAAIC,GAAGC,KAAH,CAASC,MAAb,CAAoB,QAApB,CAAjB;AAEO,IAAMJ,SAAS,IAAIE,GAAGG,UAAP,CAAkB,QAAlB,EAA4B;AAChDC,WAAQ,CAACL,UAAD;AADwC,CAA5B,CAAf;AAIP;AACAD,OAAOO,KAAP,CAAa;AACTC,WAAQ,YAAU;AACf,aAAOC,MAAMC,YAAN,CAAmB,KAAKC,MAAxB,EAAgC,CAAC,SAAD,EAAY,OAAZ,CAAhC,CAAP;AACF,IAHQ;AAITC,WAAQ,YAAU;AACf,aAAOH,MAAMC,YAAN,CAAmB,KAAKC,MAAxB,EAAgC,CAAC,SAAD,EAAY,OAAZ,CAAhC,CAAP;AACF,IANQ;AAOTE,WAAQ,YAAU;AACf,aAAOJ,MAAMC,YAAN,CAAmB,KAAKC,MAAxB,EAAgC,CAAC,SAAD,EAAY,OAAZ,CAAhC,CAAP;AACF,IATQ;AAUTG,aAAU,YAAU;AACjB,aAAOL,MAAMC,YAAN,CAAmB,KAAKC,MAAxB,EAAgC,CAAC,SAAD,EAAY,OAAZ,CAAhC,CAAP;AACF;AAZQ,CAAb","file":"imports/api/images/images.js.map","sourcesContent":["var imageStore = new FS.Store.GridFS(\"images\");\r\n\r\nexport const Images = new FS.Collection(\"images\", {\r\n  stores: [imageStore]\r\n});\r\n\r\n//Set the permissions for Images collection\r\nImages.allow({\r\n    insert: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    },\r\n    update: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    },\r\n    remove: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    },\r\n    download: function(){\r\n       return Roles.userIsInRole(this.userId, ['teacher', 'admin']);\r\n    }\r\n});\r\n"]},"hash":"8b8e0600080c73140a4c6feb08f0db295b069f8b"}

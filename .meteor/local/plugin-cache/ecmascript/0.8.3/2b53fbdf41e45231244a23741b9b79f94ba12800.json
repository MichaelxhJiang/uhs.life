{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./clubs.js","imported":["Clubs"],"specifiers":[{"kind":"named","imported":"Clubs","local":"Clubs"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/api/organizations/clubsMethods.js","filenameRelative":"imports/api/organizations/clubsMethods.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/api/organizations/clubsMethods.js.map","sourceFileName":"imports/api/organizations/clubsMethods.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"clubsMethods"},"ignored":false,"code":"var Clubs = void 0;\nmodule.watch(require(\"./clubs.js\"), {\n    Clubs: function (v) {\n        Clubs = v;\n    }\n}, 0);\n\nif (Meteor.isServer) {\n    Meteor.methods({\n        'clubs.add': function (json) {\n            if (!Roles.userIsInRole(this.userId, 'admin')) {\n                throw Meteor.Error(403, \"Your account is not allowed to do so.\");\n            }\n\n            Clubs.insert(json);\n        },\n        'clubs.remove': function (id) {\n            if (!Roles.userIsInRole(this.userId, 'admin')) {\n                throw Meteor.Error(403, \"Your account is not allowed to do so.\");\n            }\n\n            Clubs.remove(id);\n        }\n    });\n}","map":{"version":3,"sources":["imports/api/organizations/clubsMethods.js"],"names":["Clubs","module","watch","require","v","Meteor","isServer","methods","json","Roles","userIsInRole","userId","Error","insert","id","remove"],"mappings":"AAAA,IAAIA,cAAJ;AAAUC,OAAOC,KAAP,CAAaC,QAAQ,YAAR,CAAb,EAAmC;AAACH,SAAD,YAAOI,CAAP,EAAS;AAACJ,gBAAMI,CAAN;AAAQ;AAAlB,CAAnC,EAAuD,CAAvD;;AAKV,IAAGC,OAAOC,QAAV,EAAmB;AACfD,WAAOE,OAAP,CAAe;AACX,qBAAa,UAAUC,IAAV,EAAgB;AACzB,gBAAG,CAACC,MAAMC,YAAN,CAAmB,KAAKC,MAAxB,EAA+B,OAA/B,CAAJ,EAA4C;AACxC,sBAAMN,OAAOO,KAAP,CAAa,GAAb,EAAkB,uCAAlB,CAAN;AACH;;AACDZ,kBAAMa,MAAN,CAAaL,IAAb;AACH,SANU;AAOX,wBAAgB,UAAUM,EAAV,EAAc;AAC1B,gBAAG,CAACL,MAAMC,YAAN,CAAmB,KAAKC,MAAxB,EAA+B,OAA/B,CAAJ,EAA4C;AACxC,sBAAMN,OAAOO,KAAP,CAAa,GAAb,EAAkB,uCAAlB,CAAN;AACH;;AACDZ,kBAAMe,MAAN,CAAaD,EAAb;AACH;AAZU,KAAf;AAcH","file":"imports/api/organizations/clubsMethods.js.map","sourcesContent":["/**\r\n * Created by Yonglin Wang on 9/16/2017.\r\n */\r\nimport { Clubs } from './clubs.js'\r\n\r\nif(Meteor.isServer){\r\n    Meteor.methods({\r\n        'clubs.add': function (json) {\r\n            if(!Roles.userIsInRole(this.userId,'admin')){\r\n                throw Meteor.Error(403, \"Your account is not allowed to do so.\")\r\n            }\r\n            Clubs.insert(json);\r\n        },\r\n        'clubs.remove': function (id) {\r\n            if(!Roles.userIsInRole(this.userId,'admin')){\r\n                throw Meteor.Error(403, \"Your account is not allowed to do so.\")\r\n            }\r\n            Clubs.remove(id);\r\n        }\r\n    })\r\n}"]},"hash":"2b53fbdf41e45231244a23741b9b79f94ba12800"}

{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"./categories.js","imported":["Categories"],"specifiers":[{"kind":"named","imported":"Categories","local":"Categories"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"imports/api/categories/categoriesMethods.js","filenameRelative":"imports/api/categories/categoriesMethods.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/api/categories/categoriesMethods.js.map","sourceFileName":"imports/api/categories/categoriesMethods.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"categoriesMethods"},"ignored":false,"code":"var Categories = void 0;\nmodule.watch(require(\"./categories.js\"), {\n    Categories: function (v) {\n        Categories = v;\n    }\n}, 0);\nMeteor.methods({\n    'category.addNew': function (details) {\n        var categoryInfo = {\n            name: details.name,\n            description: details.description,\n            imageId: details.imgId || null,\n            featured: details.featured || false,\n            tracking: {\n                numPost: 0,\n                lastestPostIds: []\n            },\n            createdDate: new Date(),\n            children: [],\n            isSubCategory: false\n        };\n        Categories.insert(categoryInfo);\n    },\n    'category.remove': function (query) {\n        Categories.remove({\n            _id: query\n        });\n    },\n    'category.update': function (id, details) {\n        var newCategory = {\n            name: details.name,\n            description: details.description,\n            imageId: details.imgId,\n            featured: details.featured,\n            tracking: {\n                numPost: 0,\n                lastestPostIds: []\n            },\n            createdDate: new Date(),\n            children: [],\n            isSubCategory: false\n        };\n        Categories.update({\n            _id: id\n        }, {\n            $set: newCategory\n        });\n    }\n});","map":{"version":3,"sources":["imports/api/categories/categoriesMethods.js"],"names":["Categories","module","watch","require","v","Meteor","methods","details","categoryInfo","name","description","imageId","imgId","featured","tracking","numPost","lastestPostIds","createdDate","Date","children","isSubCategory","insert","query","remove","_id","id","newCategory","update","$set"],"mappings":"AAAA,IAAIA,mBAAJ;AAAeC,OAAOC,KAAP,CAAaC,QAAQ,iBAAR,CAAb,EAAwC;AAACH,cAAD,YAAYI,CAAZ,EAAc;AAACJ,qBAAWI,CAAX;AAAa;AAA5B,CAAxC,EAAsE,CAAtE;AAKfC,OAAOC,OAAP,CAAe;AACX,uBAAmB,UAAUC,OAAV,EAAmB;AAClC,YAAIC,eAAe;AACfC,kBAAMF,QAAQE,IADC;AAEfC,yBAAaH,QAAQG,WAFN;AAGfC,qBAASJ,QAAQK,KAAR,IAAiB,IAHX;AAIfC,sBAAUN,QAAQM,QAAR,IAAoB,KAJf;AAKfC,sBAAU;AACNC,yBAAS,CADH;AAENC,gCAAgB;AAFV,aALK;AASfC,yBAAa,IAAIC,IAAJ,EATE;AAUfC,sBAAU,EAVK;AAWfC,2BAAe;AAXA,SAAnB;AAaApB,mBAAWqB,MAAX,CAAkBb,YAAlB;AACH,KAhBU;AAiBX,uBAAmB,UAAUc,KAAV,EAAiB;AAChCtB,mBAAWuB,MAAX,CAAkB;AAACC,iBAAKF;AAAN,SAAlB;AACH,KAnBU;AAoBX,uBAAmB,UAAUG,EAAV,EAAclB,OAAd,EAAuB;AACtC,YAAImB,cAAc;AACdjB,kBAAMF,QAAQE,IADA;AAEdC,yBAAaH,QAAQG,WAFP;AAGdC,qBAASJ,QAAQK,KAHH;AAIdC,sBAAUN,QAAQM,QAJJ;AAKdC,sBAAU;AACNC,yBAAS,CADH;AAENC,gCAAgB;AAFV,aALI;AASdC,yBAAa,IAAIC,IAAJ,EATC;AAUdC,sBAAU,EAVI;AAWdC,2BAAe;AAXD,SAAlB;AAaApB,mBAAW2B,MAAX,CAAkB;AAACH,iBAAKC;AAAN,SAAlB,EAA4B;AAACG,kBAAMF;AAAP,SAA5B;AACH;AAnCU,CAAf","file":"imports/api/categories/categoriesMethods.js.map","sourcesContent":["/**\r\n * Created by Yonglin Wang on 8/30/2017.\r\n */\r\nimport { Categories } from './categories.js'\r\n\r\nMeteor.methods({\r\n    'category.addNew': function (details) {\r\n        let categoryInfo = {\r\n            name: details.name,\r\n            description: details.description,\r\n            imageId: details.imgId || null,\r\n            featured: details.featured || false,\r\n            tracking: {\r\n                numPost: 0,\r\n                lastestPostIds: []\r\n            },\r\n            createdDate: new Date(),\r\n            children: [],\r\n            isSubCategory: false\r\n        };\r\n        Categories.insert(categoryInfo);\r\n    },\r\n    'category.remove': function (query) {\r\n        Categories.remove({_id: query});\r\n    },\r\n    'category.update': function (id, details) {\r\n        let newCategory = {\r\n            name: details.name,\r\n            description: details.description,\r\n            imageId: details.imgId,\r\n            featured: details.featured,\r\n            tracking: {\r\n                numPost: 0,\r\n                lastestPostIds: []\r\n            },\r\n            createdDate: new Date(),\r\n            children: [],\r\n            isSubCategory: false\r\n        };\r\n        Categories.update({_id: id},{$set: newCategory});\r\n    }\r\n});"]},"hash":"c87643aee29c99386f244c97d1c804a7833cf3a0"}
